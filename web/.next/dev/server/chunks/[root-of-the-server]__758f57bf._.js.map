{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/env.ts"],"sourcesContent":["// Central helper for server-side environment variables (server-only).\n// ⚠️ Não importar este módulo em componentes com \"use client\".\nconst required = [\n  \"SUPABASE_URL\",\n  \"SUPABASE_ANON_KEY\",\n  \"SUPABASE_SERVICE_ROLE\",\n  \"DATABASE_URL\",\n  \"STRIPE_SECRET_KEY\",\n  \"STRIPE_WEBHOOK_SECRET\",\n  \"QR_SECRET_KEY\",\n  \"RESEND_API_KEY\",\n] as const;\n\ntype EnvKey = (typeof required)[number];\n\nfunction getEnv(key: EnvKey): string {\n  const value = process.env[key];\n  if (!value) {\n    throw new Error(`Missing env var: ${key}`);\n  }\n  return value;\n}\n\nfunction getOptionalUrlEnv(...keys: string[]) {\n  for (const key of keys) {\n    const value = process.env[key];\n    if (typeof value === \"string\" && value.trim().length > 0) {\n      return value.trim().replace(/\\/+$/, \"\"); // remove trailing slash para URLs previsíveis\n    }\n  }\n  return \"\";\n}\n\nfunction parseBoolean(raw: unknown, fallback: boolean) {\n  if (typeof raw === \"boolean\") return raw;\n  if (typeof raw === \"string\") {\n    const normalized = raw.trim().toLowerCase();\n    if ([\"1\", \"true\", \"yes\", \"on\"].includes(normalized)) return true;\n    if ([\"0\", \"false\", \"no\", \"off\"].includes(normalized)) return false;\n  }\n  return fallback;\n}\n\nfunction parseNumber(raw: unknown, fallback: number) {\n  const n = Number(raw);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nfunction parseList(raw: unknown) {\n  if (typeof raw !== \"string\") return [];\n  return raw\n    .split(/[,\\s]+/g)\n    .map((item) => item.trim())\n    .filter(Boolean);\n}\n\nexport const env = {\n  supabaseUrl: getEnv(\"SUPABASE_URL\"),\n  supabaseAnonKey: getEnv(\"SUPABASE_ANON_KEY\"),\n  serviceRoleKey: getEnv(\"SUPABASE_SERVICE_ROLE\"),\n  dbUrl: getEnv(\"DATABASE_URL\"),\n  stripeSecretKey: getEnv(\"STRIPE_SECRET_KEY\"),\n  stripeWebhookSecret: getEnv(\"STRIPE_WEBHOOK_SECRET\"),\n  qrSecretKey: getEnv(\"QR_SECRET_KEY\"),\n  resendApiKey: getEnv(\"RESEND_API_KEY\"),\n  resendFrom:\n    process.env.RESEND_FROM ??\n    process.env.RESEND_FROM_EMAIL ??\n    \"no-reply@orya.pt\",\n  appBaseUrl: getOptionalUrlEnv(\"APP_BASE_URL\", \"NEXT_PUBLIC_BASE_URL\", \"NEXT_PUBLIC_SITE_URL\", \"VERCEL_URL\"),\n  uploadsBucket:\n    process.env.SUPABASE_STORAGE_BUCKET_UPLOADS ??\n    process.env.SUPABASE_STORAGE_BUCKET ??\n    \"uploads\",\n  avatarsBucket: process.env.SUPABASE_STORAGE_BUCKET_AVATARS ?? \"\",\n  eventCoversBucket: process.env.SUPABASE_STORAGE_BUCKET_EVENT_COVERS ?? \"\",\n  storageSignedUrls: parseBoolean(process.env.SUPABASE_STORAGE_SIGNED_URLS, false),\n  storageSignedTtlSeconds: parseNumber(process.env.SUPABASE_STORAGE_SIGNED_TTL_SECONDS, 60 * 60 * 24 * 30), // 30 dias\n  stripePremiumPriceIds: parseList(process.env.STRIPE_PREMIUM_PRICE_IDS),\n  stripePremiumProductIds: parseList(process.env.STRIPE_PREMIUM_PRODUCT_IDS),\n};\n"],"names":[],"mappings":"AAAA,sEAAsE;AACtE,+DAA+D;;;;;AAC/D,MAAM,WAAW;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAID,SAAS,OAAO,GAAW;IACzB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;IAC9B,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,KAAK;IAC3C;IACA,OAAO;AACT;AAEA,SAAS,kBAAkB,GAAG,IAAc;IAC1C,KAAK,MAAM,OAAO,KAAM;QACtB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;QAC9B,IAAI,OAAO,UAAU,YAAY,MAAM,IAAI,GAAG,MAAM,GAAG,GAAG;YACxD,OAAO,MAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,KAAK,8CAA8C;QACzF;IACF;IACA,OAAO;AACT;AAEA,SAAS,aAAa,GAAY,EAAE,QAAiB;IACnD,IAAI,OAAO,QAAQ,WAAW,OAAO;IACrC,IAAI,OAAO,QAAQ,UAAU;QAC3B,MAAM,aAAa,IAAI,IAAI,GAAG,WAAW;QACzC,IAAI;YAAC;YAAK;YAAQ;YAAO;SAAK,CAAC,QAAQ,CAAC,aAAa,OAAO;QAC5D,IAAI;YAAC;YAAK;YAAS;YAAM;SAAM,CAAC,QAAQ,CAAC,aAAa,OAAO;IAC/D;IACA,OAAO;AACT;AAEA,SAAS,YAAY,GAAY,EAAE,QAAgB;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,UAAU,GAAY;IAC7B,IAAI,OAAO,QAAQ,UAAU,OAAO,EAAE;IACtC,OAAO,IACJ,KAAK,CAAC,WACN,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,IACvB,MAAM,CAAC;AACZ;AAEO,MAAM,MAAM;IACjB,aAAa,OAAO;IACpB,iBAAiB,OAAO;IACxB,gBAAgB,OAAO;IACvB,OAAO,OAAO;IACd,iBAAiB,OAAO;IACxB,qBAAqB,OAAO;IAC5B,aAAa,OAAO;IACpB,cAAc,OAAO;IACrB,YACE,QAAQ,GAAG,CAAC,WAAW,IACvB,QAAQ,GAAG,CAAC,iBAAiB,IAC7B;IACF,YAAY,kBAAkB,gBAAgB,wBAAwB,wBAAwB;IAC9F,eACE,QAAQ,GAAG,CAAC,+BAA+B,IAC3C,QAAQ,GAAG,CAAC,uBAAuB,IACnC;IACF,eAAe,QAAQ,GAAG,CAAC,+BAA+B,IAAI;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,oCAAoC,IAAI;IACvE,mBAAmB,aAAa,QAAQ,GAAG,CAAC,4BAA4B,EAAE;IAC1E,yBAAyB,YAAY,QAAQ,GAAG,CAAC,mCAAmC,EAAE,KAAK,KAAK,KAAK;IACrG,uBAAuB,UAAU,QAAQ,GAAG,CAAC,wBAAwB;IACrE,yBAAyB,UAAU,QAAQ,GAAG,CAAC,0BAA0B;AAC3E"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\nimport { Prisma, PrismaClient } from \"@prisma/client\";\nimport { PrismaPg } from \"@prisma/adapter-pg\";\nimport { Pool } from \"pg\";\nimport { env } from \"@/lib/env\";\n\n// Toggle de logs verbose (queries) via env: PRISMA_LOG_QUERIES=true\nconst enableQueryLog = process.env.PRISMA_LOG_QUERIES === \"true\";\nconst logLevels: (Prisma.LogLevel | Prisma.LogDefinition)[] =\n  process.env.NODE_ENV === \"development\"\n    ? enableQueryLog\n      ? [\"query\", \"error\", \"warn\"]\n      : [\"error\", \"warn\"]\n    : [\"error\"];\n\n// Evitar múltiplas instâncias em dev (hot reload)\nconst globalForPrisma = globalThis as unknown as {\n  prisma?: PrismaClient;\n};\n\n// Pool e adapter para usar o client engine (\"library\") com Postgres\nconst pool = new Pool({\n  connectionString: env.dbUrl,\n  ssl:\n    process.env.NODE_ENV === \"production\"\n      ? undefined\n      : { rejectUnauthorized: false },\n});\n\nconst adapter = new PrismaPg(pool);\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    adapter,\n    log: logLevels,\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;AACA;AACA;AACA;;;;;;;;;;AAEA,oEAAoE;AACpE,MAAM,iBAAiB,QAAQ,GAAG,CAAC,kBAAkB,KAAK;AAC1D,MAAM,YACJ,uCACI,iBACE;IAAC;IAAS;IAAS;CAAO,GAC1B;IAAC;IAAS;CAAO,GACnB;AAEN,kDAAkD;AAClD,MAAM,kBAAkB;AAIxB,oEAAoE;AACpE,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,mHAAG,CAAC,KAAK;IAC3B,KACE,sCACI,0BACA;QAAE,oBAAoB;IAAM;AACpC;AAEA,MAAM,UAAU,IAAI,8JAAQ,CAAC;AAEtB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;AACP;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/platformSettings.ts"],"sourcesContent":["import { prisma } from \"@/lib/prisma\";\n\nexport type PlatformFeeConfig = {\n  feeBps: number;\n  feeFixedCents: number;\n};\n\ntype FeeKeys =\n  | \"platform_fee_bps\"\n  | \"platform_fee_fixed_cents\"\n  | \"stripe_fee_bps_eu\"\n  | \"stripe_fee_fixed_cents_eu\";\n\ntype PlatformSettingKey = FeeKeys | \"org_transfer_enabled\";\n\nconst envPlatformFeeBps = process.env.PLATFORM_FEE_BPS ?? process.env.NEXT_PUBLIC_PLATFORM_FEE_BPS;\nconst envPlatformFeePercent = process.env.PLATFORM_FEE_PERCENT ?? process.env.NEXT_PUBLIC_PLATFORM_FEE_PERCENT;\nconst envPlatformFeeFixedCents =\n  process.env.PLATFORM_FEE_FIXED_CENTS ?? process.env.NEXT_PUBLIC_PLATFORM_FEE_FIXED_CENTS;\nconst envPlatformFeeFixedEur =\n  process.env.PLATFORM_FEE_FIXED_EUR ?? process.env.NEXT_PUBLIC_PLATFORM_FEE_FIXED_EUR;\n\nconst DEFAULT_PLATFORM_FEE_BPS = Number.isFinite(Number(envPlatformFeeBps))\n  ? Number(envPlatformFeeBps)\n  : Math.round(Number(envPlatformFeePercent ?? 0.08) * 10_000) || 800; // 8%\nconst DEFAULT_PLATFORM_FEE_FIXED_CENTS = Number.isFinite(Number(envPlatformFeeFixedCents))\n  ? Number(envPlatformFeeFixedCents)\n  : Math.round(Number(envPlatformFeeFixedEur ?? 0.3) * 100) || 30; // €0.30\n\nconst DEFAULT_STRIPE_FEE_BPS_EU = Number.isFinite(Number(process.env.STRIPE_FEE_BPS_EU))\n  ? Number(process.env.STRIPE_FEE_BPS_EU)\n  : Math.round(Number(process.env.STRIPE_FEE_PERCENT_EU ?? 0.014) * 10_000) || 140; // 1.4%\nconst DEFAULT_STRIPE_FEE_FIXED_CENTS_EU = Number.isFinite(Number(process.env.STRIPE_FEE_FIXED_CENTS_EU))\n  ? Number(process.env.STRIPE_FEE_FIXED_CENTS_EU)\n  : Math.round(Number(process.env.STRIPE_FEE_FIXED_EUR_EU ?? 0.25) * 100) || 25; // €0.25\n\nfunction parseNumber(raw: unknown, fallback: number) {\n  const n = Number(raw);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nfunction parseBoolean(raw: unknown, fallback: boolean) {\n  if (typeof raw === \"boolean\") return raw;\n  if (typeof raw === \"string\") {\n    const normalized = raw.trim().toLowerCase();\n    if ([\"1\", \"true\", \"yes\", \"on\"].includes(normalized)) return true;\n    if ([\"0\", \"false\", \"no\", \"off\"].includes(normalized)) return false;\n  }\n  return fallback;\n}\n\nasync function getSettingsMap(keys: PlatformSettingKey[]): Promise<Record<string, string>> {\n  const rows = await prisma.platformSetting.findMany({\n    where: {\n      key: {\n        in: keys,\n      },\n    },\n  });\n\n  return rows.reduce<Record<string, string>>((acc, row) => {\n    acc[row.key] = row.value;\n    return acc;\n  }, {});\n}\n\nasync function upsertSettings(values: { key: PlatformSettingKey; value: string }[]) {\n  const tasks = values.map(({ key, value }) =>\n    prisma.platformSetting.upsert({\n      where: { key },\n      create: { key, value },\n      update: { value },\n    }),\n  );\n  await Promise.all(tasks);\n}\n\n/**\n * Lê platform_settings (DB). Se não houver valores guardados, aplica defaults/env.\n */\nexport async function getPlatformFees(): Promise<PlatformFeeConfig> {\n  const map = await getSettingsMap([\"platform_fee_bps\", \"platform_fee_fixed_cents\"]);\n\n  return {\n    feeBps: parseNumber(map[\"platform_fee_bps\"], DEFAULT_PLATFORM_FEE_BPS),\n    feeFixedCents: parseNumber(map[\"platform_fee_fixed_cents\"], DEFAULT_PLATFORM_FEE_FIXED_CENTS),\n  };\n}\n\nexport async function setPlatformFees(config: Partial<PlatformFeeConfig>) {\n  const updates: { key: FeeKeys; value: string }[] = [];\n\n  if (config.feeBps !== undefined) {\n    updates.push({ key: \"platform_fee_bps\", value: String(Math.max(0, Math.round(config.feeBps))) });\n  }\n  if (config.feeFixedCents !== undefined) {\n    updates.push({\n      key: \"platform_fee_fixed_cents\",\n      value: String(Math.max(0, Math.round(config.feeFixedCents))),\n    });\n  }\n\n  if (updates.length > 0) {\n    await upsertSettings(updates);\n  }\n\n  return getPlatformFees();\n}\n\nexport async function getStripeBaseFees() {\n  const map = await getSettingsMap([\"stripe_fee_bps_eu\", \"stripe_fee_fixed_cents_eu\"]);\n\n  return {\n    feeBps: parseNumber(map[\"stripe_fee_bps_eu\"], DEFAULT_STRIPE_FEE_BPS_EU),\n    feeFixedCents: parseNumber(map[\"stripe_fee_fixed_cents_eu\"], DEFAULT_STRIPE_FEE_FIXED_CENTS_EU),\n    region: \"UE\",\n  };\n}\n\nexport async function setStripeBaseFees(config: Partial<PlatformFeeConfig>) {\n  const updates: { key: FeeKeys; value: string }[] = [];\n\n  if (config.feeBps !== undefined) {\n    updates.push({ key: \"stripe_fee_bps_eu\", value: String(Math.max(0, Math.round(config.feeBps))) });\n  }\n  if (config.feeFixedCents !== undefined) {\n    updates.push({\n      key: \"stripe_fee_fixed_cents_eu\",\n      value: String(Math.max(0, Math.round(config.feeFixedCents))),\n    });\n  }\n\n  if (updates.length > 0) {\n    await upsertSettings(updates);\n  }\n\n  return getStripeBaseFees();\n}\n\nexport async function getPlatformAndStripeFees() {\n  const [orya, stripe] = await Promise.all([getPlatformFees(), getStripeBaseFees()]);\n  return { orya, stripe };\n}\n\nexport async function getOrgTransferEnabled(): Promise<boolean> {\n  const map = await getSettingsMap([\"org_transfer_enabled\"]);\n  return parseBoolean(map[\"org_transfer_enabled\"], false);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;;AAeA,MAAM,oBAAoB,QAAQ,GAAG,CAAC,gBAAgB,IAAI,QAAQ,GAAG,CAAC,4BAA4B;AAClG,MAAM,wBAAwB,QAAQ,GAAG,CAAC,oBAAoB,IAAI,QAAQ,GAAG,CAAC,gCAAgC;AAC9G,MAAM,2BACJ,QAAQ,GAAG,CAAC,wBAAwB,IAAI,QAAQ,GAAG,CAAC,oCAAoC;AAC1F,MAAM,yBACJ,QAAQ,GAAG,CAAC,sBAAsB,IAAI,QAAQ,GAAG,CAAC,kCAAkC;AAEtF,MAAM,2BAA2B,OAAO,QAAQ,CAAC,OAAO,sBACpD,OAAO,qBACP,KAAK,KAAK,CAAC,OAAO,yBAAyB,QAAQ,WAAW,KAAK,KAAK;AAC5E,MAAM,mCAAmC,OAAO,QAAQ,CAAC,OAAO,6BAC5D,OAAO,4BACP,KAAK,KAAK,CAAC,OAAO,0BAA0B,OAAO,QAAQ,IAAI,QAAQ;AAE3E,MAAM,4BAA4B,OAAO,QAAQ,CAAC,OAAO,QAAQ,GAAG,CAAC,iBAAiB,KAClF,OAAO,QAAQ,GAAG,CAAC,iBAAiB,IACpC,KAAK,KAAK,CAAC,OAAO,QAAQ,GAAG,CAAC,qBAAqB,IAAI,SAAS,WAAW,KAAK,OAAO;AAC3F,MAAM,oCAAoC,OAAO,QAAQ,CAAC,OAAO,QAAQ,GAAG,CAAC,yBAAyB,KAClG,OAAO,QAAQ,GAAG,CAAC,yBAAyB,IAC5C,KAAK,KAAK,CAAC,OAAO,QAAQ,GAAG,CAAC,uBAAuB,IAAI,QAAQ,QAAQ,IAAI,QAAQ;AAEzF,SAAS,YAAY,GAAY,EAAE,QAAgB;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,aAAa,GAAY,EAAE,QAAiB;IACnD,IAAI,OAAO,QAAQ,WAAW,OAAO;IACrC,IAAI,OAAO,QAAQ,UAAU;QAC3B,MAAM,aAAa,IAAI,IAAI,GAAG,WAAW;QACzC,IAAI;YAAC;YAAK;YAAQ;YAAO;SAAK,CAAC,QAAQ,CAAC,aAAa,OAAO;QAC5D,IAAI;YAAC;YAAK;YAAS;YAAM;SAAM,CAAC,QAAQ,CAAC,aAAa,OAAO;IAC/D;IACA,OAAO;AACT;AAEA,eAAe,eAAe,IAA0B;IACtD,MAAM,OAAO,MAAM,yHAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;QACjD,OAAO;YACL,KAAK;gBACH,IAAI;YACN;QACF;IACF;IAEA,OAAO,KAAK,MAAM,CAAyB,CAAC,KAAK;QAC/C,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,KAAK;QACxB,OAAO;IACT,GAAG,CAAC;AACN;AAEA,eAAe,eAAe,MAAoD;IAChF,MAAM,QAAQ,OAAO,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GACtC,yHAAM,CAAC,eAAe,CAAC,MAAM,CAAC;YAC5B,OAAO;gBAAE;YAAI;YACb,QAAQ;gBAAE;gBAAK;YAAM;YACrB,QAAQ;gBAAE;YAAM;QAClB;IAEF,MAAM,QAAQ,GAAG,CAAC;AACpB;AAKO,eAAe;IACpB,MAAM,MAAM,MAAM,eAAe;QAAC;QAAoB;KAA2B;IAEjF,OAAO;QACL,QAAQ,YAAY,GAAG,CAAC,mBAAmB,EAAE;QAC7C,eAAe,YAAY,GAAG,CAAC,2BAA2B,EAAE;IAC9D;AACF;AAEO,eAAe,gBAAgB,MAAkC;IACtE,MAAM,UAA6C,EAAE;IAErD,IAAI,OAAO,MAAM,KAAK,WAAW;QAC/B,QAAQ,IAAI,CAAC;YAAE,KAAK;YAAoB,OAAO,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,MAAM;QAAI;IAChG;IACA,IAAI,OAAO,aAAa,KAAK,WAAW;QACtC,QAAQ,IAAI,CAAC;YACX,KAAK;YACL,OAAO,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,aAAa;QAC3D;IACF;IAEA,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,eAAe;IACvB;IAEA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,eAAe;QAAC;QAAqB;KAA4B;IAEnF,OAAO;QACL,QAAQ,YAAY,GAAG,CAAC,oBAAoB,EAAE;QAC9C,eAAe,YAAY,GAAG,CAAC,4BAA4B,EAAE;QAC7D,QAAQ;IACV;AACF;AAEO,eAAe,kBAAkB,MAAkC;IACxE,MAAM,UAA6C,EAAE;IAErD,IAAI,OAAO,MAAM,KAAK,WAAW;QAC/B,QAAQ,IAAI,CAAC;YAAE,KAAK;YAAqB,OAAO,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,MAAM;QAAI;IACjG;IACA,IAAI,OAAO,aAAa,KAAK,WAAW;QACtC,QAAQ,IAAI,CAAC;YACX,KAAK;YACL,OAAO,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,OAAO,aAAa;QAC3D;IACF;IAEA,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,MAAM,eAAe;IACvB;IAEA,OAAO;AACT;AAEO,eAAe;IACpB,MAAM,CAAC,MAAM,OAAO,GAAG,MAAM,QAAQ,GAAG,CAAC;QAAC;QAAmB;KAAoB;IACjF,OAAO;QAAE;QAAM;IAAO;AACxB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,eAAe;QAAC;KAAuB;IACzD,OAAO,aAAa,GAAG,CAAC,uBAAuB,EAAE;AACnD"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/api/platform/fees/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { getPlatformAndStripeFees } from \"@/lib/platformSettings\";\n\nexport async function GET() {\n  try {\n    const { orya, stripe } = await getPlatformAndStripeFees();\n    return NextResponse.json({ ok: true, orya, stripe }, { status: 200 });\n  } catch (err) {\n    console.error(\"[platform/fees] unexpected error\", err);\n    return NextResponse.json({ ok: false, error: \"INTERNAL_ERROR\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,qJAAwB;QACvD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;YAAM;QAAO,GAAG;YAAE,QAAQ;QAAI;IACrE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}