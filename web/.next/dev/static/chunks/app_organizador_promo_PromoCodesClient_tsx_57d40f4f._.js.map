{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/promo/PromoCodesClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport useSWR from \"swr\";\nimport { useAuthModal } from \"@/app/components/autenticação/AuthModalContext\";\nimport { useUser } from \"@/app/hooks/useUser\";\nimport { trackEvent } from \"@/lib/analytics\";\nimport { ConfirmDestructiveActionDialog } from \"@/app/components/ConfirmDestructiveActionDialog\";\nimport { CTA_DANGER, CTA_PRIMARY, CTA_SECONDARY } from \"@/app/organizador/dashboardUi\";\n\ntype PromoCodeDto = {\n  id: number;\n  name?: string | null;\n  description?: string | null;\n  code: string;\n  type: \"PERCENTAGE\" | \"FIXED\";\n  value: number;\n  status?: \"ACTIVE\" | \"INACTIVE\" | \"EXPIRED\";\n  maxUses: number | null;\n  perUserLimit: number | null;\n  validFrom: string | null;\n  validUntil: string | null;\n  active: boolean;\n  eventId: number | null;\n  minCartValueCents?: number | null;\n  createdAt: string;\n  updatedAt: string;\n  redemptionsCount?: number;\n  autoApply?: boolean;\n  minQuantity?: number | null;\n  minTotalCents?: number | null;\n};\n\ntype ListResponse = {\n  ok: boolean;\n  promoCodes: PromoCodeDto[];\n  events: { id: number; title: string; slug: string }[];\n  promoStats?: {\n    promoCodeId: number;\n    tickets: number;\n    grossCents: number;\n    discountCents: number;\n    platformFeeCents: number;\n    netCents: number;\n    usesTotal?: number;\n    usersUnique?: number;\n  }[];\n  error?: string;\n};\n\ntype PromoDetailResponse =\n  | {\n      ok: true;\n      promo: PromoCodeDto & {\n        name?: string | null;\n        description?: string | null;\n        minCartValueCents?: number | null;\n      };\n      stats: {\n        usesTotal: number;\n        usersUnique: number;\n        tickets: number;\n        grossCents: number;\n        discountCents: number;\n        netCents: number;\n        newUsers: number;\n        returningUsers: number;\n      };\n      topEvents: { id: number; title: string; slug: string | null; uses: number }[];\n      history: {\n        id: number;\n        usedAt: string;\n        discountCents: number;\n        items: number;\n        userLabel: string;\n        event: { id: number; title: string; slug: string | null } | null;\n      }[];\n    }\n  | { ok: false; error?: string };\n\nconst fetcher = (url: string) => fetch(url).then((r) => r.json());\n\nconst SUGGESTED_CODES = [\n  { code: \"ORYA10\", type: \"PERCENTAGE\" as const, value: \"10\", hint: \"Friends & Family · 10%\" },\n  { code: \"EARLY15\", type: \"PERCENTAGE\" as const, value: \"15\", hint: \"Early bird limitado\" },\n  { code: \"TEAM5\", type: \"FIXED\" as const, value: \"5\", hint: \"5 € por pessoa para grupos\" },\n];\n\nconst EMPTY_FORM = {\n  name: \"\",\n  description: \"\",\n  code: \"\",\n  type: \"PERCENTAGE\" as \"PERCENTAGE\" | \"FIXED\",\n  value: \"10\",\n  maxUses: \"\",\n  perUserLimit: \"\",\n  validFrom: \"\",\n  validUntil: \"\",\n  eventId: \"global\",\n  active: true,\n  autoApply: false,\n  minQuantity: \"\",\n  minTotal: \"\",\n  minCart: \"\",\n};\n\nfunction PromoStatusBadge({ status, active }: { status?: \"ACTIVE\" | \"INACTIVE\" | \"EXPIRED\"; active: boolean }) {\n  const finalStatus = status || (active ? \"ACTIVE\" : \"INACTIVE\");\n  const className =\n    finalStatus === \"EXPIRED\"\n      ? \"border border-amber-400/40 bg-amber-500/15 text-amber-100\"\n      : finalStatus === \"ACTIVE\"\n        ? \"border border-emerald-400/40 bg-emerald-500/15 text-emerald-100\"\n        : \"border border-white/15 bg-white/10 text-white/70\";\n  return (\n    <span className={`inline-flex rounded-full px-3 py-1 text-[11px] ${className}`}>\n      {finalStatus === \"EXPIRED\" ? \"Expirada\" : finalStatus === \"ACTIVE\" ? \"Ativo\" : \"Inativo\"}\n    </span>\n  );\n}\n\nexport default function PromoCodesClient() {\n  const { user } = useUser();\n  const { openModal } = useAuthModal();\n  const { data, mutate } = useSWR<ListResponse>(user ? \"/api/organizador/promo\" : null, fetcher);\n\n  const [filters, setFilters] = useState({\n    eventId: \"all\",\n    status: \"all\" as \"all\" | \"active\" | \"inactive\" | \"auto\",\n    q: \"\",\n  });\n  const [form, setForm] = useState(EMPTY_FORM);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [deleteId, setDeleteId] = useState<number | null>(null);\n  const [detailId, setDetailId] = useState<number | null>(null);\n  const [detail, setDetail] = useState<PromoDetailResponse | null>(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const [detailError, setDetailError] = useState<string | null>(null);\n\n  const loading = !data;\n  useEffect(() => {\n    if (!user && !data) {\n      openModal({ mode: \"login\", redirectTo: \"/organizador/promo\", showGoogle: true });\n    }\n  }, [user, data, openModal]);\n\n  const events = useMemo(() => data?.events ?? [], [data]);\n  const promos = useMemo(() => data?.promoCodes ?? [], [data]);\n  const promoStats = useMemo(() => data?.promoStats ?? [], [data]);\n  const promoStatsMap = useMemo(() => new Map(promoStats.map((s) => [s.promoCodeId, s])), [promoStats]);\n\n  const filteredPromos = useMemo(() => {\n    return promos.filter((p) => {\n      const autoApply = !!p.autoApply;\n      if (filters.eventId !== \"all\" && `${p.eventId ?? \"global\"}` !== filters.eventId) return false;\n      if (filters.status === \"active\" && !p.active) return false;\n      if (filters.status === \"inactive\" && p.active) return false;\n      if (filters.status === \"auto\" && !autoApply) return false;\n      if (filters.q.trim()) {\n        const q = filters.q.toLowerCase();\n        const haystack = `${p.code} ${p.name ?? \"\"} ${p.description ?? \"\"}`.toLowerCase();\n        if (!haystack.includes(q)) return false;\n      }\n      return true;\n    });\n  }, [promos, filters]);\n\n  const handleSubmit = async () => {\n    setSaving(true);\n    setError(null);\n    setSuccess(null);\n    try {\n      const numericValue = Number(form.value);\n      if (form.type === \"PERCENTAGE\") {\n        if (!Number.isFinite(numericValue) || numericValue <= 0 || numericValue > 100) {\n          setError(\"Percentagem inválida. Usa 1% a 100%.\");\n          setSaving(false);\n          return;\n        }\n      } else if (!Number.isFinite(numericValue) || numericValue < 0) {\n        setError(\"Valor inválido. Usa um número igual ou superior a 0.\");\n        setSaving(false);\n        return;\n      }\n\n      const payload = {\n        name: form.name.trim() || undefined,\n        description: form.description.trim() || undefined,\n        code: form.code.trim(),\n        type: form.type,\n        value:\n          form.type === \"PERCENTAGE\"\n            ? Math.round(numericValue * 100) // guardamos em bps\n            : Math.round(numericValue * 100), // euros -> cents\n        maxUses: form.maxUses ? Number(form.maxUses) : null,\n        perUserLimit: form.perUserLimit ? Number(form.perUserLimit) : null,\n        validFrom: form.validFrom || null,\n        validUntil: form.validUntil || null,\n        eventId: form.eventId === \"global\" ? null : Number(form.eventId),\n        active: form.active,\n        autoApply: form.autoApply,\n        minQuantity: form.minQuantity ? Number(form.minQuantity) : null,\n        minTotalCents: form.minTotal ? Math.round(Number(form.minTotal) * 100) : null,\n        minCartValueCents: form.minCart ? Math.round(Number(form.minCart) * 100) : null,\n      };\n      const res = await fetch(\"/api/organizador/promo\", {\n        method: editingId ? \"PATCH\" : \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(editingId ? { id: editingId, ...payload } : payload),\n      });\n      const json = await res.json().catch(() => null);\n      if (!res.ok || json?.ok === false) {\n        setError(json?.error || \"Não foi possível guardar o código.\");\n      } else {\n        trackEvent(\"promo_code_created\", {\n          scope: payload.eventId ? \"event\" : \"global\",\n          type: payload.type,\n        });\n        setSuccess(editingId ? \"Código atualizado.\" : \"Código criado com sucesso.\");\n        setForm({ ...EMPTY_FORM, code: \"\" });\n        setEditingId(null);\n        mutate();\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Erro inesperado ao guardar código.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleEdit = (promo: PromoCodeDto) => {\n    setEditingId(promo.id);\n    setForm({\n      name: promo.name ?? \"\",\n      description: promo.description ?? \"\",\n      code: promo.code,\n      type: promo.type,\n      value: promo.type === \"PERCENTAGE\" ? String(promo.value / 100) : String(promo.value / 100),\n      maxUses: promo.maxUses != null ? String(promo.maxUses) : \"\",\n      perUserLimit: promo.perUserLimit != null ? String(promo.perUserLimit) : \"\",\n      validFrom: promo.validFrom ?? \"\",\n      validUntil: promo.validUntil ?? \"\",\n      eventId: promo.eventId == null ? \"global\" : String(promo.eventId),\n      active: promo.active,\n      autoApply: !!promo.autoApply,\n      minQuantity: promo.minQuantity != null ? String(promo.minQuantity) : \"\",\n      minTotal: promo.minTotalCents != null ? String(promo.minTotalCents / 100) : \"\",\n      minCart: promo.minCartValueCents != null ? String(promo.minCartValueCents / 100) : \"\",\n    });\n    setSuccess(null);\n    setError(null);\n  };\n\n  const handleDelete = async (id: number) => {\n    try {\n      const res = await fetch(\"/api/organizador/promo\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ id }),\n      });\n      if (!res.ok) {\n        const j = await res.json().catch(() => null);\n        setError(j?.error || \"Erro ao apagar o código.\");\n      } else {\n        trackEvent(\"promo_code_deleted\", { promoId: id });\n        if (editingId === id) setEditingId(null);\n        mutate();\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Erro inesperado ao apagar código.\");\n    } finally {\n      setDeleteId(null);\n    }\n  };\n\n  const handleToggle = async (id: number, active: boolean) => {\n    try {\n      await fetch(\"/api/organizador/promo\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ id, active }),\n      });\n      trackEvent(active ? \"promo_code_activated\" : \"promo_code_deactivated\", { promoId: id });\n      mutate();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleOpenDetail = async (promoId: number) => {\n    setDetailId(promoId);\n    setDetail(null);\n    setDetailError(null);\n    setDetailLoading(true);\n    try {\n      const res = await fetch(`/api/organizador/promo/${promoId}`);\n      const json: PromoDetailResponse = await res.json();\n      if (!res.ok || json.ok === false) {\n        setDetailError(json && \"error\" in json ? json.error || \"Erro ao carregar detalhe.\" : \"Erro ao carregar detalhe.\");\n      } else {\n        setDetail(json);\n      }\n    } catch (err) {\n      console.error(err);\n      setDetailError(\"Erro ao carregar detalhe.\");\n    } finally {\n      setDetailLoading(false);\n    }\n  };\n\n  const emptyState = filteredPromos.length === 0 && !loading;\n\n  const stats = useMemo(() => {\n    const total = promos.length;\n    const active = promos.filter((p) => p.active).length;\n    const redemptions = promos.reduce((acc, p) => acc + (p.redemptionsCount ?? 0), 0);\n    const totalDiscount = promoStats.reduce((acc, s) => acc + (s.discountCents ?? 0), 0);\n    const totalGross = promoStats.reduce((acc, s) => acc + (s.grossCents ?? 0), 0);\n    const usersUnique = promoStats.reduce((acc, s) => acc + (s.usersUnique ?? 0), 0);\n    return { total, active, redemptions, totalDiscount, totalGross, usersUnique };\n  }, [promos, promoStats]);\n\n  const formatEuro = (cents: number) => `${(cents / 100).toFixed(2)} €`;\n  const formatDateTime = (iso: string) => new Date(iso).toLocaleString(\"pt-PT\");\n  const statsFor = (promoId: number) =>\n    promoStatsMap.get(promoId) ?? { tickets: 0, grossCents: 0, discountCents: 0, netCents: 0, usesTotal: 0, usersUnique: 0 };\n\n  const previewPrice = 20; // € exemplo\n  const preview = useMemo(() => {\n    const valueNum = Number(form.value) || 0;\n    const baseCents = Math.max(0, Math.round(previewPrice * 100));\n    const discountCents =\n      form.type === \"PERCENTAGE\"\n        ? Math.min(baseCents, Math.round((baseCents * Math.min(100, Math.max(0, valueNum))) / 100))\n        : Math.min(baseCents, Math.round(valueNum * 100));\n    const totalCents = Math.max(0, baseCents - discountCents);\n    return {\n      base: baseCents / 100,\n      discount: discountCents / 100,\n      total: totalCents / 100,\n    };\n  }, [form.type, form.value]);\n\n  const selectedEventLabel = useMemo(() => {\n    if (form.eventId === \"global\") return \"Global\";\n    return events.find((ev) => String(ev.id) === form.eventId)?.title ?? \"Evento\";\n  }, [form.eventId, events]);\n\n  const valueDisplay =\n    form.value !== \"\"\n      ? form.type === \"PERCENTAGE\"\n        ? `${form.value}%`\n        : `${form.value} €`\n      : \"—\";\n  const validityLabel =\n    form.validFrom || form.validUntil\n      ? `${form.validFrom ? form.validFrom.replace(\"T\", \" \") : \"Sem início\"} a ${\n          form.validUntil ? form.validUntil.replace(\"T\", \" \") : \"Sem fim\"\n        }`\n      : \"Sem validade\";\n  const limitSummary = useMemo(() => {\n    const parts: string[] = [];\n    if (form.maxUses !== \"\") parts.push(`Max ${form.maxUses} usos`);\n    if (form.perUserLimit !== \"\") parts.push(`Por pessoa ${form.perUserLimit}`);\n    if (form.minQuantity !== \"\") parts.push(`Min qtd ${form.minQuantity}`);\n    if (form.minTotal !== \"\") parts.push(`Min total ${form.minTotal} €`);\n    if (form.minCart !== \"\") parts.push(`Min carrinho ${form.minCart} €`);\n    return parts.length ? parts.join(\" · \") : \"Sem limites\";\n  }, [form.maxUses, form.perUserLimit, form.minQuantity, form.minTotal, form.minCart]);\n\n  const inputBase =\n    \"w-full rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm text-white placeholder:text-white/35 outline-none transition focus:border-white/40 focus:ring-2 focus:ring-white/10\";\n  const labelBase = \"space-y-1 text-sm text-white/80\";\n  const helperText = \"text-[11px] text-white/55\";\n  const sectionCard = \"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-[0_10px_34px_rgba(0,0,0,0.28)]\";\n  const typeToggleBase = \"flex-1 rounded-lg px-3 py-2 text-[12px] font-semibold transition\";\n  const typeToggleActive = \"bg-white/20 text-white shadow-[0_10px_24px_rgba(0,0,0,0.35)]\";\n  const typeToggleInactive = \"text-white/60 hover:text-white hover:bg-white/5\";\n\n  const applySuggestion = (code: string, type: \"PERCENTAGE\" | \"FIXED\", value: string) => {\n    setForm((prev) => ({ ...prev, code, type, value }));\n  };\n\n  return (\n    <section className=\"w-full px-4 py-8 space-y-6 text-white md:px-6 lg:px-8\">\n      <header className=\"rounded-3xl border border-white/12 bg-gradient-to-br from-white/8 via-[#0b1124]/70 to-[#050810]/90 p-5 shadow-[0_24px_80px_rgba(0,0,0,0.55)] backdrop-blur-2xl space-y-1\">\n        <p className=\"text-[11px] uppercase tracking-[0.3em] text-white/70\">Marketing</p>\n        <h1 className=\"text-2xl font-semibold\">Códigos promocionais</h1>\n        <p className=\"text-sm text-white/70\">\n          Cria códigos de desconto por evento ou globais. Podes ativar/desativar ou definir auto-aplicação a qualquer momento.\n        </p>\n      </header>\n\n      <div className=\"grid grid-cols-1 gap-3 rounded-xl border border-white/10 bg-white/5 p-3 sm:grid-cols-4\">\n        {loading\n          ? [...Array(3)].map((_, idx) => (\n              <div key={idx} className=\"animate-pulse space-y-2\">\n                <div className=\"h-3 w-24 rounded bg-white/15\" />\n                <div className=\"h-6 w-20 rounded bg-white/20\" />\n              </div>\n            ))\n          : (\n            <>\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/60\">Total</p>\n                <p className=\"text-2xl font-semibold\">{stats.total}</p>\n              </div>\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/60\">Ativos</p>\n                <p className=\"text-2xl font-semibold\">{stats.active}</p>\n              </div>\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/60\">Utilizações</p>\n                <p className=\"text-2xl font-semibold\">{stats.redemptions}</p>\n                <p className=\"text-[11px] text-white/50\">Conta bilhetes (sale_lines)</p>\n              </div>\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/60\">Desconto total</p>\n                <p className=\"text-2xl font-semibold\">{formatEuro(stats.totalDiscount)}</p>\n                <p className=\"text-[11px] text-white/50\">Bruto via promo: {formatEuro(stats.totalGross)}</p>\n                <p className=\"text-[11px] text-white/50\">Users únicos: {stats.usersUnique}</p>\n              </div>\n            </>\n          )}\n      </div>\n\n      <div className=\"flex flex-wrap items-center gap-2 text-[12px]\">\n        <label className=\"flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1\">\n          Evento:\n          <select\n            value={filters.eventId}\n            onChange={(e) => setFilters((p) => ({ ...p, eventId: e.target.value }))}\n            className=\"bg-transparent outline-none\"\n          >\n            <option value=\"all\">Todos</option>\n            <option value=\"global\">Globais</option>\n            {events.map((ev) => (\n              <option key={ev.id} value={ev.id}>\n                {ev.title}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <label className=\"flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1\">\n          Estado:\n          <select\n            value={filters.status}\n            onChange={(e) => setFilters((p) => ({ ...p, status: e.target.value as typeof filters.status }))}\n            className=\"bg-transparent outline-none\"\n          >\n            <option value=\"all\">Todos</option>\n            <option value=\"active\">Ativos</option>\n            <option value=\"inactive\">Inativos</option>\n            <option value=\"auto\">Auto-aplicados</option>\n          </select>\n          </label>\n        <label className=\"flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1\">\n          Pesquisa:\n          <input\n            type=\"text\"\n            value={filters.q}\n            onChange={(e) => setFilters((p) => ({ ...p, q: e.target.value }))}\n            className=\"bg-transparent outline-none placeholder:text-white/40\"\n            placeholder=\"Nome ou código\"\n          />\n        </label>\n        </div>\n\n        <div className=\"rounded-xl border border-white/10 bg-white/5 p-3 space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <p className=\"text-white/80 font-semibold\">Sugestões de códigos</p>\n            <span className=\"text-[11px] text-white/60\">Preenche o formulário com 1 clique</span>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            {SUGGESTED_CODES.map((item) => (\n              <button\n                key={item.code}\n                type=\"button\"\n                onClick={() => applySuggestion(item.code, item.type, item.value)}\n                className=\"flex items-center gap-2 rounded-full border border-white/15 bg-black/30 px-3 py-1.5 text-[12px] text-white/80 hover:border-white/30\"\n              >\n                <span className=\"font-semibold\">{item.code}</span>\n                <span className=\"text-white/60\">{item.hint}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"overflow-auto rounded-xl border border-white/10\">\n          {loading ? (\n            <div className=\"space-y-2 p-3\">\n              {Array.from({ length: 3 }).map((_, idx) => (\n                <div key={idx} className=\"flex items-center justify-between rounded-lg border border-white/10 bg-black/30 p-3 animate-pulse\">\n                  <div className=\"space-y-2\">\n                    <div className=\"h-3 w-24 rounded bg-white/15\" />\n                    <div className=\"h-3 w-32 rounded bg-white/10\" />\n                  </div>\n                  <div className=\"h-7 w-20 rounded-full bg-white/10\" />\n                </div>\n              ))}\n            </div>\n          ) : emptyState ? (\n            <div className=\"flex flex-col gap-3 p-5 text-white\">\n              <div>\n                <p className=\"text-lg font-semibold\">Ainda não tens códigos promocionais.</p>\n                <p className=\"text-sm text-white/70\">Cria o teu primeiro código para recompensar equipas, amigos ou early birds.</p>\n              </div>\n              <div className=\"flex flex-wrap gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    const el = document?.getElementById(\"promo-form\");\n                    el?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n                  }}\n                  className=\"rounded-full bg-white px-4 py-2 text-sm font-semibold text-black shadow hover:scale-[1.01]\"\n                >\n                  Criar primeiro código\n                </button>\n                <div className=\"flex flex-wrap gap-2\">\n                  {SUGGESTED_CODES.map((item) => (\n                    <button\n                      key={item.code}\n                      type=\"button\"\n                      onClick={() => applySuggestion(item.code, item.type, item.value)}\n                      className=\"rounded-full border border-white/15 bg-black/40 px-3 py-1.5 text-[12px] text-white/80 hover:border-white/30\"\n                    >\n                      {item.code} · {item.hint}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <table className=\"min-w-full text-left text-sm text-white/80\">\n              <thead className=\"bg-white/5 text-[12px] uppercase tracking-[0.12em] text-white/60\">\n                <tr>\n          <th className=\"px-3 py-2\">Código</th>\n          <th className=\"px-3 py-2\">Nome</th>\n          <th className=\"px-3 py-2\">Evento</th>\n          <th className=\"px-3 py-2\">Valor</th>\n                  <th className=\"px-3 py-2\">Usos</th>\n                  <th className=\"px-3 py-2\">Utilizadores</th>\n                  <th className=\"px-3 py-2\">Bilhetes</th>\n                  <th className=\"px-3 py-2\">Bruto</th>\n                  <th className=\"px-3 py-2\">Desconto</th>\n                  <th className=\"px-3 py-2\">Líquido</th>\n                  <th className=\"px-3 py-2\">Estado</th>\n                  <th className=\"px-3 py-2 text-right\">Ações</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredPromos.map((promo) => {\n                  const s = statsFor(promo.id);\n                  return (\n                    <tr key={promo.id} className=\"border-t border-white/10\">\n                      <td className=\"px-3 py-2 font-semibold text-white\">\n                        <div className=\"flex flex-col\">\n                          <span>{promo.code}</span>\n                          {promo.autoApply && (\n                            <span className=\"mt-1 inline-flex w-fit rounded-full border border-emerald-300/40 bg-emerald-500/10 px-2 py-0.5 text-[10px] uppercase tracking-wide text-emerald-100\">\n                              Auto\n                            </span>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-3 py-2 text-white/80\">{promo.name ?? \"—\"}</td>\n                      <td className=\"px-3 py-2\">\n                        {promo.eventId == null\n                          ? \"Global\"\n                          : events.find((ev) => ev.id === promo.eventId)?.title || \"Evento removido\"}\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        {promo.type === \"PERCENTAGE\"\n                          ? `${(promo.value / 100).toFixed(2).replace(/\\\\.00$/, \"\")}%`\n                          : `${(promo.value / 100).toFixed(2).replace(/\\\\.00$/, \"\")} €`}\n                      </td>\n                      <td className=\"px-3 py-2\">{s.usesTotal ?? promo.redemptionsCount ?? 0}</td>\n                      <td className=\"px-3 py-2\">{s.usersUnique ?? 0}</td>\n                      <td className=\"px-3 py-2\">\n                        {s.tickets}\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        {formatEuro(s.grossCents ?? 0)}\n                      </td>\n                      <td className=\"px-3 py-2 text-emerald-200\">\n                        -{formatEuro(s.discountCents ?? 0)}\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        {formatEuro(s.netCents ?? 0)}\n                      </td>\n                      <td className=\"px-3 py-2\">\n                        <PromoStatusBadge status={promo.status} active={promo.active} />\n                      </td>\n                      <td className=\"px-3 py-2 text-right\">\n                        <div className=\"flex flex-wrap items-center justify-end gap-2\">\n                          <button\n                            type=\"button\"\n                            onClick={() => handleOpenDetail(promo.id)}\n                            className={`${CTA_SECONDARY} px-3 py-1 text-[11px]`}\n                          >\n                            Ver detalhe\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={() => handleEdit(promo)}\n                            className={`${CTA_SECONDARY} px-3 py-1 text-[11px]`}\n                          >\n                            Editar\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={() => handleToggle(promo.id, !promo.active)}\n                            className={`${CTA_SECONDARY} px-3 py-1 text-[11px]`}\n                          >\n                            {promo.active ? \"Desativar\" : \"Ativar\"}\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={() => setDeleteId(promo.id)}\n                            className={`${CTA_DANGER} px-3 py-1 text-[11px]`}\n                          >\n                            Apagar\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n        </div>\n\n        <ConfirmDestructiveActionDialog\n          open={deleteId !== null}\n          title=\"Apagar código promocional?\"\n          description=\"Esta ação desativa o código e impede novas utilizações. Mantemos o histórico existente.\"\n          consequences={[\n            \"O código deixa de ser aplicável no checkout.\",\n            \"Mantemos histórico de utilizações anteriores.\",\n          ]}\n          confirmLabel=\"Apagar código\"\n          cancelLabel=\"Cancelar\"\n          dangerLevel=\"high\"\n          onClose={() => setDeleteId(null)}\n          onConfirm={() => {\n            if (deleteId !== null) handleDelete(deleteId);\n          }}\n        />\n\n        <div\n          id=\"promo-form\"\n          className=\"rounded-2xl border border-white/10 bg-gradient-to-br from-white/8 via-[#0b1124]/70 to-[#050810]/90 p-5 shadow-[0_24px_70px_rgba(0,0,0,0.45)] space-y-5\"\n        >\n          <div className=\"flex flex-wrap items-start justify-between gap-3\">\n            <div className=\"space-y-1\">\n              <p className=\"text-[11px] uppercase tracking-[0.24em] text-white/60\">Criar promo</p>\n              <h2 className=\"text-xl font-semibold text-white\">Criar / editar código</h2>\n              <p className=\"text-sm text-white/65\">\n                Define o desconto, validade e regras de uso. O resumo ajuda a validar antes de guardar.\n              </p>\n            </div>\n            {editingId !== null && (\n              <span className=\"inline-flex items-center rounded-full border border-amber-300/40 bg-amber-500/15 px-3 py-1 text-[11px] uppercase tracking-wide text-amber-100\">\n                A editar\n              </span>\n            )}\n          </div>\n\n          <div className=\"grid gap-4 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]\">\n            <div className=\"space-y-4\">\n              <div className={sectionCard}>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold text-white\">Identidade</h3>\n                  <span className=\"text-[11px] text-white/50\">Notas internas</span>\n                </div>\n                <div className=\"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2\">\n                  <label className={labelBase}>\n                    <span>Nome interno</span>\n                    <input\n                      value={form.name}\n                      onChange={(e) => setForm((p) => ({ ...p, name: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: Early bird maio\"\n                    />\n                    <span className={helperText}>Visível apenas para ti.</span>\n                  </label>\n                  <label className={labelBase}>\n                    <span>Descrição (opcional)</span>\n                    <input\n                      value={form.description}\n                      onChange={(e) => setForm((p) => ({ ...p, description: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Notas internas ou condições\"\n                    />\n                    <span className={helperText}>Condições ou notas curtas.</span>\n                  </label>\n                  <label className={`${labelBase} sm:col-span-2`}>\n                    <span>Código</span>\n                    <input\n                      value={form.code}\n                      onChange={(e) => setForm((p) => ({ ...p, code: e.target.value.toUpperCase() }))}\n                      className={`${inputBase} font-semibold uppercase tracking-[0.2em]`}\n                      placeholder=\"ORYA10\"\n                    />\n                    <span className={helperText}>Sem espaços. Ex.: ORYA10</span>\n                  </label>\n                </div>\n              </div>\n\n              <div className={sectionCard}>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold text-white\">Desconto</h3>\n                  <span className=\"text-[11px] text-white/50\">Obrigatório</span>\n                </div>\n                <div className=\"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-[160px_minmax(0,1fr)]\">\n                  <div className={labelBase}>\n                    <span>Tipo</span>\n                    <div className=\"mt-1 flex rounded-xl border border-white/10 bg-black/30 p-1\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setForm((p) => ({ ...p, type: \"PERCENTAGE\" }))}\n                        className={`${typeToggleBase} ${\n                          form.type === \"PERCENTAGE\" ? typeToggleActive : typeToggleInactive\n                        }`}\n                        aria-pressed={form.type === \"PERCENTAGE\"}\n                      >\n                        Percentagem\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => setForm((p) => ({ ...p, type: \"FIXED\" }))}\n                        className={`${typeToggleBase} ${\n                          form.type === \"FIXED\" ? typeToggleActive : typeToggleInactive\n                        }`}\n                        aria-pressed={form.type === \"FIXED\"}\n                      >\n                        Valor fixo\n                      </button>\n                    </div>\n                    <span className={helperText}>Percentagem ou euros.</span>\n                  </div>\n                  <label className={labelBase}>\n                    <span>Valor</span>\n                    <div className=\"relative\">\n                      <input\n                        type=\"number\"\n                        min={0}\n                        max={form.type === \"PERCENTAGE\" ? 100 : undefined}\n                        step=\"0.01\"\n                        value={form.value}\n                        onChange={(e) => setForm((p) => ({ ...p, value: e.target.value }))}\n                        className={`${inputBase} pr-12`}\n                        placeholder={form.type === \"PERCENTAGE\" ? \"Ex.: 10 = 10%\" : \"Ex.: 5 = 5 €\"}\n                      />\n                      <span className=\"absolute inset-y-0 right-3 flex items-center text-[12px] text-white/60\">\n                        {form.type === \"PERCENTAGE\" ? \"%\" : \"€\"}\n                      </span>\n                    </div>\n                    <span className={helperText}>\n                      {form.type === \"PERCENTAGE\" ? \"Entre 1% e 100%.\" : \"Valor fixo em euros.\"}\n                    </span>\n                  </label>\n                </div>\n              </div>\n\n              <div className={sectionCard}>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold text-white\">Validade e escopo</h3>\n                  <span className=\"text-[11px] text-white/50\">Global ou por evento</span>\n                </div>\n                <div className=\"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2\">\n                  <label className={`${labelBase} sm:col-span-2`}>\n                    <span>Evento</span>\n                    <select\n                      value={form.eventId}\n                      onChange={(e) => setForm((p) => ({ ...p, eventId: e.target.value }))}\n                      className={inputBase}\n                    >\n                      <option value=\"global\">Global</option>\n                      {events.map((ev) => (\n                        <option key={ev.id} value={ev.id}>\n                          {ev.title}\n                        </option>\n                      ))}\n                    </select>\n                    <span className={helperText}>Global aplica-se a todos os eventos.</span>\n                  </label>\n                  <label className={labelBase}>\n                    <span>Válido de</span>\n                    <input\n                      type=\"datetime-local\"\n                      value={form.validFrom}\n                      onChange={(e) => setForm((p) => ({ ...p, validFrom: e.target.value }))}\n                      className={inputBase}\n                    />\n                  </label>\n                  <label className={labelBase}>\n                    <span>Válido até</span>\n                    <input\n                      type=\"datetime-local\"\n                      value={form.validUntil}\n                      onChange={(e) => setForm((p) => ({ ...p, validUntil: e.target.value }))}\n                      className={inputBase}\n                    />\n                  </label>\n                </div>\n              </div>\n\n              <div className={sectionCard}>\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold text-white\">Regras de uso</h3>\n                  <span className=\"text-[11px] text-white/50\">Limites opcionais</span>\n                </div>\n                <div className=\"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2\">\n                  <label className={labelBase}>\n                    <span>Nº máximo de utilizações</span>\n                    <input\n                      type=\"number\"\n                      min={0}\n                      value={form.maxUses}\n                      onChange={(e) => setForm((p) => ({ ...p, maxUses: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: 200 (opcional)\"\n                    />\n                  </label>\n                  <label className={labelBase}>\n                    <span>Limite por pessoa</span>\n                    <input\n                      type=\"number\"\n                      min={0}\n                      value={form.perUserLimit}\n                      onChange={(e) => setForm((p) => ({ ...p, perUserLimit: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: 2 (opcional)\"\n                    />\n                  </label>\n                  <label className={labelBase}>\n                    <span>Mín. quantidade por compra</span>\n                    <input\n                      type=\"number\"\n                      min={0}\n                      value={form.minQuantity}\n                      onChange={(e) => setForm((p) => ({ ...p, minQuantity: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: 2\"\n                    />\n                  </label>\n                  <label className={labelBase}>\n                    <span>Mín. valor total (€)</span>\n                    <input\n                      type=\"number\"\n                      min={0}\n                      value={form.minTotal}\n                      onChange={(e) => setForm((p) => ({ ...p, minTotal: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: 20\"\n                    />\n                  </label>\n                  <label className={labelBase}>\n                    <span>Mín. valor carrinho (€)</span>\n                    <input\n                      type=\"number\"\n                      min={0}\n                      value={form.minCart}\n                      onChange={(e) => setForm((p) => ({ ...p, minCart: e.target.value }))}\n                      className={inputBase}\n                      placeholder=\"Ex.: 30\"\n                    />\n                  </label>\n                </div>\n                <p className=\"mt-2 text-[11px] text-white/55\">\n                  Quando definido, o mínimo de carrinho tem prioridade sobre o mínimo total.\n                </p>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className={sectionCard}>\n                <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/55\">Resumo</p>\n                <div className=\"mt-3 space-y-2 text-sm\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Código</span>\n                    <span className=\"font-semibold text-white\">{form.code || \"—\"}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Tipo</span>\n                    <span className=\"text-white\">\n                      {form.type === \"PERCENTAGE\" ? \"Percentagem\" : \"Valor fixo\"}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Valor</span>\n                    <span className=\"font-semibold text-white\">{valueDisplay}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Escopo</span>\n                    <span className=\"text-white\">{selectedEventLabel}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Validade</span>\n                    <span className=\"text-right text-white/80\">{validityLabel}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Limites</span>\n                    <span className=\"text-right text-white/80\">{limitSummary}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-white/60\">Estado</span>\n                    <span className={form.active ? \"font-semibold text-emerald-200\" : \"text-white/60\"}>\n                      {form.active ? \"Ativo\" : \"Inativo\"}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"mt-3 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-[12px] text-white/70\">\n                  <p className=\"text-white/80\">\n                    {form.autoApply ? \"Auto-aplicar ligado.\" : \"Auto-aplicar desligado.\"}\n                  </p>\n                  <p className=\"text-white/50\">Aplica-se automaticamente no checkout quando válido.</p>\n                </div>\n              </div>\n\n              <div\n                className={`rounded-2xl border p-4 shadow-[0_10px_34px_rgba(0,0,0,0.28)] ${\n                  form.active ? \"border-emerald-400/40 bg-emerald-500/10\" : \"border-white/10 bg-white/5\"\n                }`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-semibold text-white\">Estado</h3>\n                  <span className={form.active ? \"text-[11px] text-emerald-200\" : \"text-[11px] text-white/50\"}>\n                    {form.active ? \"Ativo\" : \"Inativo\"}\n                  </span>\n                </div>\n                <p className=\"mt-1 text-[12px] text-white/60\">\n                  Ativa o código e decide se aplica automaticamente no checkout.\n                </p>\n                <div className=\"mt-3 space-y-2 text-sm\">\n                  <label className=\"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 px-3 py-2\">\n                    <span>Ativo</span>\n                    <input\n                      type=\"checkbox\"\n                      checked={form.active}\n                      onChange={(e) => setForm((p) => ({ ...p, active: e.target.checked }))}\n                      className=\"h-4 w-4 accent-emerald-400\"\n                    />\n                  </label>\n                  <label className=\"flex items-center justify-between rounded-xl border border-white/10 bg-black/30 px-3 py-2\">\n                    <span>Auto-aplicar no checkout</span>\n                    <input\n                      type=\"checkbox\"\n                      checked={form.autoApply}\n                      onChange={(e) => setForm((p) => ({ ...p, autoApply: e.target.checked }))}\n                      className=\"h-4 w-4 accent-sky-300\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"rounded-2xl border border-white/10 bg-black/35 p-4 text-[12px] text-white/80\">\n                <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">Preview rápido</p>\n                <p className=\"mt-2 text-sm\">\n                  Exemplo com bilhete de {preview.base.toFixed(2)} € → Cliente paga{\" \"}\n                  <span className=\"font-semibold text-white\">{preview.total.toFixed(2)} €</span>{\" \"}\n                  (desconto {preview.discount.toFixed(2)} €)\n                </p>\n              </div>\n\n              {(error || success) && (\n                <div className=\"rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-[12px]\">\n                  {error && <p className=\"text-red-300\">{error}</p>}\n                  {success && <p className=\"text-emerald-200\">{success}</p>}\n                </div>\n              )}\n\n              <div className=\"flex flex-wrap gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={handleSubmit}\n                  disabled={saving}\n                  className={`${CTA_PRIMARY} disabled:opacity-60 disabled:cursor-not-allowed`}\n                >\n                  {saving ? \"A guardar...\" : editingId ? \"Guardar alterações\" : \"Criar código\"}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setForm(EMPTY_FORM);\n                    setEditingId(null);\n                    setError(null);\n                    setSuccess(null);\n                  }}\n                  className={`${CTA_SECONDARY} text-[12px]`}\n                >\n                  Limpar\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {detailId !== null && (\n            <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/60 px-4 py-6 backdrop-blur-sm\">\n              <div className=\"mx-auto w-full max-w-3xl rounded-2xl border border-white/15 bg-neutral-900 p-5 shadow-2xl\">\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div>\n                    <p className=\"text-[11px] uppercase tracking-[0.18em] text-white/60\">Promo</p>\n                    <h3 className=\"text-xl font-semibold text-white\">\n                      {detail?.ok ? detail.promo.code : \"Detalhe da promoção\"}\n                    </h3>\n                    {detail?.ok && detail.promo.name && (\n                      <p className=\"text-sm text-white/70\">{detail.promo.name}</p>\n                    )}\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setDetailId(null);\n                      setDetail(null);\n                      setDetailError(null);\n                    }}\n                    className={`${CTA_SECONDARY} text-[12px]`}\n                  >\n                    Fechar\n                  </button>\n                </div>\n\n                {detailLoading && <p className=\"mt-4 text-sm text-white/70\">A carregar detalhe...</p>}\n                {detailError && (\n                  <p className=\"mt-4 text-sm text-red-300\">\n                    {detailError || \"Não foi possível carregar o detalhe.\"}\n                  </p>\n                )}\n\n                {detail?.ok && (\n                  <div className=\"mt-4 space-y-5\">\n                    <div className=\"grid grid-cols-2 gap-3 md:grid-cols-3\">\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Utilizações</p>\n                        <p className=\"text-lg font-semibold text-white\">{detail.stats.usesTotal}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Utilizadores únicos</p>\n                        <p className=\"text-lg font-semibold text-white\">{detail.stats.usersUnique}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Bilhetes</p>\n                        <p className=\"text-lg font-semibold text-white\">{detail.stats.tickets}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Bruto</p>\n                        <p className=\"text-lg font-semibold text-white\">{formatEuro(detail.stats.grossCents)}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Desconto</p>\n                        <p className=\"text-lg font-semibold text-emerald-200\">\n                          -{formatEuro(detail.stats.discountCents)}\n                        </p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Líquido</p>\n                        <p className=\"text-lg font-semibold text-white\">{formatEuro(detail.stats.netCents)}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Novos</p>\n                        <p className=\"text-lg font-semibold text-white\">{detail.stats.newUsers}</p>\n                      </div>\n                      <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\n                        <p className=\"text-[11px] text-white/60\">Recorrentes</p>\n                        <p className=\"text-lg font-semibold text-white\">{detail.stats.returningUsers}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n                      <div className=\"rounded-lg border border-white/10 bg-black/30 p-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <p className=\"text-sm font-semibold text-white\">Top eventos</p>\n                          {detail.topEvents.length === 0 && (\n                            <span className=\"text-[12px] text-white/50\">Sem utilizações</span>\n                          )}\n                        </div>\n                        <div className=\"mt-2 space-y-2\">\n                          {detail.topEvents.map((ev) => (\n                            <div\n                              key={ev.id}\n                              className=\"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 px-3 py-2\"\n                            >\n                              <div>\n                                <p className=\"text-sm text-white\">{ev.title}</p>\n                                {ev.slug && <p className=\"text-[11px] text-white/50\">/{ev.slug}</p>}\n                              </div>\n                              <span className=\"rounded-full border border-white/15 px-2 py-1 text-[11px] text-white/80\">\n                                {ev.uses} uso{ev.uses === 1 ? \"\" : \"s\"}\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"rounded-lg border border-white/10 bg-black/30 p-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <p className=\"text-sm font-semibold text-white\">Histórico recente</p>\n                          <span className=\"text-[11px] text-white/60\">\n                            Últimos {detail.history.length} registos\n                          </span>\n                        </div>\n                        <div className=\"mt-2 space-y-2 max-h-64 overflow-auto pr-1\">\n                          {detail.history.map((h) => (\n                            <div\n                              key={h.id}\n                              className=\"rounded-lg border border-white/10 bg-white/5 p-2 text-[12px] text-white/80\"\n                            >\n                              <div className=\"flex items-center justify-between\">\n                                <span className=\"font-semibold text-white\">{formatEuro(h.discountCents)}</span>\n                                <span className=\"text-white/60\">{formatDateTime(h.usedAt)}</span>\n                              </div>\n                              <p className=\"text-white/70\">Utilizador: {h.userLabel}</p>\n                              <p className=\"text-white/60\">\n                                Itens: {h.items} · Evento: {h.event?.title ?? \"—\"}\n                              </p>\n                            </div>\n                          ))}\n                          {detail.history.length === 0 && (\n                            <p className=\"text-[12px] text-white/60\">Sem histórico registado.</p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAgFA,MAAM,UAAU,CAAC,MAAgB,MAAM,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI;AAE9D,MAAM,kBAAkB;IACtB;QAAE,MAAM;QAAU,MAAM;QAAuB,OAAO;QAAM,MAAM;IAAyB;IAC3F;QAAE,MAAM;QAAW,MAAM;QAAuB,OAAO;QAAM,MAAM;IAAsB;IACzF;QAAE,MAAM;QAAS,MAAM;QAAkB,OAAO;QAAK,MAAM;IAA6B;CACzF;AAED,MAAM,aAAa;IACjB,MAAM;IACN,aAAa;IACb,MAAM;IACN,MAAM;IACN,OAAO;IACP,SAAS;IACT,cAAc;IACd,WAAW;IACX,YAAY;IACZ,SAAS;IACT,QAAQ;IACR,WAAW;IACX,aAAa;IACb,UAAU;IACV,SAAS;AACX;AAEA,SAAS,iBAAiB,EAAE,MAAM,EAAE,MAAM,EAAmE;IAC3G,MAAM,cAAc,UAAU,CAAC,SAAS,WAAW,UAAU;IAC7D,MAAM,YACJ,gBAAgB,YACZ,8DACA,gBAAgB,WACd,oEACA;IACR,qBACE,6LAAC;QAAK,WAAW,CAAC,+CAA+C,EAAE,WAAW;kBAC3E,gBAAgB,YAAY,aAAa,gBAAgB,WAAW,UAAU;;;;;;AAGrF;KAbS;AAeM,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACxB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6KAAY;IAClC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,4KAAM,EAAe,OAAO,2BAA2B,MAAM;IAEtF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;QACrC,SAAS;QACT,QAAQ;QACR,GAAG;IACL;IACA,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAgB;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAA6B;IACjE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAgB;IAE9D,MAAM,UAAU,CAAC;IACjB,IAAA,0KAAS;sCAAC;YACR,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAClB,UAAU;oBAAE,MAAM;oBAAS,YAAY;oBAAsB,YAAY;gBAAK;YAChF;QACF;qCAAG;QAAC;QAAM;QAAM;KAAU;IAE1B,MAAM,SAAS,IAAA,wKAAO;4CAAC,IAAM,MAAM,UAAU,EAAE;2CAAE;QAAC;KAAK;IACvD,MAAM,SAAS,IAAA,wKAAO;4CAAC,IAAM,MAAM,cAAc,EAAE;2CAAE;QAAC;KAAK;IAC3D,MAAM,aAAa,IAAA,wKAAO;gDAAC,IAAM,MAAM,cAAc,EAAE;+CAAE;QAAC;KAAK;IAC/D,MAAM,gBAAgB,IAAA,wKAAO;mDAAC,IAAM,IAAI,IAAI,WAAW,GAAG;2DAAC,CAAC,IAAM;wBAAC,EAAE,WAAW;wBAAE;qBAAE;;kDAAI;QAAC;KAAW;IAEpG,MAAM,iBAAiB,IAAA,wKAAO;oDAAC;YAC7B,OAAO,OAAO,MAAM;4DAAC,CAAC;oBACpB,MAAM,YAAY,CAAC,CAAC,EAAE,SAAS;oBAC/B,IAAI,QAAQ,OAAO,KAAK,SAAS,GAAG,EAAE,OAAO,IAAI,UAAU,KAAK,QAAQ,OAAO,EAAE,OAAO;oBACxF,IAAI,QAAQ,MAAM,KAAK,YAAY,CAAC,EAAE,MAAM,EAAE,OAAO;oBACrD,IAAI,QAAQ,MAAM,KAAK,cAAc,EAAE,MAAM,EAAE,OAAO;oBACtD,IAAI,QAAQ,MAAM,KAAK,UAAU,CAAC,WAAW,OAAO;oBACpD,IAAI,QAAQ,CAAC,CAAC,IAAI,IAAI;wBACpB,MAAM,IAAI,QAAQ,CAAC,CAAC,WAAW;wBAC/B,MAAM,WAAW,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,IAAI,GAAG,CAAC,EAAE,EAAE,WAAW,IAAI,IAAI,CAAC,WAAW;wBAC/E,IAAI,CAAC,SAAS,QAAQ,CAAC,IAAI,OAAO;oBACpC;oBACA,OAAO;gBACT;;QACF;mDAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,eAAe;QACnB,UAAU;QACV,SAAS;QACT,WAAW;QACX,IAAI;YACF,MAAM,eAAe,OAAO,KAAK,KAAK;YACtC,IAAI,KAAK,IAAI,KAAK,cAAc;gBAC9B,IAAI,CAAC,OAAO,QAAQ,CAAC,iBAAiB,gBAAgB,KAAK,eAAe,KAAK;oBAC7E,SAAS;oBACT,UAAU;oBACV;gBACF;YACF,OAAO,IAAI,CAAC,OAAO,QAAQ,CAAC,iBAAiB,eAAe,GAAG;gBAC7D,SAAS;gBACT,UAAU;gBACV;YACF;YAEA,MAAM,UAAU;gBACd,MAAM,KAAK,IAAI,CAAC,IAAI,MAAM;gBAC1B,aAAa,KAAK,WAAW,CAAC,IAAI,MAAM;gBACxC,MAAM,KAAK,IAAI,CAAC,IAAI;gBACpB,MAAM,KAAK,IAAI;gBACf,OACE,KAAK,IAAI,KAAK,eACV,KAAK,KAAK,CAAC,eAAe,KAAK,mBAAmB;mBAClD,KAAK,KAAK,CAAC,eAAe;gBAChC,SAAS,KAAK,OAAO,GAAG,OAAO,KAAK,OAAO,IAAI;gBAC/C,cAAc,KAAK,YAAY,GAAG,OAAO,KAAK,YAAY,IAAI;gBAC9D,WAAW,KAAK,SAAS,IAAI;gBAC7B,YAAY,KAAK,UAAU,IAAI;gBAC/B,SAAS,KAAK,OAAO,KAAK,WAAW,OAAO,OAAO,KAAK,OAAO;gBAC/D,QAAQ,KAAK,MAAM;gBACnB,WAAW,KAAK,SAAS;gBACzB,aAAa,KAAK,WAAW,GAAG,OAAO,KAAK,WAAW,IAAI;gBAC3D,eAAe,KAAK,QAAQ,GAAG,KAAK,KAAK,CAAC,OAAO,KAAK,QAAQ,IAAI,OAAO;gBACzE,mBAAmB,KAAK,OAAO,GAAG,KAAK,KAAK,CAAC,OAAO,KAAK,OAAO,IAAI,OAAO;YAC7E;YACA,MAAM,MAAM,MAAM,MAAM,0BAA0B;gBAChD,QAAQ,YAAY,UAAU;gBAC9B,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC,YAAY;oBAAE,IAAI;oBAAW,GAAG,OAAO;gBAAC,IAAI;YACnE;YACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,IAAI,CAAC,IAAI,EAAE,IAAI,MAAM,OAAO,OAAO;gBACjC,SAAS,MAAM,SAAS;YAC1B,OAAO;gBACL,IAAA,iIAAU,EAAC,sBAAsB;oBAC/B,OAAO,QAAQ,OAAO,GAAG,UAAU;oBACnC,MAAM,QAAQ,IAAI;gBACpB;gBACA,WAAW,YAAY,uBAAuB;gBAC9C,QAAQ;oBAAE,GAAG,UAAU;oBAAE,MAAM;gBAAG;gBAClC,aAAa;gBACb;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,SAAS;QACX,SAAU;YACR,UAAU;QACZ;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,aAAa,MAAM,EAAE;QACrB,QAAQ;YACN,MAAM,MAAM,IAAI,IAAI;YACpB,aAAa,MAAM,WAAW,IAAI;YAClC,MAAM,MAAM,IAAI;YAChB,MAAM,MAAM,IAAI;YAChB,OAAO,MAAM,IAAI,KAAK,eAAe,OAAO,MAAM,KAAK,GAAG,OAAO,OAAO,MAAM,KAAK,GAAG;YACtF,SAAS,MAAM,OAAO,IAAI,OAAO,OAAO,MAAM,OAAO,IAAI;YACzD,cAAc,MAAM,YAAY,IAAI,OAAO,OAAO,MAAM,YAAY,IAAI;YACxE,WAAW,MAAM,SAAS,IAAI;YAC9B,YAAY,MAAM,UAAU,IAAI;YAChC,SAAS,MAAM,OAAO,IAAI,OAAO,WAAW,OAAO,MAAM,OAAO;YAChE,QAAQ,MAAM,MAAM;YACpB,WAAW,CAAC,CAAC,MAAM,SAAS;YAC5B,aAAa,MAAM,WAAW,IAAI,OAAO,OAAO,MAAM,WAAW,IAAI;YACrE,UAAU,MAAM,aAAa,IAAI,OAAO,OAAO,MAAM,aAAa,GAAG,OAAO;YAC5E,SAAS,MAAM,iBAAiB,IAAI,OAAO,OAAO,MAAM,iBAAiB,GAAG,OAAO;QACrF;QACA,WAAW;QACX,SAAS;IACX;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,0BAA0B;gBAChD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAG;YAC5B;YACA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;gBACvC,SAAS,GAAG,SAAS;YACvB,OAAO;gBACL,IAAA,iIAAU,EAAC,sBAAsB;oBAAE,SAAS;gBAAG;gBAC/C,IAAI,cAAc,IAAI,aAAa;gBACnC;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,SAAS;QACX,SAAU;YACR,YAAY;QACd;IACF;IAEA,MAAM,eAAe,OAAO,IAAY;QACtC,IAAI;YACF,MAAM,MAAM,0BAA0B;gBACpC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAI;gBAAO;YACpC;YACA,IAAA,iIAAU,EAAC,SAAS,yBAAyB,0BAA0B;gBAAE,SAAS;YAAG;YACrF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,YAAY;QACZ,UAAU;QACV,eAAe;QACf,iBAAiB;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,uBAAuB,EAAE,SAAS;YAC3D,MAAM,OAA4B,MAAM,IAAI,IAAI;YAChD,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,EAAE,KAAK,OAAO;gBAChC,eAAe,QAAQ,WAAW,OAAO,KAAK,KAAK,IAAI,8BAA8B;YACvF,OAAO;gBACL,UAAU;YACZ;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,eAAe;QACjB,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,aAAa,eAAe,MAAM,KAAK,KAAK,CAAC;IAEnD,MAAM,QAAQ,IAAA,wKAAO;2CAAC;YACpB,MAAM,QAAQ,OAAO,MAAM;YAC3B,MAAM,SAAS,OAAO,MAAM;mDAAC,CAAC,IAAM,EAAE,MAAM;kDAAE,MAAM;YACpD,MAAM,cAAc,OAAO,MAAM;+DAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,gBAAgB,IAAI,CAAC;8DAAG;YAC/E,MAAM,gBAAgB,WAAW,MAAM;iEAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,aAAa,IAAI,CAAC;gEAAG;YAClF,MAAM,aAAa,WAAW,MAAM;8DAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,UAAU,IAAI,CAAC;6DAAG;YAC5E,MAAM,cAAc,WAAW,MAAM;+DAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,WAAW,IAAI,CAAC;8DAAG;YAC9E,OAAO;gBAAE;gBAAO;gBAAQ;gBAAa;gBAAe;gBAAY;YAAY;QAC9E;0CAAG;QAAC;QAAQ;KAAW;IAEvB,MAAM,aAAa,CAAC,QAAkB,GAAG,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;IACrE,MAAM,iBAAiB,CAAC,MAAgB,IAAI,KAAK,KAAK,cAAc,CAAC;IACrE,MAAM,WAAW,CAAC,UAChB,cAAc,GAAG,CAAC,YAAY;YAAE,SAAS;YAAG,YAAY;YAAG,eAAe;YAAG,UAAU;YAAG,WAAW;YAAG,aAAa;QAAE;IAEzH,MAAM,eAAe,IAAI,YAAY;IACrC,MAAM,UAAU,IAAA,wKAAO;6CAAC;YACtB,MAAM,WAAW,OAAO,KAAK,KAAK,KAAK;YACvC,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,eAAe;YACxD,MAAM,gBACJ,KAAK,IAAI,KAAK,eACV,KAAK,GAAG,CAAC,WAAW,KAAK,KAAK,CAAC,AAAC,YAAY,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,aAAc,QACpF,KAAK,GAAG,CAAC,WAAW,KAAK,KAAK,CAAC,WAAW;YAChD,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,YAAY;YAC3C,OAAO;gBACL,MAAM,YAAY;gBAClB,UAAU,gBAAgB;gBAC1B,OAAO,aAAa;YACtB;QACF;4CAAG;QAAC,KAAK,IAAI;QAAE,KAAK,KAAK;KAAC;IAE1B,MAAM,qBAAqB,IAAA,wKAAO;wDAAC;YACjC,IAAI,KAAK,OAAO,KAAK,UAAU,OAAO;YACtC,OAAO,OAAO,IAAI;gEAAC,CAAC,KAAO,OAAO,GAAG,EAAE,MAAM,KAAK,OAAO;gEAAG,SAAS;QACvE;uDAAG;QAAC,KAAK,OAAO;QAAE;KAAO;IAEzB,MAAM,eACJ,KAAK,KAAK,KAAK,KACX,KAAK,IAAI,KAAK,eACZ,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC,GAChB,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC,GACnB;IACN,MAAM,gBACJ,KAAK,SAAS,IAAI,KAAK,UAAU,GAC7B,GAAG,KAAK,SAAS,GAAG,KAAK,SAAS,CAAC,OAAO,CAAC,KAAK,OAAO,aAAa,GAAG,EACrE,KAAK,UAAU,GAAG,KAAK,UAAU,CAAC,OAAO,CAAC,KAAK,OAAO,WACtD,GACF;IACN,MAAM,eAAe,IAAA,wKAAO;kDAAC;YAC3B,MAAM,QAAkB,EAAE;YAC1B,IAAI,KAAK,OAAO,KAAK,IAAI,MAAM,IAAI,CAAC,CAAC,IAAI,EAAE,KAAK,OAAO,CAAC,KAAK,CAAC;YAC9D,IAAI,KAAK,YAAY,KAAK,IAAI,MAAM,IAAI,CAAC,CAAC,WAAW,EAAE,KAAK,YAAY,EAAE;YAC1E,IAAI,KAAK,WAAW,KAAK,IAAI,MAAM,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,WAAW,EAAE;YACrE,IAAI,KAAK,QAAQ,KAAK,IAAI,MAAM,IAAI,CAAC,CAAC,UAAU,EAAE,KAAK,QAAQ,CAAC,EAAE,CAAC;YACnE,IAAI,KAAK,OAAO,KAAK,IAAI,MAAM,IAAI,CAAC,CAAC,aAAa,EAAE,KAAK,OAAO,CAAC,EAAE,CAAC;YACpE,OAAO,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS;QAC5C;iDAAG;QAAC,KAAK,OAAO;QAAE,KAAK,YAAY;QAAE,KAAK,WAAW;QAAE,KAAK,QAAQ;QAAE,KAAK,OAAO;KAAC;IAEnF,MAAM,YACJ;IACF,MAAM,YAAY;IAClB,MAAM,aAAa;IACnB,MAAM,cAAc;IACpB,MAAM,iBAAiB;IACvB,MAAM,mBAAmB;IACzB,MAAM,qBAAqB;IAE3B,MAAM,kBAAkB,CAAC,MAAc,MAA8B;QACnE,QAAQ,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE;gBAAM;gBAAM;YAAM,CAAC;IACnD;IAEA,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAO,WAAU;;kCAChB,6LAAC;wBAAE,WAAU;kCAAuD;;;;;;kCACpE,6LAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAKvC,6LAAC;gBAAI,WAAU;0BACZ,UACG;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,oBACpB,6LAAC;wBAAc,WAAU;;0CACvB,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;;;;;;;uBAFP;;;;8CAMZ;;sCACE,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAwD;;;;;;8CACrE,6LAAC;oCAAE,WAAU;8CAA0B,MAAM,KAAK;;;;;;;;;;;;sCAEpD,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAwD;;;;;;8CACrE,6LAAC;oCAAE,WAAU;8CAA0B,MAAM,MAAM;;;;;;;;;;;;sCAErD,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAwD;;;;;;8CACrE,6LAAC;oCAAE,WAAU;8CAA0B,MAAM,WAAW;;;;;;8CACxD,6LAAC;oCAAE,WAAU;8CAA4B;;;;;;;;;;;;sCAE3C,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAwD;;;;;;8CACrE,6LAAC;oCAAE,WAAU;8CAA0B,WAAW,MAAM,aAAa;;;;;;8CACrE,6LAAC;oCAAE,WAAU;;wCAA4B;wCAAkB,WAAW,MAAM,UAAU;;;;;;;8CACtF,6LAAC;oCAAE,WAAU;;wCAA4B;wCAAe,MAAM,WAAW;;;;;;;;;;;;;;;;;;;;0BAMnF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;;4BAAoF;0CAEnG,6LAAC;gCACC,OAAO,QAAQ,OAAO;gCACtB,UAAU,CAAC,IAAM,WAAW,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAC,CAAC;gCACrE,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAS;;;;;;oCACtB,OAAO,GAAG,CAAC,CAAC,mBACX,6LAAC;4CAAmB,OAAO,GAAG,EAAE;sDAC7B,GAAG,KAAK;2CADE,GAAG,EAAE;;;;;;;;;;;;;;;;;kCAOxB,6LAAC;wBAAM,WAAU;;4BAAoF;0CAEnG,6LAAC;gCACC,OAAO,QAAQ,MAAM;gCACrB,UAAU,CAAC,IAAM,WAAW,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;wCAA0B,CAAC;gCAC7F,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,6LAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,6LAAC;wCAAO,OAAM;kDAAW;;;;;;kDACzB,6LAAC;wCAAO,OAAM;kDAAO;;;;;;;;;;;;;;;;;;kCAGzB,6LAAC;wBAAM,WAAU;;4BAAoF;0CAEnG,6LAAC;gCACC,MAAK;gCACL,OAAO,QAAQ,CAAC;gCAChB,UAAU,CAAC,IAAM,WAAW,CAAC,IAAM,CAAC;4CAAE,GAAG,CAAC;4CAAE,GAAG,EAAE,MAAM,CAAC,KAAK;wCAAC,CAAC;gCAC/D,WAAU;gCACV,aAAY;;;;;;;;;;;;;;;;;;0BAKhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAA8B;;;;;;0CAC3C,6LAAC;gCAAK,WAAU;0CAA4B;;;;;;;;;;;;kCAE9C,6LAAC;wBAAI,WAAU;kCACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,6LAAC;gCAEC,MAAK;gCACL,SAAS,IAAM,gBAAgB,KAAK,IAAI,EAAE,KAAK,IAAI,EAAE,KAAK,KAAK;gCAC/D,WAAU;;kDAEV,6LAAC;wCAAK,WAAU;kDAAiB,KAAK,IAAI;;;;;;kDAC1C,6LAAC;wCAAK,WAAU;kDAAiB,KAAK,IAAI;;;;;;;+BANrC,KAAK,IAAI;;;;;;;;;;;;;;;;0BAYtB,6LAAC;gBAAI,WAAU;0BACZ,wBACC,6LAAC;oBAAI,WAAU;8BACZ,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,oBACjC,6LAAC;4BAAc,WAAU;;8CACvB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;;;;;sDACf,6LAAC;4CAAI,WAAU;;;;;;;;;;;;8CAEjB,6LAAC;oCAAI,WAAU;;;;;;;2BALP;;;;;;;;;2BASZ,2BACF,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;8CACrC,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAEvC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,SAAS;wCACP,MAAM,KAAK,UAAU,eAAe;wCACpC,IAAI,eAAe;4CAAE,UAAU;4CAAU,OAAO;wCAAQ;oCAC1D;oCACA,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCAAI,WAAU;8CACZ,gBAAgB,GAAG,CAAC,CAAC,qBACpB,6LAAC;4CAEC,MAAK;4CACL,SAAS,IAAM,gBAAgB,KAAK,IAAI,EAAE,KAAK,IAAI,EAAE,KAAK,KAAK;4CAC/D,WAAU;;gDAET,KAAK,IAAI;gDAAC;gDAAI,KAAK,IAAI;;2CALnB,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;yCAYxB,6LAAC;oBAAM,WAAU;;sCACf,6LAAC;4BAAM,WAAU;sCACf,cAAA,6LAAC;;kDACP,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAClB,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAuB;;;;;;;;;;;;;;;;;sCAGzC,6LAAC;sCACE,eAAe,GAAG,CAAC,CAAC;gCACnB,MAAM,IAAI,SAAS,MAAM,EAAE;gCAC3B,qBACE,6LAAC;oCAAkB,WAAU;;sDAC3B,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;kEAAM,MAAM,IAAI;;;;;;oDAChB,MAAM,SAAS,kBACd,6LAAC;wDAAK,WAAU;kEAAsJ;;;;;;;;;;;;;;;;;sDAM5K,6LAAC;4CAAG,WAAU;sDAA2B,MAAM,IAAI,IAAI;;;;;;sDACvD,6LAAC;4CAAG,WAAU;sDACX,MAAM,OAAO,IAAI,OACd,WACA,OAAO,IAAI,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK,MAAM,OAAO,GAAG,SAAS;;;;;;sDAE7D,6LAAC;4CAAG,WAAU;sDACX,MAAM,IAAI,KAAK,eACZ,GAAG,CAAC,MAAM,KAAK,GAAG,GAAG,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,UAAU,IAAI,CAAC,CAAC,GAC1D,GAAG,CAAC,MAAM,KAAK,GAAG,GAAG,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,UAAU,IAAI,EAAE,CAAC;;;;;;sDAEjE,6LAAC;4CAAG,WAAU;sDAAa,EAAE,SAAS,IAAI,MAAM,gBAAgB,IAAI;;;;;;sDACpE,6LAAC;4CAAG,WAAU;sDAAa,EAAE,WAAW,IAAI;;;;;;sDAC5C,6LAAC;4CAAG,WAAU;sDACX,EAAE,OAAO;;;;;;sDAEZ,6LAAC;4CAAG,WAAU;sDACX,WAAW,EAAE,UAAU,IAAI;;;;;;sDAE9B,6LAAC;4CAAG,WAAU;;gDAA6B;gDACvC,WAAW,EAAE,aAAa,IAAI;;;;;;;sDAElC,6LAAC;4CAAG,WAAU;sDACX,WAAW,EAAE,QAAQ,IAAI;;;;;;sDAE5B,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDAAiB,QAAQ,MAAM,MAAM;gDAAE,QAAQ,MAAM,MAAM;;;;;;;;;;;sDAE9D,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDACC,MAAK;wDACL,SAAS,IAAM,iBAAiB,MAAM,EAAE;wDACxC,WAAW,GAAG,qJAAa,CAAC,sBAAsB,CAAC;kEACpD;;;;;;kEAGD,6LAAC;wDACC,MAAK;wDACL,SAAS,IAAM,WAAW;wDAC1B,WAAW,GAAG,qJAAa,CAAC,sBAAsB,CAAC;kEACpD;;;;;;kEAGD,6LAAC;wDACC,MAAK;wDACL,SAAS,IAAM,aAAa,MAAM,EAAE,EAAE,CAAC,MAAM,MAAM;wDACnD,WAAW,GAAG,qJAAa,CAAC,sBAAsB,CAAC;kEAElD,MAAM,MAAM,GAAG,cAAc;;;;;;kEAEhC,6LAAC;wDACC,MAAK;wDACL,SAAS,IAAM,YAAY,MAAM,EAAE;wDACnC,WAAW,GAAG,kJAAU,CAAC,sBAAsB,CAAC;kEACjD;;;;;;;;;;;;;;;;;;mCAlEE,MAAM,EAAE;;;;;4BAyErB;;;;;;;;;;;;;;;;;0BAMR,6LAAC,yLAA8B;gBAC7B,MAAM,aAAa;gBACnB,OAAM;gBACN,aAAY;gBACZ,cAAc;oBACZ;oBACA;iBACD;gBACD,cAAa;gBACb,aAAY;gBACZ,aAAY;gBACZ,SAAS,IAAM,YAAY;gBAC3B,WAAW;oBACT,IAAI,aAAa,MAAM,aAAa;gBACtC;;;;;;0BAGF,6LAAC;gBACC,IAAG;gBACH,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAwD;;;;;;kDACrE,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;4BAItC,cAAc,sBACb,6LAAC;gCAAK,WAAU;0CAAgJ;;;;;;;;;;;;kCAMpK,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAW;;0DACd,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAK,WAAU;kEAA4B;;;;;;;;;;;;0DAE9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,OAAO,KAAK,IAAI;gEAChB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,MAAM,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEAC/D,WAAW;gEACX,aAAY;;;;;;0EAEd,6LAAC;gEAAK,WAAW;0EAAY;;;;;;;;;;;;kEAE/B,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,OAAO,KAAK,WAAW;gEACvB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACtE,WAAW;gEACX,aAAY;;;;;;0EAEd,6LAAC;gEAAK,WAAW;0EAAY;;;;;;;;;;;;kEAE/B,6LAAC;wDAAM,WAAW,GAAG,UAAU,cAAc,CAAC;;0EAC5C,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,OAAO,KAAK,IAAI;gEAChB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW;wEAAG,CAAC;gEAC7E,WAAW,GAAG,UAAU,yCAAyC,CAAC;gEAClE,aAAY;;;;;;0EAEd,6LAAC;gEAAK,WAAW;0EAAY;;;;;;;;;;;;;;;;;;;;;;;;kDAKnC,6LAAC;wCAAI,WAAW;;0DACd,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAK,WAAU;kEAA4B;;;;;;;;;;;;0DAE9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAW;;0EACd,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEACC,MAAK;wEACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;oFAAE,GAAG,CAAC;oFAAE,MAAM;gFAAa,CAAC;wEAC3D,WAAW,GAAG,eAAe,CAAC,EAC5B,KAAK,IAAI,KAAK,eAAe,mBAAmB,oBAChD;wEACF,gBAAc,KAAK,IAAI,KAAK;kFAC7B;;;;;;kFAGD,6LAAC;wEACC,MAAK;wEACL,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;oFAAE,GAAG,CAAC;oFAAE,MAAM;gFAAQ,CAAC;wEACtD,WAAW,GAAG,eAAe,CAAC,EAC5B,KAAK,IAAI,KAAK,UAAU,mBAAmB,oBAC3C;wEACF,gBAAc,KAAK,IAAI,KAAK;kFAC7B;;;;;;;;;;;;0EAIH,6LAAC;gEAAK,WAAW;0EAAY;;;;;;;;;;;;kEAE/B,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEACC,MAAK;wEACL,KAAK;wEACL,KAAK,KAAK,IAAI,KAAK,eAAe,MAAM;wEACxC,MAAK;wEACL,OAAO,KAAK,KAAK;wEACjB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;oFAAE,GAAG,CAAC;oFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gFAAC,CAAC;wEAChE,WAAW,GAAG,UAAU,MAAM,CAAC;wEAC/B,aAAa,KAAK,IAAI,KAAK,eAAe,kBAAkB;;;;;;kFAE9D,6LAAC;wEAAK,WAAU;kFACb,KAAK,IAAI,KAAK,eAAe,MAAM;;;;;;;;;;;;0EAGxC,6LAAC;gEAAK,WAAW;0EACd,KAAK,IAAI,KAAK,eAAe,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;kDAM3D,6LAAC;wCAAI,WAAW;;0DACd,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAK,WAAU;kEAA4B;;;;;;;;;;;;0DAE9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAM,WAAW,GAAG,UAAU,cAAc,CAAC;;0EAC5C,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,OAAO,KAAK,OAAO;gEACnB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEAClE,WAAW;;kFAEX,6LAAC;wEAAO,OAAM;kFAAS;;;;;;oEACtB,OAAO,GAAG,CAAC,CAAC,mBACX,6LAAC;4EAAmB,OAAO,GAAG,EAAE;sFAC7B,GAAG,KAAK;2EADE,GAAG,EAAE;;;;;;;;;;;0EAKtB,6LAAC;gEAAK,WAAW;0EAAY;;;;;;;;;;;;kEAE/B,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,OAAO,KAAK,SAAS;gEACrB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACpE,WAAW;;;;;;;;;;;;kEAGf,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,OAAO,KAAK,UAAU;gEACtB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,YAAY,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACrE,WAAW;;;;;;;;;;;;;;;;;;;;;;;;kDAMnB,6LAAC;wCAAI,WAAW;;0DACd,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAK,WAAU;kEAA4B;;;;;;;;;;;;0DAE9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,KAAK;gEACL,OAAO,KAAK,OAAO;gEACnB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEAClE,WAAW;gEACX,aAAY;;;;;;;;;;;;kEAGhB,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,KAAK;gEACL,OAAO,KAAK,YAAY;gEACxB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,cAAc,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACvE,WAAW;gEACX,aAAY;;;;;;;;;;;;kEAGhB,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,KAAK;gEACL,OAAO,KAAK,WAAW;gEACvB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACtE,WAAW;gEACX,aAAY;;;;;;;;;;;;kEAGhB,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,KAAK;gEACL,OAAO,KAAK,QAAQ;gEACpB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEACnE,WAAW;gEACX,aAAY;;;;;;;;;;;;kEAGhB,6LAAC;wDAAM,WAAW;;0EAChB,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,KAAK;gEACL,OAAO,KAAK,OAAO;gEACnB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wEAAC,CAAC;gEAClE,WAAW;gEACX,aAAY;;;;;;;;;;;;;;;;;;0DAIlB,6LAAC;gDAAE,WAAU;0DAAiC;;;;;;;;;;;;;;;;;;0CAMlD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAW;;0DACd,6LAAC;gDAAE,WAAU;0DAAwD;;;;;;0DACrE,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EAA4B,KAAK,IAAI,IAAI;;;;;;;;;;;;kEAE3D,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EACb,KAAK,IAAI,KAAK,eAAe,gBAAgB;;;;;;;;;;;;kEAGlD,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EAA4B;;;;;;;;;;;;kEAE9C,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EAAc;;;;;;;;;;;;kEAEhC,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EAA4B;;;;;;;;;;;;kEAE9C,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAU;0EAA4B;;;;;;;;;;;;kEAE9C,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,6LAAC;gEAAK,WAAW,KAAK,MAAM,GAAG,mCAAmC;0EAC/D,KAAK,MAAM,GAAG,UAAU;;;;;;;;;;;;;;;;;;0DAI/B,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;kEACV,KAAK,SAAS,GAAG,yBAAyB;;;;;;kEAE7C,6LAAC;wDAAE,WAAU;kEAAgB;;;;;;;;;;;;;;;;;;kDAIjC,6LAAC;wCACC,WAAW,CAAC,6DAA6D,EACvE,KAAK,MAAM,GAAG,4CAA4C,8BAC1D;;0DAEF,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAK,WAAW,KAAK,MAAM,GAAG,iCAAiC;kEAC7D,KAAK,MAAM,GAAG,UAAU;;;;;;;;;;;;0DAG7B,6LAAC;gDAAE,WAAU;0DAAiC;;;;;;0DAG9C,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,SAAS,KAAK,MAAM;gEACpB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,QAAQ,EAAE,MAAM,CAAC,OAAO;wEAAC,CAAC;gEACnE,WAAU;;;;;;;;;;;;kEAGd,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;0EAAK;;;;;;0EACN,6LAAC;gEACC,MAAK;gEACL,SAAS,KAAK,SAAS;gEACvB,UAAU,CAAC,IAAM,QAAQ,CAAC,IAAM,CAAC;4EAAE,GAAG,CAAC;4EAAE,WAAW,EAAE,MAAM,CAAC,OAAO;wEAAC,CAAC;gEACtE,WAAU;;;;;;;;;;;;;;;;;;;;;;;;kDAMlB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAE,WAAU;0DAAuD;;;;;;0DACpE,6LAAC;gDAAE,WAAU;;oDAAe;oDACF,QAAQ,IAAI,CAAC,OAAO,CAAC;oDAAG;oDAAkB;kEAClE,6LAAC;wDAAK,WAAU;;4DAA4B,QAAQ,KAAK,CAAC,OAAO,CAAC;4DAAG;;;;;;;oDAAU;oDAAI;oDACxE,QAAQ,QAAQ,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;;oCAI1C,CAAC,SAAS,OAAO,mBAChB,6LAAC;wCAAI,WAAU;;4CACZ,uBAAS,6LAAC;gDAAE,WAAU;0DAAgB;;;;;;4CACtC,yBAAW,6LAAC;gDAAE,WAAU;0DAAoB;;;;;;;;;;;;kDAIjD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,MAAK;gDACL,SAAS;gDACT,UAAU;gDACV,WAAW,GAAG,mJAAW,CAAC,gDAAgD,CAAC;0DAE1E,SAAS,iBAAiB,YAAY,uBAAuB;;;;;;0DAEhE,6LAAC;gDACC,MAAK;gDACL,SAAS;oDACP,QAAQ;oDACR,aAAa;oDACb,SAAS;oDACT,WAAW;gDACb;gDACA,WAAW,GAAG,qJAAa,CAAC,YAAY,CAAC;0DAC1C;;;;;;;;;;;;;;;;;;;;;;;;oBAON,aAAa,sBACZ,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAwD;;;;;;8DACrE,6LAAC;oDAAG,WAAU;8DACX,QAAQ,KAAK,OAAO,KAAK,CAAC,IAAI,GAAG;;;;;;gDAEnC,QAAQ,MAAM,OAAO,KAAK,CAAC,IAAI,kBAC9B,6LAAC;oDAAE,WAAU;8DAAyB,OAAO,KAAK,CAAC,IAAI;;;;;;;;;;;;sDAG3D,6LAAC;4CACC,MAAK;4CACL,SAAS;gDACP,YAAY;gDACZ,UAAU;gDACV,eAAe;4CACjB;4CACA,WAAW,GAAG,qJAAa,CAAC,YAAY,CAAC;sDAC1C;;;;;;;;;;;;gCAKF,+BAAiB,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;gCAC3D,6BACC,6LAAC;oCAAE,WAAU;8CACV,eAAe;;;;;;gCAInB,QAAQ,oBACP,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,OAAO,KAAK,CAAC,SAAS;;;;;;;;;;;;8DAEzE,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,OAAO,KAAK,CAAC,WAAW;;;;;;;;;;;;8DAE3E,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;8DAEvE,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,WAAW,OAAO,KAAK,CAAC,UAAU;;;;;;;;;;;;8DAErF,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;;gEAAyC;gEAClD,WAAW,OAAO,KAAK,CAAC,aAAa;;;;;;;;;;;;;8DAG3C,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,WAAW,OAAO,KAAK,CAAC,QAAQ;;;;;;;;;;;;8DAEnF,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,OAAO,KAAK,CAAC,QAAQ;;;;;;;;;;;;8DAExE,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;sEACzC,6LAAC;4DAAE,WAAU;sEAAoC,OAAO,KAAK,CAAC,cAAc;;;;;;;;;;;;;;;;;;sDAIhF,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAE,WAAU;8EAAmC;;;;;;gEAC/C,OAAO,SAAS,CAAC,MAAM,KAAK,mBAC3B,6LAAC;oEAAK,WAAU;8EAA4B;;;;;;;;;;;;sEAGhD,6LAAC;4DAAI,WAAU;sEACZ,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,mBACrB,6LAAC;oEAEC,WAAU;;sFAEV,6LAAC;;8FACC,6LAAC;oFAAE,WAAU;8FAAsB,GAAG,KAAK;;;;;;gFAC1C,GAAG,IAAI,kBAAI,6LAAC;oFAAE,WAAU;;wFAA4B;wFAAE,GAAG,IAAI;;;;;;;;;;;;;sFAEhE,6LAAC;4EAAK,WAAU;;gFACb,GAAG,IAAI;gFAAC;gFAAK,GAAG,IAAI,KAAK,IAAI,KAAK;;;;;;;;mEARhC,GAAG,EAAE;;;;;;;;;;;;;;;;8DAelB,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAE,WAAU;8EAAmC;;;;;;8EAChD,6LAAC;oEAAK,WAAU;;wEAA4B;wEACjC,OAAO,OAAO,CAAC,MAAM;wEAAC;;;;;;;;;;;;;sEAGnC,6LAAC;4DAAI,WAAU;;gEACZ,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,kBACnB,6LAAC;wEAEC,WAAU;;0FAEV,6LAAC;gFAAI,WAAU;;kGACb,6LAAC;wFAAK,WAAU;kGAA4B,WAAW,EAAE,aAAa;;;;;;kGACtE,6LAAC;wFAAK,WAAU;kGAAiB,eAAe,EAAE,MAAM;;;;;;;;;;;;0FAE1D,6LAAC;gFAAE,WAAU;;oFAAgB;oFAAa,EAAE,SAAS;;;;;;;0FACrD,6LAAC;gFAAE,WAAU;;oFAAgB;oFACnB,EAAE,KAAK;oFAAC;oFAAY,EAAE,KAAK,EAAE,SAAS;;;;;;;;uEAT3C,EAAE,EAAE;;;;;gEAaZ,OAAO,OAAO,CAAC,MAAM,KAAK,mBACzB,6LAAC;oEAAE,WAAU;8EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAarE;GA3/BwB;;QACL,qIAAO;QACF,6KAAY;QACT,4KAAM;;;MAHT"}}]
}