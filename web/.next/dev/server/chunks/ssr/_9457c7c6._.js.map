{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/username.ts"],"sourcesContent":["const USERNAME_REGEX = /^[a-z0-9](?:[a-z0-9._]*[a-z0-9])?$/;\n\nexport type UsernameValidation =\n  | { valid: true; normalized: string }\n  | { valid: false; error: string };\n\n/**\n * Remove acentos, espaços e caracteres inválidos, deixando apenas letras, números, _ e . (lowercase).\n * Limita a 30 chars e evita que termine/comece em '.'.\n */\nexport function sanitizeUsername(input: string): string {\n  const base = (input ?? \"\")\n    .normalize(\"NFKD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\"); // remove diacríticos\n  const cleaned = base.replace(/[^A-Za-z0-9._]/g, \"\");\n  const trimmed = cleaned.replace(/^\\.+/, \"\").replace(/\\.+$/, \"\");\n  const collapsedDots = trimmed.replace(/\\.{2,}/g, \".\");\n  return collapsedDots.toLowerCase().slice(0, 30);\n}\n\nexport function validateUsername(raw: string): UsernameValidation {\n  const normalized = sanitizeUsername(raw);\n  if (!normalized || normalized.length < 3 || normalized.length > 30) {\n    return {\n      valid: false,\n      error: \"Escolhe um username entre 3 e 30 caracteres (letras, números, _ ou .).\",\n    };\n  }\n  if (!USERNAME_REGEX.test(normalized)) {\n    return {\n      valid: false,\n      error: \"O username só pode ter letras, números, _ e . (sem espaços ou acentos).\",\n    };\n  }\n  if (normalized.includes(\"..\")) {\n    return {\n      valid: false,\n      error: \"O username não pode ter '..' seguido.\",\n    };\n  }\n  return { valid: true, normalized };\n}\n\nexport const USERNAME_RULES_HINT =\n  \"3-30 caracteres, letras ou números, opcionalmente _ ou ., sem espaços ou acentos.\";\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,iBAAiB;AAUhB,SAAS,iBAAiB,KAAa;IAC5C,MAAM,OAAO,CAAC,SAAS,EAAE,EACtB,SAAS,CAAC,QACV,OAAO,CAAC,oBAAoB,KAAK,qBAAqB;IACzD,MAAM,UAAU,KAAK,OAAO,CAAC,mBAAmB;IAChD,MAAM,UAAU,QAAQ,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ;IAC5D,MAAM,gBAAgB,QAAQ,OAAO,CAAC,WAAW;IACjD,OAAO,cAAc,WAAW,GAAG,KAAK,CAAC,GAAG;AAC9C;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,aAAa,iBAAiB;IACpC,IAAI,CAAC,cAAc,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,GAAG,IAAI;QAClE,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,IAAI,CAAC,eAAe,IAAI,CAAC,aAAa;QACpC,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,IAAI,WAAW,QAAQ,CAAC,OAAO;QAC7B,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,OAAO;QAAE,OAAO;QAAM;IAAW;AACnC;AAEO,MAAM,sBACX"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/%5Busername%5D/FollowClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useTransition } from \"react\";\n\ntype Props = {\n  targetUserId: string;\n  initialIsFollowing: boolean;\n  onChange?: (next: boolean) => void;\n};\n\nexport default function FollowClient({ targetUserId, initialIsFollowing, onChange }: Props) {\n  const [isFollowing, setIsFollowing] = useState(initialIsFollowing);\n  const [fetching, setFetching] = useState(false);\n  const [isPending, startTransition] = useTransition();\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      setFetching(true);\n      try {\n        const res = await fetch(`/api/social/follow-status?userId=${targetUserId}`);\n        const json = await res.json();\n        if (mounted && res.ok && json?.ok) {\n          setIsFollowing(Boolean(json.isFollowing));\n        }\n      } catch {\n        // ignore\n      } finally {\n        if (mounted) setFetching(false);\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [targetUserId]);\n\n  const toggleFollow = async () => {\n    const next = !isFollowing;\n    setIsFollowing(next);\n    onChange?.(next);\n    startTransition(async () => {\n      try {\n        const res = await fetch(next ? \"/api/social/follow\" : \"/api/social/unfollow\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ targetUserId }),\n        });\n        const json = await res.json();\n        if (!res.ok || !json?.ok) {\n          setIsFollowing(!next);\n          onChange?.(!next);\n        }\n      } catch {\n        setIsFollowing(!next);\n        onChange?.(!next);\n      }\n    });\n  };\n\n  return (\n    <button\n      type=\"button\"\n      disabled={fetching || isPending}\n      onClick={toggleFollow}\n      className={`inline-flex items-center rounded-full px-3 py-1 text-[12px] font-semibold transition ${\n        isFollowing\n          ? \"border border-white/25 bg-white/10 text-white/80 hover:bg-white/15\"\n          : \"bg-gradient-to-r from-[#FF00C8] via-[#6BFFFF] to-[#1646F5] text-black shadow-[0_0_18px_rgba(107,255,255,0.35)] hover:scale-[1.02]\"\n      } disabled:opacity-60`}\n    >\n      {isFollowing ? \"A seguir\" : \"Seguir\"}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,aAAa,EAAE,YAAY,EAAE,kBAAkB,EAAE,QAAQ,EAAS;IACxF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,sNAAa;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,YAAY;YACZ,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,iCAAiC,EAAE,cAAc;gBAC1E,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,WAAW,IAAI,EAAE,IAAI,MAAM,IAAI;oBACjC,eAAe,QAAQ,KAAK,WAAW;gBACzC;YACF,EAAE,OAAM;YACN,SAAS;YACX,SAAU;gBACR,IAAI,SAAS,YAAY;YAC3B;QACF,CAAC;QACD,OAAO;YACL,UAAU;QACZ;IACF,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe;QACnB,MAAM,OAAO,CAAC;QACd,eAAe;QACf,WAAW;QACX,gBAAgB;YACd,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,OAAO,uBAAuB,wBAAwB;oBAC5E,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE;oBAAa;gBACtC;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI;oBACxB,eAAe,CAAC;oBAChB,WAAW,CAAC;gBACd;YACF,EAAE,OAAM;gBACN,eAAe,CAAC;gBAChB,WAAW,CAAC;YACd;QACF;IACF;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,UAAU,YAAY;QACtB,SAAS;QACT,WAAW,CAAC,qFAAqF,EAC/F,cACI,uEACA,oIACL,oBAAoB,CAAC;kBAErB,cAAc,aAAa;;;;;;AAGlC"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/ProfileHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { sanitizeUsername, validateUsername } from \"@/lib/username\";\nimport FollowClient from \"@/app/[username]/FollowClient\";\n\nexport type ProfileHeaderProps = {\n  /** Se é o próprio utilizador a ver o seu perfil */\n  isOwner: boolean;\n  /** Nome completo do utilizador (ex: \"Nuno Lopes\") */\n  name?: string | null;\n  /** Username público (ex: \"nuno\") */\n  username?: string | null;\n  /** URL do avatar (pode ser null) */\n  avatarUrl?: string | null;\n  /** URL da capa (opcional) */\n  coverUrl?: string | null;\n  /** Pequena descrição ou bio (opcional, para o futuro) */\n  bio?: string | null;\n  /** Data de criação da conta em ISO (opcional) */\n  createdAt?: string | null;\n  /** Cidade ou localização curta */\n  city?: string | null;\n  /** Visibilidade do perfil */\n  visibility?: \"PUBLIC\" | \"PRIVATE\" | string | null;\n  /** Seguidores (placeholder enquanto não temos API) */\n  followers?: number | null;\n  /** Seguindo (placeholder enquanto não temos API) */\n  following?: number | null;\n  /** Id do alvo para follow/unfollow (quando não é dono) */\n  targetUserId?: string | null;\n  /** Estado inicial de follow (quando visitante) */\n  initialIsFollowing?: boolean;\n  /** Se o perfil representa uma organização (badge visual) */\n  isOrganization?: boolean;\n};\n\nfunction formatJoinedDate(createdAt?: string | null): string | null {\n  if (!createdAt) return null;\n  const d = new Date(createdAt);\n  if (Number.isNaN(d.getTime())) return null;\n\n  return new Intl.DateTimeFormat(\"pt-PT\", {\n    month: \"long\",\n    year: \"numeric\",\n  }).format(d);\n}\n\nexport default function ProfileHeader({\n  isOwner,\n  name,\n  username,\n  avatarUrl,\n  coverUrl,\n  bio,\n  createdAt,\n  city,\n  visibility,\n  followers,\n  following,\n  targetUserId,\n  initialIsFollowing,\n}: ProfileHeaderProps) {\n  const router = useRouter();\n  const displayName = name?.trim() || \"Utilizador ORYA\";\n  const handle = username?.trim() || undefined;\n  const joinedLabel = formatJoinedDate(createdAt);\n\n  const ownerHasPublicProfile = Boolean(handle);\n\n  const safeAvatarUrl = avatarUrl && avatarUrl.trim().length > 0\n    ? avatarUrl\n    : undefined;\n  const safeCoverUrl = coverUrl && coverUrl.trim().length > 0 ? coverUrl : null;\n\n  const publicProfileHref = ownerHasPublicProfile ? `/${handle}` : null;\n\n  const [nameInput, setNameInput] = useState(displayName);\n  const [usernameInput, setUsernameInput] = useState(handle ?? \"\");\n  const [bioInput, setBioInput] = useState(bio ?? \"\");\n  const [avatar, setAvatar] = useState<string | null | undefined>(safeAvatarUrl);\n  const [cover, setCover] = useState<string | null>(safeCoverUrl);\n  const [editingField, setEditingField] = useState<\"name\" | \"username\" | \"bio\" | null>(null);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [avatarMenu, setAvatarMenu] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const coverInputRef = useRef<HTMLInputElement | null>(null);\n  const coverStyle = cover ? { backgroundImage: `url(${cover})` } : undefined;\n\n  useEffect(() => {\n    setNameInput(displayName);\n    setUsernameInput(handle ?? \"\");\n    setBioInput(bio ?? \"\");\n    setAvatar(safeAvatarUrl);\n    setCover(safeCoverUrl);\n  }, [displayName, handle, bio, safeAvatarUrl, safeCoverUrl]);\n\n  const runSave = async (opts?: {\n    fullName?: string;\n    username?: string;\n    bio?: string;\n    avatarUrl?: string | null;\n    coverUrl?: string | null;\n  }) => {\n    setSaving(true);\n    setError(null);\n    setSuccess(null);\n    const fullName = (opts?.fullName ?? nameInput).trim();\n    const rawUsername = opts?.username ?? usernameInput.replace(/^@/, \"\");\n    const cleaned = sanitizeUsername(rawUsername);\n    const validation = validateUsername(cleaned);\n    if (!fullName || !validation.valid) {\n      setError(!fullName ? \"O nome é obrigatório.\" : validation.error);\n      setSaving(false);\n      return false;\n    }\n    const payload = {\n      fullName,\n      username: validation.normalized,\n      bio: opts?.bio ?? bioInput.trim(),\n      avatarUrl: opts?.avatarUrl ?? avatar ?? null,\n      coverUrl: opts?.coverUrl ?? cover ?? null,\n      visibility: visibility === \"PRIVATE\" ? \"PRIVATE\" : \"PUBLIC\",\n    };\n    const res = await fetch(\"/api/profiles/save-basic\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n    const json = await res.json().catch(() => ({}));\n    if (!res.ok || !json?.ok) {\n      setError(json?.error || \"Erro ao guardar.\");\n      setSaving(false);\n      return false;\n    }\n    setNameInput(fullName);\n    setUsernameInput(validation.normalized);\n    setBioInput(payload.bio ?? \"\");\n    setAvatar(payload.avatarUrl ?? null);\n    setCover(payload.coverUrl ?? null);\n    setSuccess(\"Guardado.\");\n    setSaving(false);\n    setEditingField(null);\n    router.refresh();\n    return true;\n  };\n\n  const handleAvatarUpload = async (file: File | null) => {\n    if (!file) return;\n    setError(null);\n    setSuccess(null);\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await fetch(\"/api/upload\", { method: \"POST\", body: formData });\n    const json = await res.json().catch(() => null);\n    if (!res.ok || !json?.url) {\n      setError(json?.error || \"Falha no upload da foto.\");\n      return;\n    }\n    setAvatar(json.url);\n    await runSave({ avatarUrl: json.url });\n  };\n\n  const triggerFile = () => fileInputRef.current?.click();\n  const triggerCoverFile = () => coverInputRef.current?.click();\n\n  const handleCoverUpload = async (file: File | null) => {\n    if (!file) return;\n    setError(null);\n    setSuccess(null);\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await fetch(\"/api/upload\", { method: \"POST\", body: formData });\n    const json = await res.json().catch(() => null);\n    if (!res.ok || !json?.url) {\n      setError(json?.error || \"Falha no upload da capa.\");\n      return;\n    }\n    setCover(json.url);\n    await runSave({ coverUrl: json.url });\n  };\n\n  const handleCoverRemove = async () => {\n    setCover(null);\n    await runSave({ coverUrl: null });\n  };\n\n  const badgeVisibility =\n    visibility === \"PRIVATE\"\n      ? { label: \"Perfil privado\", classes: \"border-white/25 bg-white/10 text-white/85\" }\n      : { label: \"Perfil público\", classes: \"border-emerald-200/40 bg-emerald-400/10 text-emerald-50\" };\n  const followersCount = followers ?? null;\n  const followingCount = following ?? null;\n  const [followersDisplay, setFollowersDisplay] = useState(followersCount ?? 0);\n  const [showFollowersModal, setShowFollowersModal] = useState(false);\n  const [showFollowingModal, setShowFollowingModal] = useState(false);\n  const [listLoading, setListLoading] = useState(false);\n  const [listItems, setListItems] = useState<\n    Array<{ userId: string; username: string | null; fullName: string | null; avatarUrl: string | null }>\n  >([]);\n  const handleFollowChange = (next: boolean) => {\n    setFollowersDisplay((prev) => Math.max(0, (prev ?? 0) + (next ? 1 : -1)));\n  };\n\n  const loadList = async (mode: \"followers\" | \"following\") => {\n    if (!targetUserId) return;\n    setListLoading(true);\n    try {\n      const res = await fetch(`/api/social/${mode}?userId=${targetUserId}`);\n      const json = await res.json().catch(() => null);\n      if (res.ok && json?.ok) {\n        setListItems(Array.isArray(json.items) ? json.items : []);\n      } else {\n        setListItems([]);\n      }\n    } catch {\n      setListItems([]);\n    } finally {\n      setListLoading(false);\n    }\n  };\n\n  return (\n    <section className=\"relative\">\n      <div className=\"px-5 pt-5 sm:px-8\">\n        <div className=\"orya-page-width\">\n          <div className=\"relative h-44 w-full overflow-hidden rounded-2xl border border-white/10 sm:h-52\">\n            <div className=\"absolute inset-0 bg-cover bg-center\" style={coverStyle} />\n            {!cover && (\n              <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(107,255,255,0.25),transparent_55%),radial-gradient(circle_at_80%_20%,rgba(255,0,200,0.2),transparent_55%),linear-gradient(135deg,rgba(6,10,20,0.8),rgba(9,10,18,0.95))]\" />\n            )}\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/10 via-black/50 to-[#05070f]/95\" />\n            {isOwner && (\n              <div className=\"absolute right-3 top-3 flex items-center gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={triggerCoverFile}\n                  disabled={saving}\n                  className=\"rounded-full border border-white/25 bg-white/10 px-3 py-1 text-[11px] font-semibold text-white/85 shadow-[0_10px_26px_rgba(0,0,0,0.35)] hover:bg-white/15 disabled:opacity-60\"\n                >\n                  {cover ? \"Trocar capa\" : \"Adicionar capa\"}\n                </button>\n                {cover && (\n                  <button\n                    type=\"button\"\n                    onClick={handleCoverRemove}\n                    disabled={saving}\n                    className=\"rounded-full border border-white/15 bg-black/50 px-3 py-1 text-[11px] text-white/70 hover:bg-black/60 disabled:opacity-60\"\n                  >\n                    Remover\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n          <input\n            ref={coverInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            className=\"hidden\"\n            onChange={(e) => handleCoverUpload(e.target.files?.[0] ?? null)}\n          />\n        </div>\n      </div>\n\n      <div className=\"relative -mt-10 px-5 pb-6 sm:px-8\">\n        <div className=\"orya-page-width flex flex-col gap-4 md:flex-row md:items-end md:justify-between\">\n          <div className=\"flex items-start gap-4\">\n            <div className=\"relative shrink-0\">\n              <div\n                className=\"relative inline-flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-tr from-[#FF00C8] via-[#6BFFFF] to-[#1646F5] p-[2px] shadow-[0_0_24px_rgba(255,0,200,0.26)] cursor-pointer transition-all hover:shadow-[0_0_26px_rgba(255,0,200,0.32)] sm:h-28 sm:w-28\"\n                onClick={() => setAvatarMenu((v) => !v)}\n              >\n                <div className=\"flex h-full w-full items-center justify-center rounded-full bg-black/90 overflow-hidden\">\n                  {avatar ? (\n                    // eslint-disable-next-line @next/next/no-img-element\n                    <img\n                      src={avatar}\n                      alt={displayName}\n                      className=\"h-full w-full object-cover\"\n                      loading=\"lazy\"\n                      decoding=\"async\"\n                    />\n                  ) : (\n                    <span className=\"text-xs font-semibold uppercase tracking-[0.2em] text-white/60\">\n                      {displayName\n                        .split(\" \")\n                        .map((part) => part[0])\n                        .join(\"\")\n                        .slice(0, 3)}\n                    </span>\n                  )}\n                </div>\n              </div>\n              {avatarMenu && (\n                <div className=\"absolute left-0 top-[110%] z-30 w-52 rounded-2xl border border-white/15 bg-[rgba(5,8,15,0.9)] p-2 text-sm text-white shadow-[0_24px_80px_rgba(0,0,0,0.6)] backdrop-blur-2xl\">\n                  {avatar && (\n                    <button\n                      className=\"w-full rounded-xl px-3 py-2 text-left hover:bg-white/10\"\n                      onClick={() => {\n                        setAvatarMenu(false);\n                        setShowFollowersModal(false);\n                        setShowFollowingModal(false);\n                        const overlay = document.createElement(\"div\");\n                        overlay.style.position = \"fixed\";\n                        overlay.style.inset = \"0\";\n                        overlay.style.background = \"rgba(0,0,0,0.75)\";\n                        overlay.style.backdropFilter = \"blur(8px)\";\n                        overlay.style.zIndex = \"9999\";\n                        overlay.style.display = \"flex\";\n                        overlay.style.alignItems = \"center\";\n                        overlay.style.justifyContent = \"center\";\n                        const img = document.createElement(\"img\");\n                        img.src = avatar;\n                        img.alt = displayName;\n                        img.style.maxWidth = \"85vw\";\n                        img.style.maxHeight = \"85vh\";\n                        img.style.borderRadius = \"20px\";\n                        img.style.border = \"1px solid rgba(255,255,255,0.2)\";\n                        img.style.boxShadow = \"0 30px 120px rgba(0,0,0,0.55)\";\n                        overlay.appendChild(img);\n                        overlay.addEventListener(\"click\", () => document.body.removeChild(overlay));\n                        document.body.appendChild(overlay);\n                      }}\n                    >\n                      Ver foto em grande\n                    </button>\n                  )}\n                  {isOwner && (\n                    <>\n                      <button\n                        className=\"w-full rounded-xl px-3 py-2 text-left hover:bg-white/10\"\n                        onClick={() => {\n                          setAvatarMenu(false);\n                          triggerFile();\n                        }}\n                      >\n                        Mudar foto\n                      </button>\n                      <button\n                        className=\"w-full rounded-xl px-3 py-2 text-left hover:bg-white/10\"\n                        onClick={() => {\n                          setAvatarMenu(false);\n                          runSave({ avatarUrl: null });\n                        }}\n                      >\n                        Remover foto\n                      </button>\n                    </>\n                  )}\n                </div>\n              )}\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                className=\"hidden\"\n                onChange={(e) => handleAvatarUpload(e.target.files?.[0] ?? null)}\n              />\n            </div>\n\n            <div className=\"flex min-w-0 flex-col gap-3\">\n              <div className=\"flex flex-wrap items-center gap-3\">\n                <button\n                  className=\"inline-flex items-center gap-2 rounded-2xl border border-white/16 bg-white/8 px-3 py-1.5 text-white hover:border-white/24 hover:bg-white/10 transition-colors\"\n                  onClick={() => {\n                    setShowFollowersModal(true);\n                    loadList(\"followers\");\n                  }}\n                >\n                  <span className=\"text-base font-semibold leading-none\">{followersDisplay ?? \"—\"}</span>\n                  <span className=\"text-[11px] uppercase tracking-[0.12em] text-white/70 leading-none\">\n                    Seguidores\n                  </span>\n                </button>\n                <button\n                  className=\"inline-flex items-center gap-2 rounded-2xl border border-white/16 bg-white/8 px-3 py-1.5 text-white hover:border-white/24 hover:bg-white/10 transition-colors\"\n                  onClick={() => {\n                    setShowFollowingModal(true);\n                    loadList(\"following\");\n                  }}\n                >\n                  <span className=\"text-base font-semibold leading-none\">{followingCount ?? \"—\"}</span>\n                  <span className=\"text-[11px] uppercase tracking-[0.12em] text-white/70 leading-none\">\n                    A seguir\n                  </span>\n                </button>\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2\">\n                {editingField === \"name\" ? (\n                  <div className=\"flex items-center gap-2 flex-wrap\">\n                    <input\n                      value={nameInput}\n                      onChange={(e) => setNameInput(e.target.value)}\n                      className=\"rounded-xl border border-white/15 bg-black/50 px-3 py-2 text-lg font-semibold text-white focus:outline-none focus:border-white/40\"\n                      maxLength={80}\n                      autoFocus\n                    />\n                    <button\n                      onClick={() => runSave({ fullName: nameInput })}\n                      className=\"rounded-full bg-white text-black px-3 py-1 text-xs font-semibold shadow\"\n                      disabled={saving}\n                    >\n                      Guardar\n                    </button>\n                    <button\n                      onClick={() => {\n                        setNameInput(displayName);\n                        setEditingField(null);\n                      }}\n                      className=\"rounded-full border border-white/20 px-3 py-1 text-xs text-white/80\"\n                    >\n                      Cancelar\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-2\">\n                    <h1 className=\"text-[22px] sm:text-3xl font-semibold tracking-tight text-white truncate\">\n                      {nameInput}\n                    </h1>\n                    {isOwner && (\n                      <button\n                        className=\"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-white/75 hover:bg-white/12\"\n                        onClick={() => setEditingField(\"name\")}\n                        aria-label=\"Editar nome\"\n                      >\n                        ✎\n                      </button>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2 text-[12px] text-white/80\">\n                {editingField === \"username\" ? (\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      value={usernameInput}\n                      onChange={(e) => setUsernameInput(e.target.value)}\n                      className=\"rounded-xl border border-white/15 bg-black/50 px-3 py-1.5 text-sm text-white focus:outline-none focus:border-white/40\"\n                      maxLength={24}\n                      autoFocus\n                    />\n                    <button\n                      onClick={() => runSave({ username: usernameInput })}\n                      className=\"rounded-full bg-white text-black px-3 py-1 text-[11px] font-semibold shadow\"\n                      disabled={saving}\n                    >\n                      Guardar\n                    </button>\n                    <button\n                      onClick={() => {\n                        setUsernameInput(handle ?? \"\");\n                        setEditingField(null);\n                      }}\n                      className=\"rounded-full border border-white/20 px-3 py-1 text-[11px] text-white/80\"\n                    >\n                      Cancelar\n                    </button>\n                  </div>\n                ) : (\n                  <>\n                    {handle && (\n                      <span className=\"rounded-full border border-white/15 bg-white/6 px-3 py-1 font-semibold text-white\">\n                        @{handle}\n                      </span>\n                    )}\n                    {!handle && isOwner && (\n                      <span className=\"rounded-full border border-dashed border-white/25 px-2 py-0.5 text-[11px] text-white/70\">\n                        Define um @username para ativares o teu perfil público\n                      </span>\n                    )}\n                    {isOwner && (\n                      <button\n                        className=\"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                        onClick={() => setEditingField(\"username\")}\n                        aria-label=\"Editar username\"\n                      >\n                        ✎\n                      </button>\n                    )}\n                  </>\n                )}\n                {city && <span className=\"rounded-full border border-white/10 px-3 py-1 text-white/70\">{city}</span>}\n              </div>\n\n              {editingField === \"bio\" ? (\n                <div className=\"flex flex-col gap-2\">\n                  <textarea\n                    value={bioInput}\n                    onChange={(e) => setBioInput(e.target.value.slice(0, 280))}\n                    className=\"min-h-[80px] max-w-xl rounded-2xl border border-white/15 bg-black/40 px-3 py-2 text-sm text-white focus:outline-none focus:border-white/35\"\n                    placeholder=\"Escreve uma bio curta.\"\n                  />\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => runSave({ bio: bioInput })}\n                      className=\"rounded-full bg-white text-black px-3 py-1 text-[11px] font-semibold shadow\"\n                      disabled={saving}\n                    >\n                      Guardar bio\n                    </button>\n                    <button\n                      onClick={() => {\n                        setBioInput(bio ?? \"\");\n                        setEditingField(null);\n                      }}\n                      className=\"rounded-full border border-white/20 px-3 py-1 text-[11px] text-white/80\"\n                    >\n                      Cancelar\n                    </button>\n                    <span className=\"text-[11px] text-white/50\">{bioInput.length}/280</span>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"flex flex-wrap items-start gap-2\">\n                  <p className=\"mt-1 max-w-xl text-sm text-white/85 leading-relaxed\">\n                    {bioInput || (isOwner ? \"Adiciona uma bio curta para o teu perfil.\" : \"Sem bio no momento.\")}\n                  </p>\n                  {isOwner && (\n                    <button\n                      className=\"rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                      onClick={() => setEditingField(\"bio\")}\n                      aria-label=\"Editar bio\"\n                    >\n                      ✎\n                    </button>\n                  )}\n                </div>\n              )}\n\n              <div className=\"flex flex-wrap items-center gap-2 text-[11px] text-white/75\">\n                <span className={`rounded-full px-2.5 py-1 border ${badgeVisibility.classes}`}>\n                  {badgeVisibility.label}\n                </span>\n                {publicProfileHref && (\n                  <Link\n                    href={publicProfileHref}\n                    className=\"rounded-full border border-white/12 bg-white/5 px-3 py-1 text-[11px] text-white/80 hover:border-white/25 hover:bg-white/12 transition-colors\"\n                  >\n                    Ver perfil público\n                  </Link>\n                )}\n                {!isOwner && targetUserId && (\n                  <div className=\"md:hidden\">\n                    <FollowClient\n                      targetUserId={targetUserId}\n                      initialIsFollowing={initialIsFollowing ?? false}\n                      onChange={handleFollowChange}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"hidden flex-wrap items-center gap-2 md:flex\">\n            {!isOwner && targetUserId && (\n              <FollowClient\n                targetUserId={targetUserId}\n                initialIsFollowing={initialIsFollowing ?? false}\n                onChange={handleFollowChange}\n              />\n            )}\n          </div>\n        </div>\n\n        {(error || success) && (\n          <div className=\"orya-page-width mt-3 text-[12px]\">\n            {error && <p className=\"text-red-200\">{error}</p>}\n            {!error && success && <p className=\"text-emerald-200\">{success}</p>}\n          </div>\n        )}\n      </div>\n\n      {(showFollowersModal || showFollowingModal) && (\n        <div\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) {\n              setShowFollowersModal(false);\n              setShowFollowingModal(false);\n            }\n          }}\n        >\n          <div className=\"w-full max-w-md rounded-3xl border border-white/12 bg-[rgba(8,10,18,0.92)] p-4 shadow-[0_30px_80px_rgba(0,0,0,0.8)] backdrop-blur-2xl\">\n            <div className=\"mb-3 flex items-center justify-between\">\n              <h3 className=\"text-sm font-semibold text-white\">\n                {showFollowersModal ? \"Seguidores\" : \"A seguir\"}\n              </h3>\n              <button\n                onClick={() => {\n                  setShowFollowersModal(false);\n                  setShowFollowingModal(false);\n                }}\n                className=\"rounded-full border border-white/15 bg-white/10 px-2 py-1 text-[11px] text-white/80 hover:bg-white/15\"\n              >\n                Fechar\n              </button>\n            </div>\n            {listLoading ? (\n              <div className=\"space-y-2\">\n                <div className=\"h-12 rounded-xl bg-white/5 animate-pulse\" />\n                <div className=\"h-12 rounded-xl bg-white/5 animate-pulse\" />\n              </div>\n            ) : listItems.length === 0 ? (\n              <p className=\"text-[12px] text-white/70\">Nada para mostrar.</p>\n            ) : (\n              <div className=\"max-h-[60vh] space-y-2 overflow-y-auto pr-1\">\n                {listItems.map((item) => {\n                  const handle = item.username || item.userId;\n                  return (\n                    <Link\n                      key={item.userId}\n                      href={item.username ? `/${item.username}` : `/me`}\n                      className=\"flex items-center gap-3 rounded-xl border border-white/8 bg-white/5 px-3 py-2 hover:border-white/20 hover:bg-white/8 transition-colors\"\n                      onClick={() => {\n                        setShowFollowersModal(false);\n                        setShowFollowingModal(false);\n                      }}\n                    >\n                      <div className=\"h-10 w-10 overflow-hidden rounded-full border border-white/12 bg-[radial-gradient(circle_at_30%_30%,rgba(255,0,200,0.16),transparent_45%),radial-gradient(circle_at_70%_70%,rgba(107,255,255,0.14),transparent_50%),#0b0f1b]\">\n                        {item.avatarUrl ? (\n                          // eslint-disable-next-line @next/next/no-img-element\n                          <img src={item.avatarUrl} alt={handle} className=\"h-full w-full object-cover\" />\n                        ) : (\n                          <div className=\"flex h-full w-full items-center justify-center text-[11px] font-semibold uppercase text-white/60\">\n                            ORYA\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-semibold text-white truncate\">\n                          {item.fullName || item.username || \"Utilizador ORYA\"}\n                        </p>\n                        {item.username && (\n                          <p className=\"text-[11px] text-white/65 truncate\">@{item.username}</p>\n                        )}\n                      </div>\n                    </Link>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizerFollowClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useTransition } from \"react\";\n\ntype OrganizerFollowClientProps = {\n  organizerId: number;\n  initialIsFollowing: boolean;\n  onChange?: (next: boolean) => void;\n};\n\nexport default function OrganizerFollowClient({\n  organizerId,\n  initialIsFollowing,\n  onChange,\n}: OrganizerFollowClientProps) {\n  const [isFollowing, setIsFollowing] = useState(initialIsFollowing);\n  const [isPending, startTransition] = useTransition();\n\n  const toggleFollow = () => {\n    const next = !isFollowing;\n    setIsFollowing(next);\n    onChange?.(next);\n    startTransition(async () => {\n      try {\n        const res = await fetch(next ? \"/api/social/follow-organizer\" : \"/api/social/unfollow-organizer\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ organizerId }),\n        });\n        const json = await res.json().catch(() => null);\n        if (!res.ok || !json?.ok) {\n          setIsFollowing(!next);\n          onChange?.(!next);\n        }\n      } catch {\n        setIsFollowing(!next);\n        onChange?.(!next);\n      }\n    });\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={toggleFollow}\n      disabled={isPending}\n      className={`inline-flex items-center rounded-full px-4 py-2 text-[12px] font-semibold transition ${\n        isFollowing\n          ? \"border border-white/20 bg-white/8 text-white/65 hover:bg-white/12\"\n          : \"bg-gradient-to-r from-[#FF00C8] via-[#6BFFFF] to-[#1646F5] text-black shadow-[0_0_22px_rgba(107,255,255,0.45)] hover:scale-[1.02]\"\n      } disabled:opacity-60`}\n    >\n      {isFollowing ? \"A seguir\" : \"Seguir\"}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,sBAAsB,EAC5C,WAAW,EACX,kBAAkB,EAClB,QAAQ,EACmB;IAC3B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,sNAAa;IAElD,MAAM,eAAe;QACnB,MAAM,OAAO,CAAC;QACd,eAAe;QACf,WAAW;QACX,gBAAgB;YACd,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,OAAO,iCAAiC,kCAAkC;oBAChG,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE;oBAAY;gBACrC;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;gBAC1C,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,IAAI;oBACxB,eAAe,CAAC;oBAChB,WAAW,CAAC;gBACd;YACF,EAAE,OAAM;gBACN,eAAe,CAAC;gBAChB,WAAW,CAAC;YACd;QACF;IACF;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,SAAS;QACT,UAAU;QACV,WAAW,CAAC,qFAAqF,EAC/F,cACI,sEACA,oIACL,oBAAoB,CAAC;kBAErB,cAAc,aAAa;;;;;;AAGlC"}},
    {"offset": {"line": 1201, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizationProfileHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport OrganizerFollowClient from \"@/app/components/profile/OrganizerFollowClient\";\n\ntype OrganizationProfileHeaderProps = {\n  name: string | null;\n  username: string | null;\n  avatarUrl: string | null;\n  coverUrl: string | null;\n  bio: string | null;\n  city: string | null;\n  followersCount?: number | null;\n  followingCount?: number | null;\n  organizerId: number;\n  initialIsFollowing?: boolean;\n  isOwner?: boolean;\n  isPublic?: boolean;\n  isVerified?: boolean;\n  instagramHref?: string | null;\n  youtubeHref?: string | null;\n  websiteHref?: string | null;\n  contactEmail?: string | null;\n};\n\nexport default function OrganizationProfileHeader({\n  name,\n  username,\n  avatarUrl,\n  coverUrl,\n  bio,\n  city,\n  followersCount,\n  followingCount,\n  organizerId,\n  initialIsFollowing = false,\n  isOwner,\n  isPublic = true,\n  isVerified = false,\n  instagramHref,\n  youtubeHref,\n  websiteHref,\n  contactEmail,\n}: OrganizationProfileHeaderProps) {\n  const displayName = name?.trim() || \"Organização ORYA\";\n  const handle = username?.trim() || null;\n  const avatarInitials = useMemo(\n    () =>\n      displayName\n        .split(\" \")\n        .map((part) => part[0])\n        .join(\"\")\n        .slice(0, 3)\n        .toUpperCase(),\n    [displayName],\n  );\n  const [followersDisplay, setFollowersDisplay] = useState(followersCount ?? 0);\n  const coverStyle = coverUrl ? { backgroundImage: `url(${coverUrl})` } : undefined;\n  const mailtoHref = contactEmail ? `mailto:${contactEmail}` : null;\n  const iconBaseClass =\n    \"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/20 bg-white/8 text-white/85 transition hover:border-white/40 hover:bg-white/12\";\n\n  return (\n    <section className=\"relative\">\n      <div className=\"px-5 pt-5 sm:px-8\">\n        <div className=\"orya-page-width\">\n          <div className=\"relative h-44 w-full overflow-hidden rounded-2xl border border-white/10 sm:h-52\">\n            <div\n              className=\"absolute inset-0 bg-cover bg-center\"\n              style={coverStyle}\n            />\n            {!coverUrl && (\n              <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(107,255,255,0.25),transparent_55%),radial-gradient(circle_at_80%_20%,rgba(255,0,200,0.2),transparent_55%),linear-gradient(135deg,rgba(6,10,20,0.8),rgba(9,10,18,0.95))]\" />\n            )}\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/10 via-black/50 to-[#05070f]/95\" />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"relative -mt-10 px-5 pb-6 sm:px-8\">\n        <div className=\"orya-page-width flex flex-col gap-4 md:flex-row md:items-end md:justify-between\">\n          <div className=\"flex items-start gap-4\">\n            <div className=\"relative shrink-0\">\n              <div className=\"relative inline-flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-tr from-[#FF00C8] via-[#6BFFFF] to-[#1646F5] p-[2px] shadow-[0_0_24px_rgba(255,0,200,0.26)] sm:h-28 sm:w-28\">\n                <div className=\"flex h-full w-full items-center justify-center overflow-hidden rounded-full bg-black/90\">\n                  {avatarUrl ? (\n                    // eslint-disable-next-line @next/next/no-img-element\n                    <img src={avatarUrl} alt={displayName} className=\"h-full w-full object-cover\" />\n                  ) : (\n                    <span className=\"text-xs font-semibold uppercase tracking-[0.2em] text-white/60\">\n                      {avatarInitials}\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex min-w-0 flex-col gap-3\">\n              <div className=\"flex flex-wrap items-center gap-3\">\n                <div className=\"inline-flex items-center gap-2 rounded-2xl border border-white/16 bg-white/8 px-3 py-1.5 text-white\">\n                  <span className=\"text-base font-semibold leading-none\">{followersDisplay ?? \"—\"}</span>\n                  <span className=\"text-[11px] uppercase tracking-[0.12em] text-white/70 leading-none\">\n                    Seguidores\n                  </span>\n                </div>\n                <div className=\"inline-flex items-center gap-2 rounded-2xl border border-white/16 bg-white/8 px-3 py-1.5 text-white\">\n                  <span className=\"text-base font-semibold leading-none\">{followingCount ?? 0}</span>\n                  <span className=\"text-[11px] uppercase tracking-[0.12em] text-white/70 leading-none\">\n                    A seguir\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2\">\n                <h1 className=\"text-[22px] sm:text-3xl font-semibold tracking-tight text-white truncate\">\n                  {displayName}\n                </h1>\n                {isVerified && (\n                  <span className=\"inline-flex h-6 w-6 items-center justify-center rounded-full border border-amber-300/50 bg-gradient-to-br from-amber-400/30 via-amber-500/20 to-amber-600/25 text-amber-100 shadow-[0_0_12px_rgba(251,191,36,0.35)]\">\n                    <svg\n                      viewBox=\"0 0 24 24\"\n                      aria-hidden=\"true\"\n                      className=\"h-3.5 w-3.5\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2.4\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      <path d=\"M20 6L9 17l-5-5\" />\n                    </svg>\n                  </span>\n                )}\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2 text-[12px] text-white/80\">\n                {handle && (\n                  <span className=\"rounded-full border border-white/15 bg-white/6 px-3 py-1 font-semibold text-white\">\n                    @{handle}\n                  </span>\n                )}\n                {city && <span className=\"rounded-full border border-white/10 px-3 py-1 text-white/70\">{city}</span>}\n              </div>\n\n              <p className=\"max-w-xl text-sm text-white/85 leading-relaxed\">\n                {bio?.trim() || \"Sem bio no momento.\"}\n              </p>\n\n              <div className=\"flex flex-wrap items-center gap-2 text-[11px] text-white/75\">\n                {instagramHref && (\n                  <a\n                    href={instagramHref}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"relative inline-flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-[#f9ce34] via-[#ee2a7b] to-[#6228d7] p-[1.5px] shadow-[0_10px_24px_rgba(238,42,123,0.25)]\"\n                    aria-label=\"Instagram\"\n                  >\n                    <span className=\"inline-flex h-full w-full items-center justify-center rounded-full bg-[#0b0f1d] text-white\">\n                      <svg viewBox=\"0 0 24 24\" className=\"h-5 w-5\" aria-hidden=\"true\">\n                        <path\n                          fill=\"currentColor\"\n                          d=\"M7 3h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4Zm0 2a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H7Zm5 3.2a4.8 4.8 0 1 1 0 9.6a4.8 4.8 0 0 1 0-9.6Zm0 2a2.8 2.8 0 1 0 0 5.6a2.8 2.8 0 0 0 0-5.6Zm5.3-1.6a1.1 1.1 0 1 1-2.2 0a1.1 1.1 0 0 1 2.2 0Z\"\n                        />\n                      </svg>\n                    </span>\n                  </a>\n                )}\n                {youtubeHref && (\n                  <a\n                    href={youtubeHref}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className={`${iconBaseClass} border-red-400/45 bg-red-500/15 text-red-100`}\n                    aria-label=\"YouTube\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" className=\"h-4 w-4\" aria-hidden=\"true\">\n                      <path\n                        fill=\"currentColor\"\n                        d=\"M21.6 7.2a2.7 2.7 0 0 0-1.9-1.9C18 4.8 12 4.8 12 4.8s-6 0-7.7.5a2.7 2.7 0 0 0-1.9 1.9A28.3 28.3 0 0 0 2 12a28.3 28.3 0 0 0 .4 4.8 2.7 2.7 0 0 0 1.9 1.9c1.7.5 7.7.5 7.7.5s6 0 7.7-.5a2.7 2.7 0 0 0 1.9-1.9A28.3 28.3 0 0 0 22 12a28.3 28.3 0 0 0-.4-4.8ZM10 15.5v-7l6 3.5-6 3.5Z\"\n                      />\n                    </svg>\n                  </a>\n                )}\n                {websiteHref && (\n                  <a\n                    href={websiteHref}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className={`${iconBaseClass} border-sky-300/45 bg-sky-400/15 text-sky-100`}\n                    aria-label=\"Website\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" className=\"h-4 w-4\" aria-hidden=\"true\">\n                      <path\n                        fill=\"currentColor\"\n                        d=\"M12 3a9 9 0 1 0 0 18a9 9 0 0 0 0-18Zm6.7 7h-3.1a15.2 15.2 0 0 0-1.2-4A7.2 7.2 0 0 1 18.7 10Zm-6.7-5c.7 1 1.4 2.6 1.8 5H10.2c.4-2.4 1.1-4 1.8-5Zm-2.4.3A15.2 15.2 0 0 0 8.4 10H5.3a7.2 7.2 0 0 1 4.3-4.7Zm-4.3 6.7h3.1a16.7 16.7 0 0 0 0 4H5.3a7.2 7.2 0 0 1 0-4Zm4.3 6.7A7.2 7.2 0 0 1 5.3 14h3.1c.3 1.6.7 3 1.2 4.7Zm2.4.3c-.7-1-1.4-2.6-1.8-5h3.6c-.4 2.4-1.1 4-1.8 5Zm2.4-.3c.5-1.6.9-3 1.2-4.7h3.1a7.2 7.2 0 0 1-4.3 4.7Zm1.4-6.7H10.2a15.4 15.4 0 0 1 0-4h3.6a15.4 15.4 0 0 1 0 4Z\"\n                      />\n                    </svg>\n                  </a>\n                )}\n                {mailtoHref && (\n                  <a\n                    href={mailtoHref}\n                    className={iconBaseClass}\n                    aria-label=\"Email\"\n                  >\n                    <svg viewBox=\"0 0 24 24\" className=\"h-5 w-5\" aria-hidden=\"true\">\n                      <path\n                        d=\"M4 7.5A2.5 2.5 0 0 1 6.5 5h11A2.5 2.5 0 0 1 20 7.5v9A2.5 2.5 0 0 1 17.5 19h-11A2.5 2.5 0 0 1 4 16.5v-9Z\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeWidth=\"1.8\"\n                        strokeLinejoin=\"round\"\n                      />\n                      <path\n                        d=\"m5.5 7.8l6.1 4.2c.24.16.56.16.8 0l6.1-4.2\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeWidth=\"1.8\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                  </a>\n                )}\n                {!isPublic && (\n                  <span className=\"rounded-full border border-white/25 bg-white/10 px-2.5 py-1 text-[11px] text-white/75\">\n                    Perfil privado\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-2\">\n            {!isOwner && (\n              <OrganizerFollowClient\n                organizerId={organizerId}\n                initialIsFollowing={initialIsFollowing}\n                onChange={(next) => {\n                  setFollowersDisplay((prev) => Math.max(0, (prev ?? 0) + (next ? 1 : -1)));\n                }}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1663, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizerAgendaTabs.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useMemo, useState } from \"react\";\n\ntype AgendaItem = {\n  id: number;\n  slug: string;\n  title: string;\n  timeLabel: string;\n  locationLabel: string;\n  isPast: boolean;\n  isFree: boolean;\n};\n\ntype AgendaGroup = {\n  key: string;\n  label: string;\n  items: AgendaItem[];\n};\n\ntype AgendaTabKey = \"upcoming\" | \"past\" | \"all\";\n\ntype OrganizerAgendaTabsProps = {\n  upcomingGroups: AgendaGroup[];\n  pastGroups: AgendaGroup[];\n  allGroups: AgendaGroup[];\n  upcomingCount: number;\n  pastCount: number;\n  totalCount: number;\n  prelude?: React.ReactNode;\n  title?: string;\n  anchorId?: string;\n  layout?: \"stack\" | \"grid\";\n};\n\nconst TAB_LABELS: Record<AgendaTabKey, string> = {\n  upcoming: \"Próximos\",\n  past: \"Passados\",\n  all: \"Todos\",\n};\n\nexport default function OrganizerAgendaTabs({\n  upcomingGroups,\n  pastGroups,\n  allGroups,\n  upcomingCount,\n  pastCount,\n  totalCount,\n  prelude,\n  title,\n  anchorId,\n  layout = \"stack\",\n}: OrganizerAgendaTabsProps) {\n  const defaultTab: AgendaTabKey =\n    upcomingCount > 0 ? \"upcoming\" : pastCount > 0 ? \"past\" : \"all\";\n  const [tab, setTab] = useState<AgendaTabKey>(defaultTab);\n\n  const activeGroups = useMemo(() => {\n    if (tab === \"past\") return pastGroups;\n    if (tab === \"all\") return allGroups;\n    return upcomingGroups;\n  }, [tab, upcomingGroups, pastGroups, allGroups]);\n\n  const emptyLabel =\n    tab === \"past\"\n      ? \"Sem eventos passados publicados.\"\n      : tab === \"all\"\n        ? \"Sem eventos para mostrar.\"\n        : upcomingCount > 0\n          ? \"Sem mais eventos além do destaque.\"\n          : \"Agenda em preparação. Os próximos eventos aparecem aqui.\";\n\n  const tabs: Array<{ key: AgendaTabKey; count: number }> = [\n    { key: \"upcoming\", count: upcomingCount },\n    { key: \"past\", count: pastCount },\n    { key: \"all\", count: totalCount },\n  ];\n\n  const header = (\n    <div className=\"flex flex-wrap items-center justify-between gap-3\">\n      <div className=\"flex flex-wrap items-center gap-2\">\n        {tabs.map((tabItem) => {\n          const isActive = tabItem.key === tab;\n          return (\n            <button\n              key={tabItem.key}\n              type=\"button\"\n              onClick={() => setTab(tabItem.key)}\n              className={`rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] transition ${\n                isActive\n                  ? \"border-white/40 bg-white/20 text-white\"\n                  : \"border-white/15 bg-white/5 text-white/65 hover:border-white/30 hover:text-white\"\n              }`}\n            >\n              {TAB_LABELS[tabItem.key]}{\" \"}\n              <span className=\"text-[10px] opacity-70\">{tabItem.count}</span>\n            </button>\n          );\n        })}\n      </div>\n      <span className=\"text-[11px] text-white/60\">{totalCount} no total</span>\n    </div>\n  );\n\n  const body = (\n    <div className=\"space-y-4\">\n      {prelude}\n\n      {activeGroups.length === 0 ? (\n        <div className=\"rounded-2xl border border-white/10 bg-white/5 p-4 text-[12px] text-white/70\">\n          {emptyLabel}\n        </div>\n      ) : (\n        activeGroups.map((group) => (\n          <div key={group.key} className=\"space-y-2\">\n            <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">\n              {group.label}\n            </p>\n            <div className=\"space-y-2\">\n              {group.items.map((item) => {\n                const href = item.isPast\n                  ? `/eventos/${item.slug}`\n                  : `/eventos/${item.slug}?checkout=1#bilhetes`;\n                return (\n                  <Link\n                    key={item.id}\n                    href={href}\n                    className=\"group flex items-center justify-between gap-3 rounded-2xl border border-white/12 bg-white/5 px-3 py-3 text-sm text-white/80 transition hover:border-white/30 hover:bg-white/10\"\n                  >\n                    <div>\n                      <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/55\">\n                        {item.timeLabel}\n                      </p>\n                      <p className=\"text-sm font-semibold text-white\">\n                        {item.title}\n                      </p>\n                      <p className=\"text-[12px] text-white/60\">\n                        {item.locationLabel}\n                      </p>\n                    </div>\n                    <span\n                      className={`rounded-full border px-3 py-1 text-[11px] ${\n                        item.isPast\n                          ? \"border-white/15 bg-white/5 text-white/60\"\n                          : \"border-emerald-300/40 bg-emerald-400/10 text-emerald-100\"\n                      }`}\n                    >\n                      {item.isPast\n                        ? \"Ver resumo\"\n                        : item.isFree\n                          ? \"Garantir lugar\"\n                          : \"Comprar bilhete\"}\n                    </span>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n\n  if (layout === \"grid\") {\n    return (\n      <>\n        <div\n          id={anchorId}\n          className={`space-y-3 md:col-span-2 md:row-start-1 ${anchorId ? \"scroll-mt-24\" : \"\"}`}\n        >\n          {title && <h2 className=\"text-xl font-semibold text-white\">{title}</h2>}\n          {header}\n        </div>\n        <div className=\"md:col-span-2 md:row-start-2\">{body}</div>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {title && (\n        <div id={anchorId} className={anchorId ? \"scroll-mt-24\" : \"\"}>\n          <h2 className=\"text-xl font-semibold text-white\">{title}</h2>\n        </div>\n      )}\n      {header}\n      {body}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}