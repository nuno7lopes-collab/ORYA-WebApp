{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/analytics.ts"],"sourcesContent":["export type AnalyticsPayload = Record<string, any>;\n\nexport function trackEvent(name: string, payload?: AnalyticsPayload) {\n  if (!name) return;\n  // Por agora, apenas console.log; preparado para PostHog/Amplitude/GA.\n  // Mantém formato consistente para fácil troca futura.\n   \n  console.log(\"[trackEvent]\", name, payload ?? {});\n}\n"],"names":[],"mappings":";;;;AAEO,SAAS,WAAW,IAAY,EAAE,OAA0B;IACjE,IAAI,CAAC,MAAM;IACX,sEAAsE;IACtE,sDAAsD;IAEtD,QAAQ,GAAG,CAAC,gBAAgB,MAAM,WAAW,CAAC;AAChD"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/money.ts"],"sourcesContent":["// lib/money.ts\nconst EUR_NUMBER_FORMATTER = new Intl.NumberFormat(\"pt-PT\", {\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\n/**\n * Formata um valor em EUR para apresentação (ex.: 24,95 €).\n */\nexport function formatEuro(amount: number | null | undefined): string {\n  if (amount === null || amount === undefined || Number.isNaN(amount)) return \"\";\n\n  // Intl usa espaços não separáveis em PT; trocamos para espaço normal para evitar chars estranhos.\n  const formatted = EUR_NUMBER_FORMATTER.format(amount).replace(/\\u00A0/g, \" \");\n  return `${formatted} €`;\n}\n\n/**\n * Converte um valor em cêntimos para euros mantendo float com 2 casas.\n */\nexport function centsToEuro(cents: number | null | undefined): number | null {\n  if (cents === null || cents === undefined || Number.isNaN(cents)) return null;\n  return cents / 100;\n}\n"],"names":[],"mappings":"AAAA,eAAe;;;;;;;AACf,MAAM,uBAAuB,IAAI,KAAK,YAAY,CAAC,SAAS;IAC1D,uBAAuB;IACvB,uBAAuB;AACzB;AAKO,SAAS,WAAW,MAAiC;IAC1D,IAAI,WAAW,QAAQ,WAAW,aAAa,OAAO,KAAK,CAAC,SAAS,OAAO;IAE5E,kGAAkG;IAClG,MAAM,YAAY,qBAAqB,MAAM,CAAC,QAAQ,OAAO,CAAC,WAAW;IACzE,OAAO,GAAG,UAAU,EAAE,CAAC;AACzB;AAKO,SAAS,YAAY,KAAgC;IAC1D,IAAI,UAAU,QAAQ,UAAU,aAAa,OAAO,KAAK,CAAC,QAAQ,OAAO;IACzE,OAAO,QAAQ;AACjB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/constants/ptCities.ts"],"sourcesContent":["export const PT_CITIES = [\n  \"Porto\",\n  \"Lisboa\",\n  \"Braga\",\n  \"Coimbra\",\n  \"Aveiro\",\n  \"Faro\",\n  \"Setúbal\",\n  \"Leiria\",\n  \"Viseu\",\n  \"Guimarães\",\n  \"Matosinhos\",\n  \"Vila Nova de Gaia\",\n  \"Maia\",\n  \"Póvoa de Varzim\",\n  \"Funchal\",\n  \"Évora\",\n  \"Cascais\",\n  \"Sintra\",\n  \"Amadora\",\n  \"Almada\",\n] as const;\n\nexport type PTCity = (typeof PT_CITIES)[number];\n"],"names":[],"mappings":";;;;AAAO,MAAM,YAAY;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/username.ts"],"sourcesContent":["const USERNAME_REGEX = /^[a-z0-9](?:[a-z0-9._]*[a-z0-9])?$/;\n\nexport type UsernameValidation =\n  | { valid: true; normalized: string }\n  | { valid: false; error: string };\n\n/**\n * Remove acentos, espaços e caracteres inválidos, deixando apenas letras, números, _ e . (lowercase).\n * Limita a 30 chars e evita que termine/comece em '.'.\n */\nexport function sanitizeUsername(input: string): string {\n  const base = (input ?? \"\")\n    .normalize(\"NFKD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\"); // remove diacríticos\n  const cleaned = base.replace(/[^A-Za-z0-9._]/g, \"\");\n  const trimmed = cleaned.replace(/^\\.+/, \"\").replace(/\\.+$/, \"\");\n  const collapsedDots = trimmed.replace(/\\.{2,}/g, \".\");\n  return collapsedDots.toLowerCase().slice(0, 30);\n}\n\nexport function validateUsername(raw: string): UsernameValidation {\n  const normalized = sanitizeUsername(raw);\n  if (!normalized || normalized.length < 3 || normalized.length > 30) {\n    return {\n      valid: false,\n      error: \"Escolhe um username entre 3 e 30 caracteres (letras, números, _ ou .).\",\n    };\n  }\n  if (!USERNAME_REGEX.test(normalized)) {\n    return {\n      valid: false,\n      error: \"O username só pode ter letras, números, _ e . (sem espaços ou acentos).\",\n    };\n  }\n  if (normalized.includes(\"..\")) {\n    return {\n      valid: false,\n      error: \"O username não pode ter '..' seguido.\",\n    };\n  }\n  return { valid: true, normalized };\n}\n\nexport const USERNAME_RULES_HINT =\n  \"3-30 caracteres, letras ou números, opcionalmente _ ou ., sem espaços ou acentos.\";\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,iBAAiB;AAUhB,SAAS,iBAAiB,KAAa;IAC5C,MAAM,OAAO,CAAC,SAAS,EAAE,EACtB,SAAS,CAAC,QACV,OAAO,CAAC,oBAAoB,KAAK,qBAAqB;IACzD,MAAM,UAAU,KAAK,OAAO,CAAC,mBAAmB;IAChD,MAAM,UAAU,QAAQ,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ;IAC5D,MAAM,gBAAgB,QAAQ,OAAO,CAAC,WAAW;IACjD,OAAO,cAAc,WAAW,GAAG,KAAK,CAAC,GAAG;AAC9C;AAEO,SAAS,iBAAiB,GAAW;IAC1C,MAAM,aAAa,iBAAiB;IACpC,IAAI,CAAC,cAAc,WAAW,MAAM,GAAG,KAAK,WAAW,MAAM,GAAG,IAAI;QAClE,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,IAAI,CAAC,eAAe,IAAI,CAAC,aAAa;QACpC,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,IAAI,WAAW,QAAQ,CAAC,OAAO;QAC7B,OAAO;YACL,OAAO;YACP,OAAO;QACT;IACF;IACA,OAAO;QAAE,OAAO;QAAM;IAAW;AACnC;AAEO,MAAM,sBACX"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/image.ts"],"sourcesContent":["export function optimizeImageUrl(\n  url: string | null | undefined,\n  width = 1200,\n  quality = 75,\n  format: \"webp\" | \"avif\" | \"auto\" = \"webp\",\n) {\n  if (!url || typeof url !== \"string\") return url ?? \"\";\n  try {\n    const parsed = new URL(url);\n    if (parsed.hostname.includes(\"supabase.co\")) {\n      parsed.searchParams.set(\"width\", String(width));\n      parsed.searchParams.set(\"quality\", String(quality));\n      parsed.searchParams.set(\"format\", format);\n      return parsed.toString();\n    }\n    return url;\n  } catch (err) {\n    return url;\n  }\n}\n\nexport const defaultBlurDataURL =\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='9' viewBox='0 0 16 9'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' x2='1' y1='0' y2='1'%3E%3Cstop stop-color='%23050B16' offset='0'%3E%3C/stop%3E%3Cstop stop-color='%23111F3B' offset='1'%3E%3C/stop%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='16' height='9' fill='url(%23g)'/%3E%3C/svg%3E\";\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,iBACd,GAA8B,EAC9B,QAAQ,IAAI,EACZ,UAAU,EAAE,EACZ,SAAmC,MAAM;IAEzC,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO,OAAO;IACnD,IAAI;QACF,MAAM,SAAS,IAAI,IAAI;QACvB,IAAI,OAAO,QAAQ,CAAC,QAAQ,CAAC,gBAAgB;YAC3C,OAAO,YAAY,CAAC,GAAG,CAAC,SAAS,OAAO;YACxC,OAAO,YAAY,CAAC,GAAG,CAAC,WAAW,OAAO;YAC1C,OAAO,YAAY,CAAC,GAAG,CAAC,UAAU;YAClC,OAAO,OAAO,QAAQ;QACxB;QACA,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,OAAO;IACT;AACF;AAEO,MAAM,qBACX"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/components/ui/chart.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport type ChartConfig = Record<\n  string,\n  {\n    label: string;\n    color?: string;\n  }\n>;\n\ntype ChartContainerProps = React.HTMLAttributes<HTMLDivElement> & {\n  config: ChartConfig;\n};\n\nexport function ChartContainer({ config, className, children, ...props }: ChartContainerProps) {\n  return (\n    <div\n      data-chart-config={JSON.stringify(config)}\n      className={cn(\n        \"relative flex w-full flex-col gap-2 rounded-xl border border-white/10 bg-black/30 px-3 py-2\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\ntype LegendProps = {\n  payload?: Array<{ value: string; color?: string; dataKey?: string }>;\n};\n\nexport function ChartLegend({ payload }: LegendProps) {\n  if (!payload?.length) return null;\n  return (\n    <div className=\"mt-3 flex flex-wrap gap-3 text-[12px] text-white/80\">\n      {payload.map((item) => (\n        <span key={item.dataKey || item.value} className=\"inline-flex items-center gap-2\">\n          <span\n            className=\"h-2 w-2 rounded-full\"\n            style={{ background: item.color || \"var(--foreground)\" }}\n          />\n          {item.value}\n        </span>\n      ))}\n    </div>\n  );\n}\n\ntype TooltipContentProps = {\n  active?: boolean;\n  label?: string | number;\n  payload?: Array<{ name: string; value: number; color: string }>;\n  labelFormatter?: (value: string | number) => React.ReactNode;\n  formatter?: (value: number, name: string) => React.ReactNode;\n};\n\nexport function ChartTooltipContent({\n  active,\n  label,\n  payload,\n  labelFormatter,\n  formatter,\n}: TooltipContentProps) {\n  if (!active || !payload || payload.length === 0) return null;\n\n  const labelText = labelFormatter ? labelFormatter(label ?? \"\") : label;\n\n  return (\n    <div className=\"rounded-xl border border-white/12 bg-black/80 px-3 py-2 text-[12px] shadow-lg\">\n      <div className=\"mb-2 text-white/90\">{labelText}</div>\n      <div className=\"space-y-1\">\n        {payload.map((item) => (\n          <div key={item.name} className=\"flex items-center gap-2 text-white/80\">\n            <span className=\"h-2 w-2 rounded-full\" style={{ background: item.color }} />\n            <span className=\"flex-1\">\n              {formatter ? formatter(item.value, item.name) : `${item.name}: ${item.value}`}\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const ChartTooltip = (props: React.ComponentProps<\"div\">) => {\n  return <div {...props} />;\n};\n\nexport function ChartLegendContent(props: LegendProps) {\n  return <ChartLegend {...props} />;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA;;;AAcO,SAAS,eAAe,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAA4B;IAC3F,qBACE,8OAAC;QACC,qBAAmB,KAAK,SAAS,CAAC;QAClC,WAAW,IAAA,kHAAE,EACX,+FACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;AAMO,SAAS,YAAY,EAAE,OAAO,EAAe;IAClD,IAAI,CAAC,SAAS,QAAQ,OAAO;IAC7B,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,qBACZ,8OAAC;gBAAsC,WAAU;;kCAC/C,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,YAAY,KAAK,KAAK,IAAI;wBAAoB;;;;;;oBAExD,KAAK,KAAK;;eALF,KAAK,OAAO,IAAI,KAAK,KAAK;;;;;;;;;;AAU7C;AAUO,SAAS,oBAAoB,EAClC,MAAM,EACN,KAAK,EACL,OAAO,EACP,cAAc,EACd,SAAS,EACW;IACpB,IAAI,CAAC,UAAU,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG,OAAO;IAExD,MAAM,YAAY,iBAAiB,eAAe,SAAS,MAAM;IAEjE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAsB;;;;;;0BACrC,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,qBACZ,8OAAC;wBAAoB,WAAU;;0CAC7B,8OAAC;gCAAK,WAAU;gCAAuB,OAAO;oCAAE,YAAY,KAAK,KAAK;gCAAC;;;;;;0CACvE,8OAAC;gCAAK,WAAU;0CACb,YAAY,UAAU,KAAK,KAAK,EAAE,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,CAAC,EAAE,EAAE,KAAK,KAAK,EAAE;;;;;;;uBAHvE,KAAK,IAAI;;;;;;;;;;;;;;;;AAU7B;AAEO,MAAM,eAAe,CAAC;IAC3B,qBAAO,8OAAC;QAAK,GAAG,KAAK;;;;;;AACvB;AAEO,SAAS,mBAAmB,KAAkB;IACnD,qBAAO,8OAAC;QAAa,GAAG,KAAK;;;;;;AAC/B"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/config/cities.ts"],"sourcesContent":["import { PT_CITIES, type PTCity } from \"@/lib/constants/ptCities\";\n\nexport const PORTUGAL_CITIES = PT_CITIES;\nexport type CityOption = PTCity;\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,kBAAkB,yIAAS"}}]
}