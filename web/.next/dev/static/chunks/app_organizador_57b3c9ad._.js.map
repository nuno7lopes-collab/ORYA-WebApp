{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/objectiveNav.ts"],"sourcesContent":["export type ObjectiveTab = \"manage\" | \"promote\" | \"analyze\" | \"profile\";\nexport type OrgCategory = \"EVENTOS\" | \"PADEL\" | \"VOLUNTARIADO\";\n\nexport type ObjectiveNavContext = {\n  category: OrgCategory;\n  modules: string[];\n  username?: string | null;\n};\n\nexport type ObjectiveNavSection = {\n  id: string;\n  label: string;\n  href: string;\n  description?: string;\n};\n\nexport function normalizeOrgCategory(value?: string | null): OrgCategory {\n  const normalized = value?.toUpperCase() ?? \"\";\n  if (normalized === \"PADEL\") return \"PADEL\";\n  if (normalized === \"VOLUNTARIADO\") return \"VOLUNTARIADO\";\n  return \"EVENTOS\";\n}\n\nexport function getObjectiveSections(\n  objective: ObjectiveTab,\n  context: ObjectiveNavContext,\n  _options?: { mode?: \"dashboard\" | \"page\" },\n): ObjectiveNavSection[] {\n  const sections: ObjectiveNavSection[] = [];\n\n  if (objective === \"manage\") {\n    sections.push({\n      id: \"eventos\",\n      label: \"Eventos\",\n      href: \"/organizador?tab=manage&section=eventos\",\n    });\n    if (context.category === \"PADEL\") {\n      sections.push({\n        id: \"padel-hub\",\n        label: \"Hub Padel\",\n        href: \"/organizador?tab=manage&section=padel-hub\",\n      });\n      return sections;\n    }\n    sections.push({\n      id: \"inscricoes\",\n      label: \"Inscrições\",\n      href: \"/organizador?tab=manage&section=inscricoes\",\n    });\n    return sections;\n  }\n\n  if (objective === \"promote\") {\n    const baseHref = \"/organizador?tab=promote&section=marketing&marketing=\";\n    sections.push({\n      id: \"overview\",\n      label: \"Visão geral\",\n      href: `${baseHref}overview`,\n    });\n    sections.push({\n      id: \"promos\",\n      label: \"Códigos promocionais\",\n      href: `${baseHref}promos`,\n    });\n    sections.push({\n      id: \"updates\",\n      label: \"Canal oficial\",\n      href: `${baseHref}updates`,\n    });\n    sections.push({\n      id: \"promoters\",\n      label: \"Promotores e parcerias\",\n      href: `${baseHref}promoters`,\n    });\n    sections.push({\n      id: \"content\",\n      label: \"Conteúdos e kits\",\n      href: `${baseHref}content`,\n    });\n    return sections;\n  }\n\n  if (objective === \"profile\") {\n    return [\n      {\n        id: \"perfil\",\n        label: \"Perfil público\",\n        href: \"/organizador?tab=profile\",\n      },\n    ];\n  }\n\n  return [\n    {\n      id: \"financas\",\n      label: \"Finanças\",\n      href: \"/organizador?tab=analyze&section=financas\",\n    },\n    {\n      id: \"invoices\",\n      label: \"Faturação\",\n      href: \"/organizador?tab=analyze&section=invoices\",\n    },\n  ];\n}\n"],"names":[],"mappings":";;;;;;AAgBO,SAAS,qBAAqB,KAAqB;IACxD,MAAM,aAAa,OAAO,iBAAiB;IAC3C,IAAI,eAAe,SAAS,OAAO;IACnC,IAAI,eAAe,gBAAgB,OAAO;IAC1C,OAAO;AACT;AAEO,SAAS,qBACd,SAAuB,EACvB,OAA4B,EAC5B,QAA0C;IAE1C,MAAM,WAAkC,EAAE;IAE1C,IAAI,cAAc,UAAU;QAC1B,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM;QACR;QACA,IAAI,QAAQ,QAAQ,KAAK,SAAS;YAChC,SAAS,IAAI,CAAC;gBACZ,IAAI;gBACJ,OAAO;gBACP,MAAM;YACR;YACA,OAAO;QACT;QACA,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM;QACR;QACA,OAAO;IACT;IAEA,IAAI,cAAc,WAAW;QAC3B,MAAM,WAAW;QACjB,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM,GAAG,SAAS,QAAQ,CAAC;QAC7B;QACA,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM,GAAG,SAAS,MAAM,CAAC;QAC3B;QACA,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM,GAAG,SAAS,OAAO,CAAC;QAC5B;QACA,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM,GAAG,SAAS,SAAS,CAAC;QAC9B;QACA,SAAS,IAAI,CAAC;YACZ,IAAI;YACJ,OAAO;YACP,MAAM,GAAG,SAAS,OAAO,CAAC;QAC5B;QACA,OAAO;IACT;IAEA,IAAI,cAAc,WAAW;QAC3B,OAAO;YACL;gBACE,IAAI;gBACJ,OAAO;gBACP,MAAM;YACR;SACD;IACH;IAEA,OAAO;QACL;YACE,IAAI;YACJ,OAAO;YACP,MAAM;QACR;QACA;YACE,IAAI;YACJ,OAAO;YACP,MAAM;QACR;KACD;AACH"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/ObjectiveSubnav.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport useSWR from \"swr\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  getObjectiveSections,\n  normalizeOrgCategory,\n  type ObjectiveNavContext,\n  type ObjectiveTab,\n} from \"./objectiveNav\";\n\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\n\nconst OBJECTIVE_LABELS: Record<ObjectiveTab, string> = {\n  manage: \"Gerir\",\n  promote: \"Promover\",\n  analyze: \"Analisar\",\n  profile: \"Perfil\",\n};\n\ntype ObjectiveSubnavProps = {\n  objective: ObjectiveTab;\n  activeId?: string;\n  category?: string | null;\n  modules?: string[] | null;\n  mode?: \"dashboard\" | \"page\";\n  variant?: \"full\" | \"tabs\";\n  hideWhenSingle?: boolean;\n  className?: string;\n};\n\nexport default function ObjectiveSubnav({\n  objective,\n  activeId,\n  category,\n  modules,\n  mode,\n  variant = \"full\",\n  hideWhenSingle = true,\n  className,\n}: ObjectiveSubnavProps) {\n  const { data } = useSWR(category || modules ? null : \"/api/organizador/me\", fetcher);\n  const organizer = data?.organizer ?? null;\n\n  const context: ObjectiveNavContext = {\n    category: normalizeOrgCategory(category ?? organizer?.organizationCategory),\n    modules: Array.isArray(modules) ? modules : Array.isArray(organizer?.modules) ? organizer.modules : [],\n    username: organizer?.username ?? null,\n  };\n\n  const sections = getObjectiveSections(objective, context, { mode });\n  const active =\n    activeId && sections.some((section) => section.id === activeId)\n      ? activeId\n      : sections[0]?.id;\n\n  if (hideWhenSingle && sections.length <= 1) return null;\n\n  const tabs = (\n    <div className=\"flex flex-wrap gap-2 rounded-2xl border border-white/10 bg-white/5 px-2 py-2 text-sm shadow-[0_16px_50px_rgba(0,0,0,0.4)]\">\n      {sections.map((section) => {\n        const isActive = section.id === active;\n        return (\n          <Link\n            key={section.id}\n            href={section.href}\n            className={cn(\n              \"rounded-xl px-3 py-2 font-semibold transition\",\n              isActive\n                ? \"bg-gradient-to-r from-[#FF7AD1]/60 via-[#7FE0FF]/35 to-[#6A7BFF]/55 text-white shadow-[0_14px_36px_rgba(107,255,255,0.45)]\"\n                : \"text-white/80 hover:bg-white/10\",\n            )}\n            aria-current={isActive ? \"page\" : undefined}\n          >\n            {section.label}\n          </Link>\n        );\n      })}\n    </div>\n  );\n\n  if (variant === \"tabs\") {\n    return <div className={className}>{tabs}</div>;\n  }\n\n  return (\n    <div\n      className={cn(\n        \"rounded-3xl border border-white/12 bg-gradient-to-r from-[#0b1226]/80 via-[#101b39]/75 to-[#050811]/90 p-4 shadow-[0_26px_90px_rgba(0,0,0,0.55)] backdrop-blur-2xl\",\n        className,\n      )}\n    >\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\n        <div className=\"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] uppercase tracking-[0.26em] text-white/70 shadow-[0_12px_32px_rgba(0,0,0,0.4)]\">\n          Objetivo · {OBJECTIVE_LABELS[objective]}\n        </div>\n        <div className=\"text-[11px] text-white/60\">{sections.length} secções</div>\n      </div>\n      <div className=\"mt-3\">{tabs}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAYA,MAAM,UAAU,CAAC,MAAgB,MAAM,KAAK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAElE,MAAM,mBAAiD;IACrD,QAAQ;IACR,SAAS;IACT,SAAS;IACT,SAAS;AACX;AAae,SAAS,gBAAgB,EACtC,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,IAAI,EACJ,UAAU,MAAM,EAChB,iBAAiB,IAAI,EACrB,SAAS,EACY;;IACrB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4KAAM,EAAC,YAAY,UAAU,OAAO,uBAAuB;IAC5E,MAAM,YAAY,MAAM,aAAa;IAErC,MAAM,UAA+B;QACnC,UAAU,IAAA,6JAAoB,EAAC,YAAY,WAAW;QACtD,SAAS,MAAM,OAAO,CAAC,WAAW,UAAU,MAAM,OAAO,CAAC,WAAW,WAAW,UAAU,OAAO,GAAG,EAAE;QACtG,UAAU,WAAW,YAAY;IACnC;IAEA,MAAM,WAAW,IAAA,6JAAoB,EAAC,WAAW,SAAS;QAAE;IAAK;IACjE,MAAM,SACJ,YAAY,SAAS,IAAI,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK,YAClD,WACA,QAAQ,CAAC,EAAE,EAAE;IAEnB,IAAI,kBAAkB,SAAS,MAAM,IAAI,GAAG,OAAO;IAEnD,MAAM,qBACJ,6LAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC;YACb,MAAM,WAAW,QAAQ,EAAE,KAAK;YAChC,qBACE,6LAAC,0KAAI;gBAEH,MAAM,QAAQ,IAAI;gBAClB,WAAW,IAAA,qHAAE,EACX,iDACA,WACI,+HACA;gBAEN,gBAAc,WAAW,SAAS;0BAEjC,QAAQ,KAAK;eAVT,QAAQ,EAAE;;;;;QAarB;;;;;;IAIJ,IAAI,YAAY,QAAQ;QACtB,qBAAO,6LAAC;YAAI,WAAW;sBAAY;;;;;;IACrC;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sKACA;;0BAGF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;4BAAsL;4BACvL,gBAAgB,CAAC,UAAU;;;;;;;kCAEzC,6LAAC;wBAAI,WAAU;;4BAA6B,SAAS,MAAM;4BAAC;;;;;;;;;;;;;0BAE9D,6LAAC;gBAAI,WAAU;0BAAQ;;;;;;;;;;;;AAG7B;GAtEwB;;QAUL,4KAAM;;;KAVD"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/pagamentos/invoices/invoices-client.tsx"],"sourcesContent":["\"use client\";\n\nimport useSWR from \"swr\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { useMemo, useEffect } from \"react\";\nimport { formatEuro } from \"@/lib/money\";\nimport { CTA_PRIMARY, CTA_SECONDARY } from \"@/app/organizador/dashboardUi\";\n\ntype InvoiceLine = { quantity: number };\ntype InvoiceEvent = { id: number; title: string; slug?: string | null; payoutMode?: string | null };\ntype InvoiceItem = {\n  id: number;\n  createdAt: string;\n  subtotalCents: number;\n  discountCents: number;\n  platformFeeCents: number;\n  totalCents: number;\n  netCents: number;\n  event?: InvoiceEvent | null;\n  lines?: InvoiceLine[];\n};\ntype InvoiceSummary = { grossCents: number; discountCents: number; platformFeeCents: number; netCents: number; tickets: number };\ntype InvoiceResponse =\n  | { ok: true; items: InvoiceItem[]; summary: InvoiceSummary }\n  | { ok: false; error?: string };\ntype OrganizerMeResponse = { organizer?: { id?: number | null } | null };\n\nconst fetcher = (url: string) => fetch(url).then((r) => r.json() as Promise<InvoiceResponse>);\nconst orgFetcher = (url: string) => fetch(url).then((r) => r.json() as Promise<OrganizerMeResponse>);\n\nconst toQuery = (params: Record<string, string | number | null | undefined>) => {\n  const url = new URLSearchParams();\n  Object.entries(params).forEach(([k, v]) => {\n    if (v !== null && v !== undefined && String(v).trim() !== \"\") {\n      url.set(k, String(v));\n    }\n  });\n  const qs = url.toString();\n  return qs ? `?${qs}` : \"\";\n};\n\nconst formatDateTime = (iso: string) =>\n  new Date(iso).toLocaleString(\"pt-PT\", { day: \"2-digit\", month: \"short\", hour: \"2-digit\", minute: \"2-digit\" });\n\ntype InvoicesClientProps = {\n  basePath?: string;\n  fullWidth?: boolean;\n  organizerId?: number | null;\n};\n\nexport default function InvoicesClient({\n  basePath = \"/organizador/pagamentos/invoices\",\n  fullWidth = true,\n  organizerId: organizerIdProp = null,\n}: InvoicesClientProps) {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const organizerIdParam = searchParams?.get(\"organizerId\") ?? null;\n  const from = searchParams?.get(\"from\") ?? \"\";\n  const to = searchParams?.get(\"to\") ?? \"\";\n  const organizerIdQuery = organizerIdParam ? Number(organizerIdParam) : null;\n  const shouldFetchOrganizer = !organizerIdProp && !organizerIdQuery;\n  const { data: organizerData } = useSWR<OrganizerMeResponse>(\n    () => (shouldFetchOrganizer ? \"/api/organizador/me\" : null),\n    orgFetcher,\n  );\n  const organizerIdFromMe = organizerData?.organizer?.id ?? null;\n  const organizerId =\n    organizerIdProp ??\n    (organizerIdQuery && !Number.isNaN(organizerIdQuery) ? organizerIdQuery : null) ??\n    organizerIdFromMe ??\n    null;\n  const qs = toQuery({ organizerId, from, to });\n  const { data, isLoading, mutate } = useSWR(\n    () => (organizerId ? `/api/organizador/pagamentos/invoices${qs}` : null),\n    fetcher,\n    { revalidateOnFocus: false },\n  );\n\n  const summary: InvoiceSummary = data?.ok ? data.summary : { grossCents: 0, discountCents: 0, platformFeeCents: 0, netCents: 0, tickets: 0 };\n  const items: InvoiceItem[] = data?.ok ? data.items : [];\n  const totalTickets = useMemo(\n    () => (data?.ok ? data.items.reduce((acc, sale) => acc + (sale.lines?.reduce((s, l) => s + l.quantity, 0) ?? 0), 0) : 0),\n    [data],\n  );\n\n  const withQuery = (path: string, params: Record<string, string | number | null | undefined>) => {\n    const query = toQuery(params);\n    if (!query) return path;\n    return path.includes(\"?\") ? `${path}&${query.slice(1)}` : `${path}${query}`;\n  };\n\n  // Se houver organizerId mas não na query, sincroniza a URL.\n  useEffect(() => {\n    if (!organizerIdParam && organizerId) {\n      router.replace(withQuery(basePath, { organizerId, from, to }));\n    }\n  }, [organizerIdParam, organizerId, router, from, to, basePath]);\n\n  const downloadCsv = () => {\n    if (!items.length) return;\n    const rows = [\n      [\"Data\", \"Evento\", \"Payout Mode\", \"Subtotal\", \"Desconto\", \"Taxas\", \"Total\", \"Líquido\", \"Bilhetes\"],\n      ...items.map((sale) => [\n        sale.createdAt,\n        sale.event?.title ?? \"\",\n        sale.event?.payoutMode ?? \"\",\n        (sale.subtotalCents / 100).toFixed(2),\n        (sale.discountCents / 100).toFixed(2),\n        (sale.platformFeeCents / 100).toFixed(2),\n        (sale.totalCents / 100).toFixed(2),\n        (sale.netCents / 100).toFixed(2),\n        sale.lines?.reduce((s, l) => s + l.quantity, 0) ?? 0,\n      ]),\n    ];\n\n    const csvContent = rows.map((r) => r.join(\",\")).join(\"\\n\");\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"invoices.csv\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleDateChange = (which: \"from\" | \"to\", value: string) => {\n    router.push(\n      withQuery(basePath, {\n        organizerId,\n        from: which === \"from\" ? value : from,\n        to: which === \"to\" ? value : to,\n      }),\n    );\n  };\n\n  const stateCard = (() => {\n    if (isLoading) {\n      return (\n        <div className=\"rounded-3xl border border-white/10 bg-white/5 p-6 space-y-4 shadow-[0_18px_60px_rgba(0,0,0,0.55)]\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-10 w-10 rounded-2xl bg-white/10 animate-pulse\" />\n            <div className=\"space-y-2\">\n              <div className=\"h-4 w-40 rounded bg-white/10 animate-pulse\" />\n              <div className=\"h-3 w-32 rounded bg-white/10 animate-pulse\" />\n            </div>\n          </div>\n          <div className=\"grid gap-2 md:grid-cols-3\">\n            {[...Array(3)].map((_, idx) => (\n              <div key={idx} className=\"h-16 rounded-2xl border border-white/10 bg-white/5 animate-pulse\" />\n            ))}\n          </div>\n        </div>\n      );\n    }\n    if (!organizerId) {\n      return (\n        <div className=\"rounded-3xl border border-white/12 bg-white/5 p-5 text-sm text-white/75 shadow-[0_18px_50px_rgba(0,0,0,0.55)]\">\n          A carregar organização...\n        </div>\n      );\n    }\n    if (!data || data.ok === false) {\n      const errorCode = data && \"error\" in data ? data.error : null;\n      if (errorCode && [\"UNAUTHENTICATED\", \"FORBIDDEN\"].includes(errorCode)) {\n        return (\n          <div className=\"rounded-3xl border border-white/12 bg-white/5 p-5 text-sm text-white/75 shadow-[0_18px_50px_rgba(0,0,0,0.55)]\">\n            Não tens permissões para ver a faturação desta organização.\n          </div>\n        );\n      }\n      if (errorCode && errorCode !== \"INTERNAL_ERROR\") {\n        return (\n          <div className=\"rounded-3xl border border-white/10 bg-white/5 p-6 text-white/70 shadow-[0_18px_60px_rgba(0,0,0,0.55)]\">\n            Ainda não há faturação para mostrar. Quando houver vendas, vais ver tudo aqui.\n          </div>\n        );\n      }\n      return (\n        <div className=\"rounded-3xl border border-white/15 bg-red-500/10 p-5 text-sm text-white/80 shadow-[0_18px_50px_rgba(0,0,0,0.55)]\">\n          <p className=\"font-semibold text-white\">Não foi possível carregar faturação.</p>\n          <p className=\"text-white/65\">Tenta novamente ou ajusta o intervalo.</p>\n          <button\n            type=\"button\"\n            onClick={() => mutate()}\n            className={`${CTA_SECONDARY} mt-3 text-[12px]`}\n          >\n            Recarregar\n          </button>\n        </div>\n      );\n    }\n    if (items.length === 0) {\n      return (\n        <div className=\"rounded-3xl border border-white/10 bg-white/5 p-6 text-white/70 shadow-[0_18px_60px_rgba(0,0,0,0.55)]\">\n          Ainda não existem vendas neste intervalo. Ajusta as datas ou volta mais tarde.\n        </div>\n      );\n    }\n    return null;\n  })();\n\n  return (\n    <div className={fullWidth ? \"w-full space-y-6 text-white\" : \"mx-auto max-w-6xl px-4 py-6 space-y-6 text-white\"}>\n      <div className=\"rounded-3xl border border-white/12 bg-gradient-to-br from-white/10 via-[#0d1530]/75 to-[#050912]/90 p-5 shadow-[0_28px_90px_rgba(0,0,0,0.6)] backdrop-blur-3xl\">\n        <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n          <div className=\"space-y-2\">\n            <div className=\"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] uppercase tracking-[0.24em] text-white/80 shadow-[0_10px_30px_rgba(0,0,0,0.4)]\">\n              Faturação premium\n            </div>\n            <h1 className=\"text-3xl font-semibold drop-shadow-[0_12px_40px_rgba(0,0,0,0.55)]\">Receitas, taxas e liquidez.</h1>\n            <p className=\"text-sm text-white/70\">Bruto, descontos, Stripe/ORYA e líquido por evento. Exporta tudo em CSV num clique.</p>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-2 text-[12px]\">\n            {[\n              { key: \"7d\", label: \"7d\" },\n              { key: \"30d\", label: \"30d\" },\n              { key: \"90d\", label: \"90d\" },\n              { key: \"all\", label: \"Sempre\" },\n            ].map((preset) => (\n              <button\n                key={preset.key}\n                type=\"button\"\n                onClick={() =>\n                  router.push(\n                    withQuery(basePath, {\n                      organizerId,\n                      from: preset.key === \"all\" ? \"\" : new Date(Date.now() - (preset.key === \"7d\" ? 7 : preset.key === \"30d\" ? 30 : 90) * 86400000)\n                        .toISOString()\n                        .slice(0, 10),\n                      to: preset.key === \"all\" ? \"\" : new Date().toISOString().slice(0, 10),\n                    }),\n                  )\n                }\n                className={`rounded-full px-3 py-1.5 transition ${\n                  preset.key !== \"all\" && from && to\n                    ? \"bg-gradient-to-r from-[#FF00C8]/25 via-[#6BFFFF]/20 to-[#1646F5]/25 text-white shadow-[0_0_14px_rgba(107,255,255,0.35)]\"\n                    : \"border border-white/20 text-white/75 hover:bg-white/10\"\n                }`}\n              >\n                {preset.label}\n              </button>\n            ))}\n            <input\n              type=\"date\"\n              value={from}\n              onChange={(e) => handleDateChange(\"from\", e.target.value)}\n              className=\"rounded-xl border border-white/15 bg-black/40 px-3 py-2 text-sm outline-none focus:border-[#6BFFFF] focus:ring-1 focus:ring-[#6BFFFF]/50\"\n            />\n            <input\n              type=\"date\"\n              value={to}\n              onChange={(e) => handleDateChange(\"to\", e.target.value)}\n              className=\"rounded-xl border border-white/15 bg-black/40 px-3 py-2 text-sm outline-none focus:border-[#6BFFFF] focus:ring-1 focus:ring-[#6BFFFF]/50\"\n            />\n            <button\n              type=\"button\"\n              onClick={downloadCsv}\n              className={`${CTA_PRIMARY} disabled:opacity-50`}\n              disabled={!items.length}\n            >\n              Exportar CSV\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {stateCard}\n\n      {data?.ok && items.length > 0 && (\n        <>\n          <div className=\"grid gap-3 md:grid-cols-5\">\n            <SummaryCard label=\"Receita bruta\" value={formatEuro(summary.grossCents / 100)} tone=\"bright\" />\n            <SummaryCard label=\"Descontos\" value={formatEuro(summary.discountCents / 100)} tone=\"muted\" />\n            <SummaryCard label=\"Taxas\" value={formatEuro(summary.platformFeeCents / 100)} tone=\"muted\" helper=\"Inclui Stripe + ORYA (se aplicável).\" />\n            <SummaryCard label=\"Líquido\" value={formatEuro(summary.netCents / 100)} tone=\"success\" helper=\"Valor que recebes.\" />\n            <SummaryCard label=\"Bilhetes\" value={`${totalTickets}`} tone=\"slate\" helper=\"Total no intervalo.\" />\n          </div>\n\n          <div className=\"rounded-3xl border border-white/12 bg-gradient-to-br from-white/8 via-[#0b1124]/75 to-[#050810]/92 p-4 shadow-[0_22px_70px_rgba(0,0,0,0.6)] overflow-x-auto backdrop-blur-2xl\">\n            <table className=\"min-w-full text-sm text-white/85\">\n              <thead className=\"text-left text-[11px] uppercase tracking-[0.18em] text-white/60\">\n                <tr className=\"border-b border-white/10\">\n                  <th className=\"py-2 pr-3\">Evento</th>\n                  <th className=\"py-2 pr-3\">Data</th>\n                  <th className=\"py-2 pr-3\">Bilhetes</th>\n                  <th className=\"py-2 pr-3\">Bruto</th>\n                  <th className=\"py-2 pr-3\">Descontos</th>\n                  <th className=\"py-2 pr-3\">Taxas</th>\n                  <th className=\"py-2 pr-3\">Líquido</th>\n                  <th className=\"py-2 pr-3\">Modo</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-white/10\">\n                {items.map((sale) => {\n                  const tickets = sale.lines?.reduce((s, l) => s + l.quantity, 0) ?? 0;\n                  return (\n                    <tr key={sale.id} className=\"hover:bg-white/5 transition\">\n                      <td className=\"py-3 pr-3\">\n                        <div className=\"font-semibold text-white\">{sale.event?.title ?? \"Evento\"}</div>\n                        <div className=\"text-[11px] text-white/60\">{sale.event?.slug ?? \"—\"}</div>\n                      </td>\n                      <td className=\"py-3 pr-3 text-[12px] text-white/70\">{formatDateTime(sale.createdAt)}</td>\n                      <td className=\"py-3 pr-3 text-[12px]\">{tickets}</td>\n                      <td className=\"py-3 pr-3\">{formatEuro(sale.subtotalCents / 100)}</td>\n                      <td className=\"py-3 pr-3\">{formatEuro(sale.discountCents / 100)}</td>\n                      <td className=\"py-3 pr-3\">{formatEuro(sale.platformFeeCents / 100)}</td>\n                      <td className=\"py-3 pr-3 font-semibold text-white\">{formatEuro(sale.netCents / 100)}</td>\n                      <td className=\"py-3 pr-3 text-[11px]\">\n                        <span className=\"rounded-full border border-white/25 bg-white/10 px-2.5 py-0.5 text-white shadow-[0_8px_18px_rgba(0,0,0,0.35)]\">\n                          {sale.event?.payoutMode ?? \"STANDARD\"}\n                        </span>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction SummaryCard({\n  label,\n  value,\n  tone = \"default\",\n  helper,\n}: {\n  label: string;\n  value: string;\n  tone?: \"default\" | \"muted\" | \"bright\" | \"success\" | \"slate\";\n  helper?: string;\n}) {\n  const toneClass =\n    tone === \"success\"\n      ? \"bg-gradient-to-br from-emerald-400/25 via-emerald-500/20 to-teal-500/25 border-emerald-300/45 text-emerald-50\"\n      : tone === \"bright\"\n        ? \"bg-gradient-to-r from-[#FF00C8]/30 via-[#6BFFFF]/18 to-[#1646F5]/28 border-white/18 text-white\"\n        : tone === \"muted\"\n          ? \"bg-white/6 text-white/70 border-white/12\"\n          : tone === \"slate\"\n            ? \"bg-gradient-to-br from-white/12 via-white/6 to-white/4 text-white/80 border-white/14\"\n            : \"bg-white/8 text-white border-white/12\";\n\n  return (\n    <div className={`rounded-2xl border p-4 shadow-[0_16px_50px_rgba(0,0,0,0.38)] backdrop-blur-2xl ${toneClass}`}>\n      <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/75\">{label}</p>\n      <p className=\"text-xl font-semibold leading-tight drop-shadow-[0_10px_25px_rgba(0,0,0,0.4)]\">{value}</p>\n      {helper && <p className=\"text-[11px] text-white/60 mt-1\">{helper}</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 976, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerPublicProfilePanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { sanitizeUsername, validateUsername } from \"@/lib/username\";\nimport { CTA_PRIMARY, CTA_SECONDARY, CTA_NEUTRAL } from \"@/app/organizador/dashboardUi\";\nimport { useUser } from \"@/app/hooks/useUser\";\nimport { useAuthModal } from \"@/app/components/autenticação/AuthModalContext\";\n\nconst BIO_LIMIT = 280;\n\ntype OrganizerProfileInfo = {\n  id?: number;\n  publicName?: string | null;\n  businessName?: string | null;\n  username?: string | null;\n  publicDescription?: string | null;\n  brandingAvatarUrl?: string | null;\n  brandingCoverUrl?: string | null;\n  publicListingEnabled?: boolean | null;\n  publicWebsite?: string | null;\n  publicInstagram?: string | null;\n  publicYoutube?: string | null;\n  publicHours?: string | null;\n  officialEmail?: string | null;\n  officialEmailVerifiedAt?: string | Date | null;\n  address?: string | null;\n  showAddressPublicly?: boolean | null;\n  city?: string | null;\n  liveHubPremiumEnabled?: boolean | null;\n};\n\ntype OrganizerPublicProfilePanelProps = {\n  organizer: OrganizerProfileInfo | null;\n  membershipRole?: string | null;\n  categoryLabel?: string;\n  coverUrl?: string | null;\n};\n\nexport default function OrganizerPublicProfilePanel({\n  organizer,\n  membershipRole,\n  categoryLabel,\n  coverUrl,\n}: OrganizerPublicProfilePanelProps) {\n  const { user } = useUser();\n  const { openModal } = useAuthModal();\n  const router = useRouter();\n  const canEdit = membershipRole === \"OWNER\";\n\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [bio, setBio] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [website, setWebsite] = useState(\"\");\n  const [instagram, setInstagram] = useState(\"\");\n  const [youtube, setYoutube] = useState(\"\");\n  const [publicHours, setPublicHours] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [showAddressPublicly, setShowAddressPublicly] = useState(false);\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\n  const [coverImageUrl, setCoverImageUrl] = useState<string | null>(null);\n  const [editingField, setEditingField] = useState<\"name\" | \"username\" | \"city\" | \"bio\" | null>(null);\n  const [saving, setSaving] = useState(false);\n  const [savingUsername, setSavingUsername] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [usernameMessage, setUsernameMessage] = useState<string | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadingCover, setUploadingCover] = useState(false);\n  const [coverDirty, setCoverDirty] = useState(false);\n  const avatarInputRef = useRef<HTMLInputElement | null>(null);\n  const coverInputRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (!organizer) return;\n    const initialName = organizer.publicName || organizer.businessName || \"\";\n    setName(initialName);\n    setUsername(organizer.username ?? \"\");\n    setBio(organizer.publicDescription ?? \"\");\n    setAvatarUrl(organizer.brandingAvatarUrl ?? null);\n    setCity(organizer.city ?? \"\");\n    setWebsite(organizer.publicWebsite ?? \"\");\n    setInstagram(organizer.publicInstagram ?? \"\");\n    setYoutube(organizer.publicYoutube ?? \"\");\n    setPublicHours(organizer.publicHours ?? \"\");\n    setAddress(organizer.address ?? \"\");\n    setShowAddressPublicly(Boolean(organizer.showAddressPublicly));\n    if (!coverDirty) {\n      setCoverImageUrl(organizer.brandingCoverUrl ?? coverUrl ?? null);\n    }\n  }, [organizer, coverUrl, coverDirty]);\n\n  useEffect(() => {\n    setCoverDirty(false);\n  }, [organizer?.id]);\n\n\n  const handleAvatarUpload = async (file: File | null) => {\n    if (!file) return;\n    setUploading(true);\n    setMessage(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const res = await fetch(\"/api/upload?scope=avatar\", { method: \"POST\", body: formData });\n      const json = await res.json().catch(() => null);\n      if (!res.ok || !json?.url) {\n        setMessage(json?.error || \"Não foi possível carregar a imagem.\");\n        return;\n      }\n      setAvatarUrl(json.url as string);\n      setMessage(\"Imagem atualizada. Não te esqueças de guardar.\");\n    } catch (err) {\n      console.error(\"[perfil-publico] upload\", err);\n      setMessage(\"Erro ao carregar a imagem.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleCoverUpload = async (file: File | null) => {\n    if (!file) return;\n    setUploadingCover(true);\n    setMessage(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const res = await fetch(\"/api/upload?scope=event-cover\", { method: \"POST\", body: formData });\n      const json = await res.json().catch(() => null);\n      if (!res.ok || !json?.url) {\n        setMessage(json?.error || \"Não foi possível carregar a capa.\");\n        return;\n      }\n      setCoverImageUrl(json.url as string);\n      setCoverDirty(true);\n      setMessage(\"Capa atualizada. Não te esqueças de guardar.\");\n    } catch (err) {\n      console.error(\"[perfil-publico] cover upload\", err);\n      setMessage(\"Erro ao carregar a capa.\");\n    } finally {\n      setUploadingCover(false);\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    if (!user) {\n      openModal({ mode: \"login\", redirectTo: \"/organizador?tab=profile\" });\n      return;\n    }\n    if (!canEdit) return;\n    const trimmedName = name.trim();\n    if (!trimmedName) {\n      setMessage(\"O nome público é obrigatório.\");\n      return;\n    }\n    if (bio.length > BIO_LIMIT) {\n      setMessage(\"A bio é demasiado longa.\");\n      return;\n    }\n\n    setSaving(true);\n    setMessage(null);\n    try {\n      const res = await fetch(\"/api/organizador/me\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          publicName: trimmedName,\n          publicDescription: bio.trim(),\n          brandingAvatarUrl: avatarUrl,\n          brandingCoverUrl: coverImageUrl,\n          city: city.trim(),\n          publicWebsite: website.trim() || null,\n          publicInstagram: instagram.trim() || null,\n          publicYoutube: youtube.trim() || null,\n          publicHours: publicHours.trim() || null,\n          address: address.trim() || null,\n          showAddressPublicly,\n        }),\n      });\n      const json = await res.json().catch(() => null);\n      if (!res.ok || json?.ok === false) {\n        setMessage(json?.error || \"Não foi possível guardar o perfil público.\");\n        return;\n      }\n      setMessage(\"Perfil público atualizado.\");\n      setEditingField(null);\n      setCoverDirty(false);\n      router.refresh();\n    } catch (err) {\n      console.error(\"[perfil-publico] save\", err);\n      setMessage(\"Erro ao guardar alterações.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveUsername = async () => {\n    if (!user) {\n      openModal({ mode: \"login\", redirectTo: \"/organizador?tab=profile\" });\n      return;\n    }\n    if (!canEdit) return;\n    setUsernameMessage(null);\n    const validation = validateUsername(username);\n    if (!validation.valid) {\n      setUsernameMessage(validation.error);\n      return;\n    }\n    setSavingUsername(true);\n    try {\n      const res = await fetch(\"/api/organizador/username\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ username: validation.normalized }),\n      });\n      const json = await res.json().catch(() => null);\n      if (!res.ok || json?.ok === false) {\n        setUsernameMessage(json?.error || \"Não foi possível atualizar o username.\");\n        return;\n      }\n      setUsername(validation.normalized);\n      setUsernameMessage(\"Username atualizado.\");\n      setEditingField(null);\n      router.refresh();\n    } catch (err) {\n      console.error(\"[perfil-publico] username\", err);\n      setUsernameMessage(\"Erro ao atualizar o username.\");\n    } finally {\n      setSavingUsername(false);\n    }\n  };\n\n  const displayName = name.trim() || organizer?.businessName?.trim() || \"Organização ORYA\";\n  const displayUsername = username.trim() || organizer?.username?.trim() || null;\n  const displayBio = bio.trim() || organizer?.publicDescription?.trim() || \"\";\n  const displayCity = city.trim() || organizer?.city?.trim() || \"\";\n  const avatarPreviewUrl = avatarUrl ?? organizer?.brandingAvatarUrl ?? null;\n  const coverPreviewUrl = coverImageUrl ?? coverUrl ?? null;\n  const publicProfileUrl = displayUsername ? `/${displayUsername}` : null;\n\n  if (!organizer) {\n    return (\n      <div className=\"rounded-3xl border border-white/12 bg-white/5 p-6 text-white/70\">\n        A carregar perfil público…\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mt-4\">\n      <input\n        ref={coverInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        className=\"hidden\"\n        disabled={!canEdit || uploadingCover}\n        onChange={(e) => handleCoverUpload(e.target.files?.[0] ?? null)}\n      />\n      <input\n        ref={avatarInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        className=\"hidden\"\n        disabled={!canEdit || uploading}\n        onChange={(e) => handleAvatarUpload(e.target.files?.[0] ?? null)}\n      />\n\n      <section className=\"relative overflow-hidden rounded-3xl border border-white/12 bg-gradient-to-br from-white/7 via-[#060914]/92 to-[#05070f]/96 shadow-[0_26px_80px_rgba(0,0,0,0.85)] backdrop-blur-2xl\">\n        <div className=\"px-5 pt-5 sm:px-8\">\n          <div className=\"mx-auto w-full max-w-5xl\">\n            <div className=\"relative h-36 w-full overflow-hidden rounded-2xl border border-white/10\">\n              <div\n                className=\"absolute inset-0 bg-cover bg-center\"\n                style={coverPreviewUrl ? { backgroundImage: `url(${coverPreviewUrl})` } : undefined}\n              />\n              {!coverPreviewUrl && (\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(107,255,255,0.25),transparent_55%),radial-gradient(circle_at_80%_20%,rgba(255,0,200,0.2),transparent_55%),linear-gradient(135deg,rgba(6,10,20,0.8),rgba(9,10,18,0.95))]\" />\n              )}\n              <div className=\"absolute inset-0 bg-gradient-to-b from-black/10 via-black/50 to-[#05070f]/95\" />\n              {canEdit && (\n                <div className=\"absolute right-3 top-3 z-10 flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => coverInputRef.current?.click()}\n                    className=\"rounded-full border border-white/20 bg-black/40 px-3 py-1 text-[11px] text-white/80 hover:bg-black/60\"\n                    disabled={uploadingCover}\n                  >\n                    {uploadingCover ? \"A carregar…\" : \"Alterar capa\"}\n                  </button>\n                  {coverPreviewUrl && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setCoverImageUrl(null);\n                        setCoverDirty(true);\n                        setMessage(\"Capa removida. Não te esqueças de guardar.\");\n                      }}\n                      className={CTA_NEUTRAL}\n                      disabled={uploadingCover}\n                    >\n                      Remover\n                    </button>\n                  )}\n                </div>\n              )}\n              {canEdit && (\n                <button\n                  type=\"button\"\n                  onClick={() => coverInputRef.current?.click()}\n                  className=\"absolute inset-0 z-0\"\n                  aria-label=\"Editar capa\"\n                />\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"relative -mt-10 px-5 pb-6 sm:px-8\">\n          <div className=\"mx-auto flex w-full max-w-5xl flex-col gap-4 md:flex-row md:items-end md:justify-between\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"relative shrink-0\">\n                <button\n                  type=\"button\"\n                  onClick={() => avatarInputRef.current?.click()}\n                  className=\"relative inline-flex h-20 w-20 sm:h-24 sm:w-24 items-center justify-center rounded-full bg-gradient-to-tr from-[#FF00C8] via-[#6BFFFF] to-[#1646F5] p-[2px] shadow-[0_0_24px_rgba(255,0,200,0.26)]\"\n                  disabled={!canEdit || uploading}\n                >\n                  <div className=\"flex h-full w-full items-center justify-center overflow-hidden rounded-full bg-black/90\">\n                    {avatarPreviewUrl ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img src={avatarPreviewUrl} alt={displayName} className=\"h-full w-full object-cover\" />\n                    ) : (\n                      <span className=\"text-xs font-semibold uppercase tracking-[0.2em] text-white/60\">\n                        {displayName.slice(0, 2).toUpperCase()}\n                      </span>\n                    )}\n                  </div>\n                  {canEdit && (\n                    <span className=\"absolute -bottom-1 -right-1 rounded-full border border-white/20 bg-black/70 p-1.5 text-white/80\">\n                      <PencilIcon />\n                    </span>\n                  )}\n                </button>\n                {canEdit && avatarPreviewUrl && (\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setAvatarUrl(null);\n                      setMessage(\"Foto removida. Não te esqueças de guardar.\");\n                    }}\n                    className=\"mt-2 text-[11px] text-white/70 hover:text-white\"\n                  >\n                    Remover foto\n                  </button>\n                )}\n              </div>\n\n              <div className=\"flex min-w-0 flex-col gap-3\">\n                <div className=\"flex flex-wrap items-center gap-2\">\n                  {editingField === \"name\" ? (\n                    <input\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                      className=\"rounded-xl border border-white/15 bg-black/30 px-3 py-1.5 text-lg font-semibold text-white outline-none focus:border-white/40\"\n                      placeholder=\"Nome público\"\n                    />\n                  ) : (\n                    <h1 className=\"text-[22px] sm:text-3xl font-semibold tracking-tight text-white truncate\">\n                      {displayName}\n                    </h1>\n                  )}\n                  {canEdit && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setEditingField(editingField === \"name\" ? null : \"name\")}\n                      className=\"rounded-full border border-white/20 bg-white/5 px-2.5 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                    >\n                      <PencilIcon />\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"flex flex-wrap items-center gap-2 text-[12px] text-white/80\">\n                  {editingField === \"username\" ? (\n                    <div className=\"flex flex-wrap items-center gap-2\">\n                      <div className=\"inline-flex items-center rounded-xl border border-white/15 bg-black/30 px-3 py-1.5 text-sm text-white\">\n                        <span className=\"text-white/50\">@</span>\n                        <input\n                          value={username}\n                          onChange={(e) => setUsername(sanitizeUsername(e.target.value))}\n                          className=\"ml-2 min-w-[140px] bg-transparent text-sm text-white outline-none\"\n                        />\n                      </div>\n                      <button\n                        type=\"button\"\n                        className={CTA_SECONDARY}\n                        onClick={handleSaveUsername}\n                        disabled={!canEdit || savingUsername}\n                      >\n                        {savingUsername ? \"A guardar…\" : \"Guardar @\"}\n                      </button>\n                    </div>\n                  ) : (\n                    <span className=\"rounded-full border border-white/15 bg-white/6 px-3 py-1 font-semibold text-white\">\n                      {displayUsername ? `@${displayUsername}` : \"Define um @username\"}\n                    </span>\n                  )}\n                  {canEdit && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setEditingField(editingField === \"username\" ? null : \"username\")}\n                      className=\"rounded-full border border-white/20 bg-white/5 px-2.5 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                    >\n                      <PencilIcon />\n                    </button>\n                  )}\n                  {editingField === \"city\" ? (\n                    <input\n                      value={city}\n                      onChange={(e) => setCity(e.target.value)}\n                      className=\"rounded-xl border border-white/15 bg-black/30 px-3 py-1.5 text-sm text-white outline-none focus:border-white/40\"\n                      placeholder=\"Cidade\"\n                    />\n                  ) : (\n                    <span className=\"rounded-full border border-white/10 px-3 py-1 text-white/70\">\n                      {displayCity || \"Cidade por definir\"}\n                    </span>\n                  )}\n                  {canEdit && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setEditingField(editingField === \"city\" ? null : \"city\")}\n                      className=\"rounded-full border border-white/20 bg-white/5 px-2.5 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                    >\n                      <PencilIcon />\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"flex items-start gap-2\">\n                  {editingField === \"bio\" ? (\n                    <textarea\n                      value={bio}\n                      onChange={(e) => setBio(e.target.value.slice(0, BIO_LIMIT))}\n                      rows={3}\n                      className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40\"\n                      placeholder=\"Escreve uma bio curta\"\n                    />\n                  ) : (\n                    <p className=\"max-w-xl text-sm text-white/85 leading-relaxed\">\n                      {displayBio || \"Sem bio no momento.\"}\n                    </p>\n                  )}\n                  {canEdit && (\n                    <button\n                      type=\"button\"\n                      onClick={() => setEditingField(editingField === \"bio\" ? null : \"bio\")}\n                      className=\"mt-1 rounded-full border border-white/20 bg-white/5 px-2.5 py-1 text-[11px] text-white/70 hover:bg-white/10\"\n                    >\n                      <PencilIcon />\n                    </button>\n                  )}\n                </div>\n                {categoryLabel && <span className=\"text-[11px] text-white/50\">Categoria: {categoryLabel}</span>}\n                {usernameMessage && <p className=\"text-[11px] text-white/60\">{usernameMessage}</p>}\n                {message && <p className=\"text-[12px] text-white/70\">{message}</p>}\n              </div>\n            </div>\n\n            {organizer && (\n              <div className=\"rounded-2xl border border-white/12 bg-white/5 px-3 py-3 text-sm text-white/75\">\n                <p className=\"text-[11px] uppercase tracking-[0.24em] text-white/60\">\n                  Premium da organização\n                </p>\n                <p className=\"text-sm text-white/80\">\n                  {organizer.liveHubPremiumEnabled ? \"Ativo\" : \"Inativo\"} · Gerido automaticamente pela subscrição.\n                </p>\n              </div>\n            )}\n\n            <div className=\"flex flex-wrap items-center gap-2\">\n              {publicProfileUrl && (\n                <span className=\"rounded-full border border-white/15 bg-white/5 px-3 py-2 text-[11px] text-white/70\">\n                  {publicProfileUrl}\n                </span>\n              )}\n              {canEdit && (\n                <button\n                  type=\"button\"\n                  onClick={handleSaveProfile}\n                  className={CTA_PRIMARY}\n                  disabled={saving}\n                >\n                  {saving ? \"A guardar…\" : \"Guardar alterações\"}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"border-t border-white/10 px-5 pb-6 pt-5 sm:px-8\">\n          <div className=\"mx-auto w-full max-w-5xl grid gap-3 md:grid-cols-2\">\n            <div className=\"rounded-2xl border border-white/12 bg-white/5 p-4 text-sm text-white/80\">\n              <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/55\">Links públicos</p>\n              <div className=\"mt-3 space-y-3\">\n                <div className=\"space-y-1\">\n                  <label className=\"text-[12px] text-white/70\">Website</label>\n                  <input\n                    value={website}\n                    onChange={(e) => setWebsite(e.target.value)}\n                    disabled={!canEdit}\n                    placeholder=\"https://...\"\n                    className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40 disabled:cursor-not-allowed disabled:opacity-70\"\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label className=\"text-[12px] text-white/70\">Instagram</label>\n                  <input\n                    value={instagram}\n                    onChange={(e) => setInstagram(e.target.value)}\n                    disabled={!canEdit}\n                    placeholder=\"@organizador\"\n                    className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40 disabled:cursor-not-allowed disabled:opacity-70\"\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label className=\"text-[12px] text-white/70\">YouTube</label>\n                  <input\n                    value={youtube}\n                    onChange={(e) => setYoutube(e.target.value)}\n                    disabled={!canEdit}\n                    placeholder=\"Canal ou link\"\n                    className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40 disabled:cursor-not-allowed disabled:opacity-70\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"rounded-2xl border border-white/12 bg-white/5 p-4 text-sm text-white/80\">\n              <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/55\">Localização &amp; horário</p>\n              <div className=\"mt-3 space-y-3\">\n                <div className=\"space-y-1\">\n                  <label className=\"text-[12px] text-white/70\">Morada</label>\n                  <input\n                    value={address}\n                    onChange={(e) => setAddress(e.target.value)}\n                    disabled={!canEdit}\n                    placeholder=\"Rua e número\"\n                    className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40 disabled:cursor-not-allowed disabled:opacity-70\"\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <label className=\"text-[12px] text-white/70\">Horário</label>\n                  <input\n                    value={publicHours}\n                    onChange={(e) => setPublicHours(e.target.value)}\n                    disabled={!canEdit}\n                    placeholder=\"Ex.: Seg–Sex 09:00–19:00\"\n                    className=\"w-full rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-sm text-white outline-none focus:border-white/40 disabled:cursor-not-allowed disabled:opacity-70\"\n                  />\n                </div>\n                <label className=\"flex items-center gap-2 text-[12px] text-white/70\">\n                  <input\n                    type=\"checkbox\"\n                    checked={showAddressPublicly}\n                    onChange={(e) => setShowAddressPublicly(e.target.checked)}\n                    disabled={!canEdit}\n                    className=\"h-4 w-4\"\n                  />\n                  Mostrar morada no perfil público\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nfunction PencilIcon() {\n  return (\n    <svg\n      aria-hidden=\"true\"\n      className=\"h-3.5 w-3.5\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n    >\n      <path\n        d=\"M4 20l4.5-1 9.2-9.2a2.5 2.5 0 0 0 0-3.5l-.9-.9a2.5 2.5 0 0 0-3.5 0L4 14.6V20z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.5 6.5l5 5\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}