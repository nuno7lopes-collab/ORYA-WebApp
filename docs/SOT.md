# ORYA SOT (Prod + Local)

Gerado: 2026-02-08 20:40:07

## PROD (AWS Secrets Manager)
Fonte: AWS Secrets Manager (live)

### app
- modo: `flat`
- existe (32): ADMIN_ACTION_IP_ALLOWLIST, ADMIN_BREAK_GLASS_TOKEN, ADMIN_MFA_REQUIRED, ADMIN_TOTP_ENCRYPTION_KEY, ADMIN_USER_IDS, ALERTS_SNS_TOPIC_ARN, APP_BASE_URL, APP_ENV, CLOUDWATCH_LOG_GROUP, CLOUDWATCH_LOG_RETENTION_DAYS, CLOUDWATCH_METRICS_NAMESPACE, DATABASE_URL, DIRECT_URL, ICS_SECRET_KEY, INFRA_READ_ONLY, INTERNAL_SECRET_HEADER, LOG_FORMAT, LOG_LEVEL, MAPKIT_JS_KEY_ID, MAPKIT_JS_ORIGIN, MAPKIT_JS_PRIVATE_KEY_BASE64, MAP_PROVIDER, NEXTAUTH_SECRET, NEXTAUTH_URL, NEXT_PUBLIC_APP_ENV, NEXT_PUBLIC_BASE_URL, ORYA_CRON_SECRET, PWA_MANIFEST_URL, QR_SECRET_KEY, S3_SECRETS_BUCKET, XRAY_DAEMON_ADDRESS, XRAY_ENABLED
- falta (0): -

### apple
- modo: `flat`
- existe (16): APNS_KEY_ID, APNS_PRIVATE_KEY_BASE64, APNS_TEAM_ID, APNS_TOPIC, APPLE_MAPS_KEY_ID, APPLE_MAPS_ORIGIN, APPLE_MAPS_PRIVATE_KEY_BASE64, APPLE_MAPS_TEAM_ID, APPLE_PAY_CERTIFICATE_BASE64, APPLE_PAY_DOMAIN_VERIFICATION_FILE, APPLE_PAY_MERCHANT_ID, APPLE_SIGNIN_KEY_ID, APPLE_SIGNIN_PRIVATE_KEY_BASE64, APPLE_SIGNIN_REDIRECT_URI, APPLE_SIGNIN_SERVICE_ID, APPLE_SIGNIN_TEAM_ID
- falta (0): -

### email
- modo: `flat`
- existe (5): EMAIL_FROM, SES_IDENTITY_DOMAIN, SES_REGION, SES_SMTP_PASSWORD, SES_SMTP_USERNAME
- falta (0): -

### payments
- modo: `flat`
- existe (9): NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_LIVE, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_TEST, STRIPE_SECRET_KEY, STRIPE_SECRET_KEY_LIVE, STRIPE_SECRET_KEY_TEST, STRIPE_WEBHOOK_SECRET, STRIPE_WEBHOOK_SECRET_LIVE, STRIPE_PAYOUTS_WEBHOOK_SECRET_LIVE
- falta (0): -

### supabase
- modo: `flat`
- existe (5): NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE, SUPABASE_URL
- falta (0): -

### admin/infra extras
- modo: `flat`
- existe (6): DEVICE_FARM_KEY, DEVICE_FARM_PROVIDER, DEVICE_FARM_USER, STAGING_ADMIN_EMAIL, STAGING_ADMIN_PASSWORD, STAGING_ADMIN_SESSION
- falta (0): -

## Notas de consistência
- Este ficheiro é um snapshot gerado; requisitos normativos ficam em `docs/envs_required.md`.
- Apple Maps: o runtime usa `APPLE_MAPS_*`; `MAPKIT_JS_*` é fallback legacy.
- Stripe: quando `*_LIVE/*_TEST` não existem, o runtime usa os fallbacks `STRIPE_SECRET_KEY`, `STRIPE_WEBHOOK_SECRET`, `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY`.
- DB única: quando `SINGLE_DB_MODE=1`, o runtime força `APP_ENV=prod`.
- Stripe local: `STRIPE_MODE`/`NEXT_PUBLIC_STRIPE_MODE` pode forçar chaves de teste sem alterar o ambiente da DB.
- `NEXTAUTH_*` e `MAP_PROVIDER` existem no snapshot mas não são referenciados no runtime atual.

## LOCAL (.env.local)
Fonte: `/Users/nuno/orya/ORYA-WebApp/.env.local`

### app
- existe (33): ADMIN_ACTION_IP_ALLOWLIST, ADMIN_BREAK_GLASS_TOKEN, ADMIN_MFA_REQUIRED, ADMIN_TOTP_ENCRYPTION_KEY, ADMIN_USER_IDS, ALERTS_SNS_TOPIC_ARN, APP_BASE_URL, APP_ENV, CLOUDWATCH_LOG_GROUP, CLOUDWATCH_LOG_RETENTION_DAYS, CLOUDWATCH_METRICS_NAMESPACE, DATABASE_URL, DIRECT_URL, ICS_SECRET_KEY, INFRA_READ_ONLY, INTERNAL_SECRET_HEADER, LOG_FORMAT, LOG_LEVEL, MAPKIT_JS_KEY_ID, MAPKIT_JS_ORIGIN, MAPKIT_JS_PRIVATE_KEY_BASE64, MAP_PROVIDER, NEXTAUTH_SECRET, NEXTAUTH_URL, NEXT_PUBLIC_APP_ENV, NEXT_PUBLIC_BASE_URL, ORYA_CRON_SECRET, PWA_MANIFEST_URL, QR_SECRET_KEY, S3_SECRETS_BUCKET, SINGLE_DB_MODE, XRAY_DAEMON_ADDRESS, XRAY_ENABLED
- falta (0): -

### apple
- existe (16): APNS_KEY_ID, APNS_PRIVATE_KEY_BASE64, APNS_TEAM_ID, APNS_TOPIC, APPLE_MAPS_KEY_ID, APPLE_MAPS_ORIGIN, APPLE_MAPS_PRIVATE_KEY_BASE64, APPLE_MAPS_TEAM_ID, APPLE_PAY_CERTIFICATE_BASE64, APPLE_PAY_DOMAIN_VERIFICATION_FILE, APPLE_PAY_MERCHANT_ID, APPLE_SIGNIN_KEY_ID, APPLE_SIGNIN_PRIVATE_KEY_BASE64, APPLE_SIGNIN_REDIRECT_URI, APPLE_SIGNIN_SERVICE_ID, APPLE_SIGNIN_TEAM_ID
- falta (0): -

### email
- existe (5): EMAIL_FROM, SES_IDENTITY_DOMAIN, SES_REGION, SES_SMTP_PASSWORD, SES_SMTP_USERNAME
- falta (0): -

### payments
- existe (9): NEXT_PUBLIC_STRIPE_MODE, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_TEST, STRIPE_MODE, STRIPE_PAYOUTS_WEBHOOK_SECRET_TEST, STRIPE_SECRET_KEY, STRIPE_SECRET_KEY_TEST, STRIPE_WEBHOOK_SECRET, STRIPE_WEBHOOK_SECRET_TEST
- falta (3): NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_LIVE, STRIPE_SECRET_KEY_LIVE, STRIPE_WEBHOOK_SECRET_LIVE

### supabase
- existe (5): NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_SUPABASE_URL, SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE, SUPABASE_URL
- falta (0): -

### admin/infra extras
- existe (6): DEVICE_FARM_KEY, DEVICE_FARM_PROVIDER, DEVICE_FARM_USER, STAGING_ADMIN_EMAIL, STAGING_ADMIN_PASSWORD, STAGING_ADMIN_SESSION
- falta (0): -
