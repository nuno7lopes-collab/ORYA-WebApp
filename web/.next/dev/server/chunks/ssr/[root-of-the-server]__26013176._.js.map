{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/env.ts"],"sourcesContent":["// Central helper for server-side environment variables (server-only).\n// ⚠️ Não importar este módulo em componentes com \"use client\".\nconst required = [\n  \"SUPABASE_URL\",\n  \"SUPABASE_ANON_KEY\",\n  \"SUPABASE_SERVICE_ROLE\",\n  \"DATABASE_URL\",\n  \"STRIPE_SECRET_KEY\",\n  \"STRIPE_WEBHOOK_SECRET\",\n  \"QR_SECRET_KEY\",\n  \"RESEND_API_KEY\",\n] as const;\n\ntype EnvKey = (typeof required)[number];\n\nfunction getEnv(key: EnvKey): string {\n  const value = process.env[key];\n  if (!value) {\n    throw new Error(`Missing env var: ${key}`);\n  }\n  return value;\n}\n\nfunction getOptionalUrlEnv(...keys: string[]) {\n  for (const key of keys) {\n    const value = process.env[key];\n    if (typeof value === \"string\" && value.trim().length > 0) {\n      return value.trim().replace(/\\/+$/, \"\"); // remove trailing slash para URLs previsíveis\n    }\n  }\n  return \"\";\n}\n\nfunction parseBoolean(raw: unknown, fallback: boolean) {\n  if (typeof raw === \"boolean\") return raw;\n  if (typeof raw === \"string\") {\n    const normalized = raw.trim().toLowerCase();\n    if ([\"1\", \"true\", \"yes\", \"on\"].includes(normalized)) return true;\n    if ([\"0\", \"false\", \"no\", \"off\"].includes(normalized)) return false;\n  }\n  return fallback;\n}\n\nfunction parseNumber(raw: unknown, fallback: number) {\n  const n = Number(raw);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nfunction parseList(raw: unknown) {\n  if (typeof raw !== \"string\") return [];\n  return raw\n    .split(/[,\\s]+/g)\n    .map((item) => item.trim())\n    .filter(Boolean);\n}\n\nexport const env = {\n  supabaseUrl: getEnv(\"SUPABASE_URL\"),\n  supabaseAnonKey: getEnv(\"SUPABASE_ANON_KEY\"),\n  serviceRoleKey: getEnv(\"SUPABASE_SERVICE_ROLE\"),\n  dbUrl: getEnv(\"DATABASE_URL\"),\n  stripeSecretKey: getEnv(\"STRIPE_SECRET_KEY\"),\n  stripeWebhookSecret: getEnv(\"STRIPE_WEBHOOK_SECRET\"),\n  qrSecretKey: getEnv(\"QR_SECRET_KEY\"),\n  resendApiKey: getEnv(\"RESEND_API_KEY\"),\n  resendFrom:\n    process.env.RESEND_FROM ??\n    process.env.RESEND_FROM_EMAIL ??\n    \"no-reply@orya.pt\",\n  appBaseUrl: getOptionalUrlEnv(\"APP_BASE_URL\", \"NEXT_PUBLIC_BASE_URL\", \"NEXT_PUBLIC_SITE_URL\", \"VERCEL_URL\"),\n  uploadsBucket:\n    process.env.SUPABASE_STORAGE_BUCKET_UPLOADS ??\n    process.env.SUPABASE_STORAGE_BUCKET ??\n    \"uploads\",\n  avatarsBucket: process.env.SUPABASE_STORAGE_BUCKET_AVATARS ?? \"\",\n  eventCoversBucket: process.env.SUPABASE_STORAGE_BUCKET_EVENT_COVERS ?? \"\",\n  storageSignedUrls: parseBoolean(process.env.SUPABASE_STORAGE_SIGNED_URLS, false),\n  storageSignedTtlSeconds: parseNumber(process.env.SUPABASE_STORAGE_SIGNED_TTL_SECONDS, 60 * 60 * 24 * 30), // 30 dias\n  stripePremiumPriceIds: parseList(process.env.STRIPE_PREMIUM_PRICE_IDS),\n  stripePremiumProductIds: parseList(process.env.STRIPE_PREMIUM_PRODUCT_IDS),\n};\n"],"names":[],"mappings":"AAAA,sEAAsE;AACtE,+DAA+D;;;;;AAC/D,MAAM,WAAW;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAID,SAAS,OAAO,GAAW;IACzB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;IAC9B,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,KAAK;IAC3C;IACA,OAAO;AACT;AAEA,SAAS,kBAAkB,GAAG,IAAc;IAC1C,KAAK,MAAM,OAAO,KAAM;QACtB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;QAC9B,IAAI,OAAO,UAAU,YAAY,MAAM,IAAI,GAAG,MAAM,GAAG,GAAG;YACxD,OAAO,MAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,KAAK,8CAA8C;QACzF;IACF;IACA,OAAO;AACT;AAEA,SAAS,aAAa,GAAY,EAAE,QAAiB;IACnD,IAAI,OAAO,QAAQ,WAAW,OAAO;IACrC,IAAI,OAAO,QAAQ,UAAU;QAC3B,MAAM,aAAa,IAAI,IAAI,GAAG,WAAW;QACzC,IAAI;YAAC;YAAK;YAAQ;YAAO;SAAK,CAAC,QAAQ,CAAC,aAAa,OAAO;QAC5D,IAAI;YAAC;YAAK;YAAS;YAAM;SAAM,CAAC,QAAQ,CAAC,aAAa,OAAO;IAC/D;IACA,OAAO;AACT;AAEA,SAAS,YAAY,GAAY,EAAE,QAAgB;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,UAAU,GAAY;IAC7B,IAAI,OAAO,QAAQ,UAAU,OAAO,EAAE;IACtC,OAAO,IACJ,KAAK,CAAC,WACN,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,IACvB,MAAM,CAAC;AACZ;AAEO,MAAM,MAAM;IACjB,aAAa,OAAO;IACpB,iBAAiB,OAAO;IACxB,gBAAgB,OAAO;IACvB,OAAO,OAAO;IACd,iBAAiB,OAAO;IACxB,qBAAqB,OAAO;IAC5B,aAAa,OAAO;IACpB,cAAc,OAAO;IACrB,YACE,QAAQ,GAAG,CAAC,WAAW,IACvB,QAAQ,GAAG,CAAC,iBAAiB,IAC7B;IACF,YAAY,kBAAkB,gBAAgB,wBAAwB,wBAAwB;IAC9F,eACE,QAAQ,GAAG,CAAC,+BAA+B,IAC3C,QAAQ,GAAG,CAAC,uBAAuB,IACnC;IACF,eAAe,QAAQ,GAAG,CAAC,+BAA+B,IAAI;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,oCAAoC,IAAI;IACvE,mBAAmB,aAAa,QAAQ,GAAG,CAAC,4BAA4B,EAAE;IAC1E,yBAAyB,YAAY,QAAQ,GAAG,CAAC,mCAAmC,EAAE,KAAK,KAAK,KAAK;IACrG,uBAAuB,UAAU,QAAQ,GAAG,CAAC,wBAAwB;IACrE,yBAAyB,UAAU,QAAQ,GAAG,CAAC,0BAA0B;AAC3E"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\nimport { Prisma, PrismaClient } from \"@prisma/client\";\nimport { PrismaPg } from \"@prisma/adapter-pg\";\nimport { Pool } from \"pg\";\nimport { env } from \"@/lib/env\";\n\n// Toggle de logs verbose (queries) via env: PRISMA_LOG_QUERIES=true\nconst enableQueryLog = process.env.PRISMA_LOG_QUERIES === \"true\";\nconst logLevels: (Prisma.LogLevel | Prisma.LogDefinition)[] =\n  process.env.NODE_ENV === \"development\"\n    ? enableQueryLog\n      ? [\"query\", \"error\", \"warn\"]\n      : [\"error\", \"warn\"]\n    : [\"error\"];\n\n// Evitar múltiplas instâncias em dev (hot reload)\nconst globalForPrisma = globalThis as unknown as {\n  prisma?: PrismaClient;\n};\n\n// Pool e adapter para usar o client engine (\"library\") com Postgres\nconst pool = new Pool({\n  connectionString: env.dbUrl,\n  ssl:\n    process.env.NODE_ENV === \"production\"\n      ? undefined\n      : { rejectUnauthorized: false },\n});\n\nconst adapter = new PrismaPg(pool);\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    adapter,\n    log: logLevels,\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;AACA;AACA;AACA;;;;;;;;;;AAEA,oEAAoE;AACpE,MAAM,iBAAiB,QAAQ,GAAG,CAAC,kBAAkB,KAAK;AAC1D,MAAM,YACJ,uCACI,iBACE;IAAC;IAAS;IAAS;CAAO,GAC1B;IAAC;IAAS;CAAO,GACnB;AAEN,kDAAkD;AAClD,MAAM,kBAAkB;AAIxB,oEAAoE;AACpE,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,iHAAG,CAAC,KAAK;IAC3B,KACE,sCACI,0BACA;QAAE,oBAAoB;IAAM;AACpC;AAEA,MAAM,UAAU,IAAI,8JAAQ,CAAC;AAEtB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;AACP;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/supabaseServer.ts"],"sourcesContent":["import \"server-only\";\nimport { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\nimport { env } from \"@/lib/env\";\n\nfunction decodeBase64Cookie(raw: string) {\n  const BASE64_PREFIX = \"base64-\";\n  if (!raw.startsWith(BASE64_PREFIX)) return raw;\n\n  const base = raw.slice(BASE64_PREFIX.length);\n  const encodings: BufferEncoding[] = [\"base64url\", \"base64\"];\n\n  for (const enc of encodings) {\n    try {\n      return Buffer.from(base, enc).toString(\"utf-8\");\n    } catch {\n      /* try next */\n    }\n  }\n\n  // Se não conseguirmos decodificar, tratamos como cookie ausente para evitar JSON.parse de strings inválidas\n  return undefined;\n}\n\n/**\n * Server-side Supabase client (SSR + Route Handlers)\n * - Safe cookie reading\n * - Safe cookie writing\n * - Prevents JSON parse errors\n * - No profile fetching here\n */\nexport async function createSupabaseServer() {\n  const cookieStore = (await cookies());\n\n  const supabase = createServerClient(\n    env.supabaseUrl,\n    env.supabaseAnonKey,\n    {\n      cookies: {\n        get(name: string) {\n          try {\n            // Só devolvemos cookies do Supabase (sb-*) e ignoramos o resto\n            if (!name.startsWith(\"sb-\")) return undefined;\n            const raw = cookieStore.get(name)?.value;\n            if (!raw) return undefined;\n\n            // Se for um chunk (sb-*.0, sb-*.1, ...), deixamos intacto para o combinador do Supabase tratar\n            const isChunk = /\\.\\d+$/.test(name);\n            return isChunk ? raw : decodeBase64Cookie(raw);\n          } catch {\n            return undefined;\n          }\n        },\n        set(name: string, value: string, options: Record<string, unknown>) {\n          try {\n            cookieStore.set({ name, value, ...options });\n          } catch {\n            /* ignore errors for RSC */\n          }\n        },\n        remove(name: string, options: Record<string, unknown>) {\n          try {\n            cookieStore.set({ name, value: \"\", ...options, maxAge: 0 });\n          } catch {\n            /* ignore */\n          }\n        },\n      },\n    }\n  );\n\n  return supabase;\n}\n\n\nexport async function getCurrentUser() {\n  const supabase = await createSupabaseServer();\n\n  try {\n    const { data, error } = await supabase.auth.getUser();\n\n    if (error || !data?.user) {\n      return { user: null, error };\n    }\n\n    return { user: data.user, error: null };\n  } catch (err) {\n    return { user: null, error: err };\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEA,SAAS,mBAAmB,GAAW;IACrC,MAAM,gBAAgB;IACtB,IAAI,CAAC,IAAI,UAAU,CAAC,gBAAgB,OAAO;IAE3C,MAAM,OAAO,IAAI,KAAK,CAAC,cAAc,MAAM;IAC3C,MAAM,YAA8B;QAAC;QAAa;KAAS;IAE3D,KAAK,MAAM,OAAO,UAAW;QAC3B,IAAI;YACF,OAAO,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC;QACzC,EAAE,OAAM;QACN,YAAY,GACd;IACF;IAEA,4GAA4G;IAC5G,OAAO;AACT;AASO,eAAe;IACpB,MAAM,cAAe,MAAM,IAAA,0IAAO;IAElC,MAAM,WAAW,IAAA,+LAAkB,EACjC,iHAAG,CAAC,WAAW,EACf,iHAAG,CAAC,eAAe,EACnB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,IAAI;oBACF,+DAA+D;oBAC/D,IAAI,CAAC,KAAK,UAAU,CAAC,QAAQ,OAAO;oBACpC,MAAM,MAAM,YAAY,GAAG,CAAC,OAAO;oBACnC,IAAI,CAAC,KAAK,OAAO;oBAEjB,+FAA+F;oBAC/F,MAAM,UAAU,SAAS,IAAI,CAAC;oBAC9B,OAAO,UAAU,MAAM,mBAAmB;gBAC5C,EAAE,OAAM;oBACN,OAAO;gBACT;YACF;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAgC;gBAC/D,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM;wBAAO,GAAG,OAAO;oBAAC;gBAC5C,EAAE,OAAM;gBACN,yBAAyB,GAC3B;YACF;YACA,QAAO,IAAY,EAAE,OAAgC;gBACnD,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM,OAAO;wBAAI,GAAG,OAAO;wBAAE,QAAQ;oBAAE;gBAC3D,EAAE,OAAM;gBACN,UAAU,GACZ;YACF;QACF;IACF;IAGF,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,WAAW,MAAM;IAEvB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAEnD,IAAI,SAAS,CAAC,MAAM,MAAM;YACxB,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;QAEA,OAAO;YAAE,MAAM,KAAK,IAAI;YAAE,OAAO;QAAK;IACxC,EAAE,OAAO,KAAK;QACZ,OAAO;YAAE,MAAM;YAAM,OAAO;QAAI;IAClC;AACF"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/ProfileHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/ProfileHeader.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/ProfileHeader.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","ignoreList":[0]}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/ProfileHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/ProfileHeader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/ProfileHeader.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","ignoreList":[0]}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizationProfileHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/OrganizationProfileHeader.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/OrganizationProfileHeader.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwT,GACrV,sFACA","ignoreList":[0]}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizationProfileHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/OrganizationProfileHeader.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/OrganizationProfileHeader.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0]}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizerAgendaTabs.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/OrganizerAgendaTabs.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/OrganizerAgendaTabs.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkT,GAC/U,gFACA","ignoreList":[0]}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/components/profile/OrganizerAgendaTabs.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/components/profile/OrganizerAgendaTabs.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/components/profile/OrganizerAgendaTabs.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","ignoreList":[0]}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/image.ts"],"sourcesContent":["export function optimizeImageUrl(\n  url: string | null | undefined,\n  width = 1200,\n  quality = 75,\n  format: \"webp\" | \"avif\" | \"auto\" = \"webp\",\n) {\n  if (!url || typeof url !== \"string\") return url ?? \"\";\n  try {\n    const parsed = new URL(url);\n    if (parsed.hostname.includes(\"supabase.co\")) {\n      parsed.searchParams.set(\"width\", String(width));\n      parsed.searchParams.set(\"quality\", String(quality));\n      parsed.searchParams.set(\"format\", format);\n      return parsed.toString();\n    }\n    return url;\n  } catch (err) {\n    return url;\n  }\n}\n\nexport const defaultBlurDataURL =\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='9' viewBox='0 0 16 9'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' x2='1' y1='0' y2='1'%3E%3Cstop stop-color='%23050B16' offset='0'%3E%3C/stop%3E%3Cstop stop-color='%23111F3B' offset='1'%3E%3C/stop%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='16' height='9' fill='url(%23g)'/%3E%3C/svg%3E\";\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,iBACd,GAA8B,EAC9B,QAAQ,IAAI,EACZ,UAAU,EAAE,EACZ,SAAmC,MAAM;IAEzC,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO,OAAO;IACnD,IAAI;QACF,MAAM,SAAS,IAAI,IAAI;QACvB,IAAI,OAAO,QAAQ,CAAC,QAAQ,CAAC,gBAAgB;YAC3C,OAAO,YAAY,CAAC,GAAG,CAAC,SAAS,OAAO;YACxC,OAAO,YAAY,CAAC,GAAG,CAAC,WAAW,OAAO;YAC1C,OAAO,YAAY,CAAC,GAAG,CAAC,UAAU;YAClC,OAAO,OAAO,QAAQ;QACxB;QACA,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,OAAO;IACT;AACF;AAEO,MAAM,qBACX"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/organizerPremium.ts"],"sourcesContent":["import type { LiveHubModule } from \"@/lib/liveHubConfig\";\n\ntype OrganizerRef = {\n  id?: number | null;\n  username?: string | null;\n  // Gerido por subscrição (SaaS), não editar manualmente na UI.\n  liveHubPremiumEnabled?: boolean | null;\n};\n\ntype OrganizerPremiumModules = {\n  inscricoes?: boolean;\n  loja?: boolean;\n  galeria?: boolean;\n};\n\ntype LiveHubMatchOrder = \"ONEVONE\";\n\ntype OrganizerPremiumConfig = {\n  key: \"ONEVONE\";\n  organizerId: number;\n  username: string;\n  liveHubModules?: LiveHubModule[];\n  profileModules?: OrganizerPremiumModules;\n  liveHubMatchOrder?: LiveHubMatchOrder;\n};\n\nconst CUSTOM_PREMIUM_CONFIGS: OrganizerPremiumConfig[] = [\n  {\n    key: \"ONEVONE\",\n    organizerId: 23,\n    username: \"onevone\",\n    liveHubModules: [\"HERO\", \"VIDEO\", \"NOW_PLAYING\", \"NEXT_MATCHES\", \"RESULTS\", \"BRACKET\", \"SPONSORS\"],\n    profileModules: { inscricoes: true, loja: true, galeria: true },\n    liveHubMatchOrder: \"ONEVONE\",\n  },\n];\n\nconst normalizeUsername = (value?: string | null) => (typeof value === \"string\" ? value.trim().toLowerCase() : \"\");\n\nexport function getCustomPremiumConfig(organizer?: OrganizerRef | null) {\n  if (!organizer) return null;\n  const normalizedUsername = normalizeUsername(organizer.username);\n  return (\n    CUSTOM_PREMIUM_CONFIGS.find(\n      (config) =>\n        (config.organizerId && organizer.id === config.organizerId) ||\n        (normalizedUsername && config.username === normalizedUsername),\n    ) ?? null\n  );\n}\n\nexport function isCustomPremiumOrganizer(organizer?: OrganizerRef | null) {\n  return Boolean(getCustomPremiumConfig(organizer));\n}\n\nexport function isCustomPremiumActive(organizer?: OrganizerRef | null, premiumEnabled?: boolean | null) {\n  const config = getCustomPremiumConfig(organizer);\n  if (!config) return false;\n  const enabled = premiumEnabled ?? organizer?.liveHubPremiumEnabled ?? false;\n  return Boolean(enabled);\n}\n\nexport function getCustomPremiumKey(organizer?: OrganizerRef | null) {\n  return getCustomPremiumConfig(organizer)?.key ?? null;\n}\n\nexport function getCustomLiveHubModules(organizer?: OrganizerRef | null) {\n  return getCustomPremiumConfig(organizer)?.liveHubModules ?? null;\n}\n\nexport function getCustomPremiumProfileModules(organizer?: OrganizerRef | null) {\n  return getCustomPremiumConfig(organizer)?.profileModules ?? null;\n}\n\nexport function getCustomLiveHubMatchOrder(organizer?: OrganizerRef | null) {\n  return getCustomPremiumConfig(organizer)?.liveHubMatchOrder ?? null;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AA0BA,MAAM,yBAAmD;IACvD;QACE,KAAK;QACL,aAAa;QACb,UAAU;QACV,gBAAgB;YAAC;YAAQ;YAAS;YAAe;YAAgB;YAAW;YAAW;SAAW;QAClG,gBAAgB;YAAE,YAAY;YAAM,MAAM;YAAM,SAAS;QAAK;QAC9D,mBAAmB;IACrB;CACD;AAED,MAAM,oBAAoB,CAAC,QAA2B,OAAO,UAAU,WAAW,MAAM,IAAI,GAAG,WAAW,KAAK;AAExG,SAAS,uBAAuB,SAA+B;IACpE,IAAI,CAAC,WAAW,OAAO;IACvB,MAAM,qBAAqB,kBAAkB,UAAU,QAAQ;IAC/D,OACE,uBAAuB,IAAI,CACzB,CAAC,SACC,AAAC,OAAO,WAAW,IAAI,UAAU,EAAE,KAAK,OAAO,WAAW,IACzD,sBAAsB,OAAO,QAAQ,KAAK,uBAC1C;AAET;AAEO,SAAS,yBAAyB,SAA+B;IACtE,OAAO,QAAQ,uBAAuB;AACxC;AAEO,SAAS,sBAAsB,SAA+B,EAAE,cAA+B;IACpG,MAAM,SAAS,uBAAuB;IACtC,IAAI,CAAC,QAAQ,OAAO;IACpB,MAAM,UAAU,kBAAkB,WAAW,yBAAyB;IACtE,OAAO,QAAQ;AACjB;AAEO,SAAS,oBAAoB,SAA+B;IACjE,OAAO,uBAAuB,YAAY,OAAO;AACnD;AAEO,SAAS,wBAAwB,SAA+B;IACrE,OAAO,uBAAuB,YAAY,kBAAkB;AAC9D;AAEO,SAAS,+BAA+B,SAA+B;IAC5E,OAAO,uBAAuB,YAAY,kBAAkB;AAC9D;AAEO,SAAS,2BAA2B,SAA+B;IACxE,OAAO,uBAAuB,YAAY,qBAAqB;AACjE"}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/%5Busername%5D/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { notFound, redirect } from \"next/navigation\";\nimport { prisma } from \"@/lib/prisma\";\nimport { createSupabaseServer } from \"@/lib/supabaseServer\";\nimport ProfileHeader from \"@/app/components/profile/ProfileHeader\";\nimport OrganizationProfileHeader from \"@/app/components/profile/OrganizationProfileHeader\";\nimport OrganizerAgendaTabs from \"@/app/components/profile/OrganizerAgendaTabs\";\nimport { optimizeImageUrl } from \"@/lib/image\";\nimport {\n  getCustomPremiumKey,\n  getCustomPremiumProfileModules,\n  isCustomPremiumActive,\n} from \"@/lib/organizerPremium\";\n\nexport const dynamic = \"force-dynamic\";\nexport const revalidate = 0;\n\ntype PageProps = {\n  params: { username: string } | Promise<{ username: string }>;\n};\n\nasync function getViewerId() {\n  try {\n    const supabase = await createSupabaseServer();\n    const { data, error } = await supabase.auth.getUser();\n    if (error || !data?.user) return null;\n    return data.user.id;\n  } catch {\n    return null;\n  }\n}\n\nfunction formatDate(date?: Date | null) {\n  if (!date) return \"\";\n  return new Intl.DateTimeFormat(\"pt-PT\", {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"short\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(date);\n}\n\nfunction formatDayLabel(date: Date, timezone: string) {\n  return new Intl.DateTimeFormat(\"pt-PT\", {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"short\",\n    timeZone: timezone,\n  }).format(date);\n}\n\nfunction formatTimeLabel(date: Date | null, timezone: string) {\n  if (!date) return \"—\";\n  return new Intl.DateTimeFormat(\"pt-PT\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    timeZone: timezone,\n  }).format(date);\n}\n\ntype OrganizationCategory = \"EVENTOS\" | \"PADEL\" | \"VOLUNTARIADO\";\n\ntype OrganizerEvent = {\n  id: number;\n  slug: string;\n  title: string;\n  startsAt: Date | null;\n  endsAt: Date | null;\n  locationName: string | null;\n  locationCity: string | null;\n  timezone: string | null;\n  templateType: string | null;\n  coverImageUrl: string | null;\n  isFree: boolean;\n};\n\ntype OrganizationFormPreview = {\n  id: number;\n  title: string;\n  description: string | null;\n  startAt: Date | null;\n  endAt: Date | null;\n  capacity: number | null;\n  waitlistEnabled: boolean;\n  status: \"DRAFT\" | \"PUBLISHED\" | \"ARCHIVED\";\n};\n\ntype AgendaItem = {\n  id: number;\n  slug: string;\n  title: string;\n  timeLabel: string;\n  locationLabel: string;\n  isPast: boolean;\n  isFree: boolean;\n};\n\ntype AgendaGroup = {\n  key: string;\n  label: string;\n  items: AgendaItem[];\n};\n\nconst CATEGORY_META: Record<\n  OrganizationCategory,\n  { label: string; cta: string; noun: string; nounPlural: string }\n> = {\n  EVENTOS: {\n    label: \"Eventos\",\n    cta: \"Ver eventos\",\n    noun: \"evento\",\n    nounPlural: \"eventos\",\n  },\n  PADEL: {\n    label: \"PADEL\",\n    cta: \"Ver torneios\",\n    noun: \"torneio\",\n    nounPlural: \"torneios\",\n  },\n  VOLUNTARIADO: {\n    label: \"Voluntariado\",\n    cta: \"Participar\",\n    noun: \"ação\",\n    nounPlural: \"ações\",\n  },\n};\n\nconst CATEGORY_TEMPLATE: Record<OrganizationCategory, \"PADEL\" | \"VOLUNTEERING\" | null> = {\n  EVENTOS: null,\n  PADEL: \"PADEL\",\n  VOLUNTARIADO: \"VOLUNTEERING\",\n};\n\nconst UPDATE_CATEGORY_LABELS: Record<string, string> = {\n  TODAY: \"Hoje\",\n  CHANGES: \"Alterações\",\n  RESULTS: \"Resultados\",\n  CALL_UPS: \"Convocatórias\",\n};\n\nfunction formatEventDateRange(start: Date | null, end: Date | null, timezone?: string | null) {\n  if (!start) return \"Data a definir\";\n  const safeTimezone = timezone || \"Europe/Lisbon\";\n  const optsDay: Intl.DateTimeFormatOptions = {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"short\",\n  };\n  const optsTime: Intl.DateTimeFormatOptions = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  };\n  const dayStr = new Intl.DateTimeFormat(\"pt-PT\", { ...optsDay, timeZone: safeTimezone }).format(start);\n  const startTimeStr = new Intl.DateTimeFormat(\"pt-PT\", { ...optsTime, timeZone: safeTimezone }).format(start);\n  const endTimeStr = end\n    ? new Intl.DateTimeFormat(\"pt-PT\", { ...optsTime, timeZone: safeTimezone }).format(end)\n    : null;\n  return `${dayStr} · ${startTimeStr}${endTimeStr ? ` – ${endTimeStr}` : \"\"}`;\n}\n\nfunction buildAgendaGroups(events: OrganizerEvent[], pastEventIds?: Set<number>) {\n  const groups: AgendaGroup[] = [];\n  const groupMap = new Map<string, AgendaGroup>();\n\n  for (const event of events) {\n    const timezone = event.timezone || \"Europe/Lisbon\";\n    const hasDate = Boolean(event.startsAt);\n    const key = hasDate\n      ? new Intl.DateTimeFormat(\"pt-PT\", {\n          year: \"numeric\",\n          month: \"2-digit\",\n          day: \"2-digit\",\n          timeZone: timezone,\n        }).format(event.startsAt as Date)\n      : \"data-a-definir\";\n    const label = hasDate ? formatDayLabel(event.startsAt as Date, timezone) : \"Data a definir\";\n    const locationLabel =\n      [event.locationName, event.locationCity].filter(Boolean).join(\" · \") || \"Local a anunciar\";\n    const item: AgendaItem = {\n      id: event.id,\n      slug: event.slug,\n      title: event.title,\n      timeLabel: hasDate ? formatTimeLabel(event.startsAt as Date, timezone) : \"—\",\n      locationLabel,\n      isPast: pastEventIds?.has(event.id) ?? false,\n      isFree: event.isFree,\n    };\n\n    if (!groupMap.has(key)) {\n      groupMap.set(key, { key, label, items: [item] });\n    } else {\n      groupMap.get(key)?.items.push(item);\n    }\n  }\n\n  for (const group of groupMap.values()) {\n    groups.push(group);\n  }\n\n  return groups;\n}\n\nexport default async function UserProfilePage({ params }: PageProps) {\n  const resolvedParams = await params;\n  const usernameParam = resolvedParams?.username;\n\n  if (!usernameParam || usernameParam.toLowerCase() === \"me\") {\n    redirect(\"/me\");\n  }\n\n  const [viewerId, profile, organizerProfileRaw] = await Promise.all([\n    getViewerId(),\n    prisma.profile.findUnique({\n      where: { username: usernameParam },\n      select: {\n        id: true,\n        username: true,\n        fullName: true,\n        avatarUrl: true,\n        coverUrl: true,\n        bio: true,\n        city: true,\n        visibility: true,\n        createdAt: true,\n      },\n    }),\n    prisma.organizer.findFirst({\n      where: { username: usernameParam, status: \"ACTIVE\" },\n      select: {\n        id: true,\n        userId: true,\n        username: true,\n        publicName: true,\n        businessName: true,\n        city: true,\n        organizationCategory: true,\n        brandingAvatarUrl: true,\n        brandingCoverUrl: true,\n        officialEmail: true,\n        officialEmailVerifiedAt: true,\n        publicListingEnabled: true,\n        status: true,\n        publicWebsite: true,\n        publicInstagram: true,\n        publicYoutube: true,\n        publicDescription: true,\n        publicHours: true,\n        infoRules: true,\n        infoFaq: true,\n        infoRequirements: true,\n        infoPolicies: true,\n        infoLocationNotes: true,\n        address: true,\n        showAddressPublicly: true,\n        liveHubPremiumEnabled: true,\n        organizationModules: {\n          where: { enabled: true },\n          select: { moduleKey: true },\n        },\n      },\n    }),\n  ]);\n\n  const organizerProfile =\n    organizerProfileRaw && organizerProfileRaw.publicListingEnabled !== false ? organizerProfileRaw : null;\n\n  if (!profile?.username && !organizerProfile) {\n    notFound();\n  }\n\n  if (!profile?.username && organizerProfile) {\n    const now = new Date();\n    const organizationCategory =\n      (organizerProfile.organizationCategory as OrganizationCategory | null) ?? \"EVENTOS\";\n    const categoryMeta = CATEGORY_META[organizationCategory];\n    const categoryTemplate = CATEGORY_TEMPLATE[organizationCategory];\n    const orgDisplayName =\n      organizerProfile.publicName?.trim() ||\n      organizerProfile.businessName?.trim() ||\n      \"Organização ORYA\";\n    const modules =\n      (organizerProfile.organizationModules?.map((module) => module.moduleKey) ?? []) as string[];\n    const ownerMembership = viewerId\n      ? await prisma.organizerMember.findFirst({\n          where: { organizerId: organizerProfile.id, userId: viewerId, role: \"OWNER\" },\n          select: { userId: true },\n        })\n      : null;\n    const isOrgOwner = Boolean(ownerMembership);\n    const contactEmail = organizerProfile.officialEmail?.trim() || null;\n    const publicWebsite = organizerProfile.publicWebsite?.trim() || null;\n    const publicInstagram = organizerProfile.publicInstagram?.trim() || null;\n    const publicYoutube = organizerProfile.publicYoutube?.trim() || null;\n    const publicWebsiteHref = publicWebsite\n      ? (() => {\n          const normalized = /^https?:\\/\\//i.test(publicWebsite)\n            ? publicWebsite\n            : `https://${publicWebsite}`;\n          try {\n            new URL(normalized);\n            return normalized;\n          } catch {\n            return null;\n          }\n        })()\n      : null;\n    const publicDescription = organizerProfile.publicDescription?.trim() || null;\n    const premiumKey = getCustomPremiumKey(organizerProfile);\n    const premiumActive = isCustomPremiumActive(organizerProfile);\n    const premiumModules = premiumActive ? getCustomPremiumProfileModules(organizerProfile) ?? {} : {};\n    const isOneVOnePremium = premiumActive && premiumKey === \"ONEVONE\";\n    const hasInscricoes = modules.includes(\"INSCRICOES\") && Boolean(premiumModules.inscricoes);\n    const hasLoja = modules.includes(\"LOJA\") && Boolean(premiumModules.loja);\n    const hasGaleria = modules.includes(\"GALERIA\") && Boolean(premiumModules.galeria);\n    const shouldLoadForms = hasInscricoes || isOrgOwner;\n\n    const formsWhere = {\n      organizerId: organizerProfile.id,\n      status: { in: [\"PUBLISHED\", \"DRAFT\"] },\n    };\n\n    const [events, updates, followersCount, followRow, forms] = await Promise.all([\n      prisma.event.findMany({\n        where: {\n          organizerId: organizerProfile.id,\n          status: \"PUBLISHED\",\n          isDeleted: false,\n          type: \"ORGANIZER_EVENT\",\n        },\n        orderBy: [{ startsAt: \"asc\" }],\n        select: {\n          id: true,\n          slug: true,\n          title: true,\n          startsAt: true,\n          endsAt: true,\n          locationName: true,\n          locationCity: true,\n          address: true,\n          isFree: true,\n          timezone: true,\n          templateType: true,\n          coverImageUrl: true,\n          ticketTypes: { select: { price: true } },\n        },\n      }),\n      prisma.organizationUpdate.findMany({\n        where: { organizerId: organizerProfile.id, status: \"PUBLISHED\" },\n        include: {\n          event: { select: { slug: true, title: true } },\n        },\n        orderBy: [{ isPinned: \"desc\" }, { publishedAt: \"desc\" }, { createdAt: \"desc\" }],\n        take: 6,\n      }),\n      prisma.organizer_follows.count({\n        where: { organizer_id: organizerProfile.id },\n      }),\n      viewerId\n        ? prisma.organizer_follows.findFirst({\n            where: { organizer_id: organizerProfile.id, follower_id: viewerId },\n            select: { follower_id: true },\n          })\n        : Promise.resolve(null),\n      shouldLoadForms\n        ? prisma.organizationForm.findMany({\n            where: formsWhere,\n            orderBy: [{ createdAt: \"desc\" }],\n            select: {\n              id: true,\n              title: true,\n              description: true,\n              startAt: true,\n              endAt: true,\n              capacity: true,\n              waitlistEnabled: true,\n              status: true,\n            },\n          })\n        : Promise.resolve([] as OrganizationFormPreview[]),\n    ]);\n\n    const formattedUpdates = updates.map((update) => ({\n      ...update,\n      dateLabel: formatDate(update.publishedAt ?? update.createdAt),\n      categoryLabel: UPDATE_CATEGORY_LABELS[update.category] ?? update.category,\n    }));\n\n    const categoryEvents = categoryTemplate\n      ? (events as OrganizerEvent[]).filter(\n          (event) =>\n            event.templateType === categoryTemplate ||\n            event.templateType === null ||\n            event.templateType === \"OTHER\",\n        )\n      : (events as OrganizerEvent[]);\n    const upcomingEvents = categoryEvents\n      .filter((event) => event.startsAt && event.startsAt >= now)\n      .sort((a, b) => (a.startsAt?.getTime() ?? 0) - (b.startsAt?.getTime() ?? 0));\n    const pastEvents = categoryEvents\n      .filter((event) => event.startsAt && event.startsAt < now)\n      .sort((a, b) => (b.startsAt?.getTime() ?? 0) - (a.startsAt?.getTime() ?? 0));\n    const spotlightEvent = upcomingEvents[0] ?? null;\n    const coverCandidate =\n      organizerProfile.brandingCoverUrl?.trim() ||\n      spotlightEvent?.coverImageUrl ||\n      upcomingEvents.find((event) => event.coverImageUrl)?.coverImageUrl ||\n      pastEvents.find((event) => event.coverImageUrl)?.coverImageUrl ||\n      null;\n    const headerCoverUrl = coverCandidate ? optimizeImageUrl(coverCandidate, 1400, 72) : null;\n    const galleryItems = categoryEvents.filter((event) => event.coverImageUrl).slice(0, 6);\n    const initialIsFollowing = Boolean(followRow);\n    const isVerified = Boolean(organizerProfile.officialEmailVerifiedAt);\n    const followersTotal = followersCount ?? 0;\n    const pastEventIds = new Set(pastEvents.map((event) => event.id));\n    const agendaUpcomingEvents = spotlightEvent\n      ? upcomingEvents.filter((event) => event.id !== spotlightEvent.id)\n      : upcomingEvents;\n    const upcomingGroups = buildAgendaGroups(agendaUpcomingEvents, pastEventIds);\n    const pastGroups = buildAgendaGroups(pastEvents, pastEventIds);\n    const allGroups = buildAgendaGroups([...upcomingEvents, ...pastEvents], pastEventIds);\n    const publicForms = forms.filter((form) => form.status !== \"ARCHIVED\");\n    const featuredForm =\n      publicForms.find((form) => /guarda[-\\s]?redes/i.test(form.title)) ?? publicForms[0] ?? null;\n    const showInscricoes = hasInscricoes;\n    const spotlightCtaLabel = spotlightEvent?.isFree ? \"Garantir lugar\" : \"Comprar bilhete\";\n    const spotlightCtaHref = spotlightEvent ? buildTicketHref(spotlightEvent.slug) : null;\n    const inscriptionsCoverUrl = spotlightEvent?.coverImageUrl\n      ? optimizeImageUrl(spotlightEvent.coverImageUrl, 900, 70)\n      : \"/images/placeholder-event.jpg\";\n    const featuredFormDateLabel = featuredForm\n      ? formatFormDateRange(featuredForm.startAt, featuredForm.endAt)\n      : null;\n    const featuredFormCapacityLabel = featuredForm?.capacity\n      ? `${featuredForm.capacity} vagas`\n      : null;\n    const merchItems = hasLoja\n      ? isOneVOnePremium\n        ? [\n            {\n              title: \"Camisola OneVOne\",\n              description: \"Edição limitada oficial dos torneios.\",\n              price: \"Em breve\",\n              href: publicWebsiteHref,\n            },\n            {\n              title: \"Pulseira OneVOne\",\n              description: \"Identidade premium para atletas e staff.\",\n              price: \"Em breve\",\n              href: publicWebsiteHref,\n            },\n          ]\n        : [\n            {\n              title: \"Camisola oficial\",\n              description: \"Edição limitada com assinatura da organização.\",\n              price: \"Em breve\",\n              href: publicWebsiteHref,\n            },\n            {\n              title: \"Pulseira de evento\",\n              description: \"Identidade premium para a equipa e atletas.\",\n              price: \"Em breve\",\n              href: publicWebsiteHref,\n            },\n          ]\n      : [];\n    const agendaTotal = upcomingEvents.length + pastEvents.length;\n    const galleryPreview = galleryItems.slice(0, 4);\n    const galleryHref = publicInstagram || null;\n    const galleryLinkLabel = publicInstagram ? \"Instagram\" : null;\n\n    const padelPlayersCount =\n      organizationCategory === \"PADEL\"\n        ? await prisma.padelPlayerProfile.count({ where: { organizerId: organizerProfile.id } })\n        : 0;\n\n    const padelTopPlayers =\n      organizationCategory === \"PADEL\"\n        ? await prisma.padelPlayerProfile.findMany({\n            where: { organizerId: organizerProfile.id, isActive: true },\n            orderBy: { createdAt: \"desc\" },\n            take: 4,\n            select: {\n              id: true,\n              displayName: true,\n              fullName: true,\n              level: true,\n              gender: true,\n            },\n          })\n        : [];\n\n    return (\n      <main className=\"relative orya-body-bg min-h-screen w-full overflow-hidden text-white\">\n        <section className=\"relative orya-page-width flex flex-col gap-8 py-10\">\n          <OrganizationProfileHeader\n            name={orgDisplayName}\n            username={organizerProfile.username ?? usernameParam}\n            avatarUrl={organizerProfile.brandingAvatarUrl ?? null}\n            coverUrl={headerCoverUrl}\n            bio={publicDescription}\n            city={organizerProfile.city ?? null}\n            followersCount={followersTotal}\n            followingCount={0}\n            organizerId={organizerProfile.id}\n            initialIsFollowing={initialIsFollowing}\n            isOwner={isOrgOwner}\n            isPublic={organizerProfile.publicListingEnabled !== false}\n            isVerified={isVerified}\n            instagramHref={publicInstagram}\n            youtubeHref={publicYoutube}\n            websiteHref={publicWebsiteHref}\n            contactEmail={contactEmail}\n          />\n\n          <section className=\"grid gap-6 px-5 sm:px-8 md:grid-cols-3 md:grid-rows-[auto_1fr] md:items-start\">\n            <OrganizerAgendaTabs\n              title=\"Agenda pública\"\n              anchorId=\"agenda\"\n              layout=\"grid\"\n              upcomingGroups={upcomingGroups}\n              pastGroups={pastGroups}\n              allGroups={allGroups}\n              upcomingCount={upcomingEvents.length}\n              pastCount={pastEvents.length}\n              totalCount={agendaTotal}\n              prelude={\n                <EventSpotlightCard\n                  event={spotlightEvent}\n                  label={`Próximo ${categoryMeta.noun}`}\n                  emptyLabel={`Sem ${categoryMeta.noun} anunciado`}\n                  ctaLabel={spotlightCtaLabel}\n                  ctaHref={spotlightCtaHref}\n                  variant=\"embedded\"\n                />\n              }\n            />\n\n            <aside className=\"space-y-4 md:col-span-1 md:row-start-2 min-w-0\">\n              {showInscricoes && (\n                <section className=\"relative overflow-hidden rounded-3xl border border-white/12 bg-[#05070f]/80 p-4 shadow-[0_20px_70px_rgba(0,0,0,0.6)] backdrop-blur-2xl\">\n                  <div className=\"absolute inset-0\" aria-hidden=\"true\">\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-[#05070f]/95 via-[#0b1124]/85 to-transparent\" />\n                    <div className=\"absolute inset-y-0 right-0 w-2/3\">\n                      <div\n                        className=\"absolute inset-0 bg-cover bg-center opacity-80\"\n                        style={{ backgroundImage: `url(${inscriptionsCoverUrl})` }}\n                      />\n                      <div className=\"absolute inset-0 bg-gradient-to-l from-transparent via-black/40 to-[#05070f]/95\" />\n                    </div>\n                  </div>\n\n                  <div className=\"relative z-10 space-y-2\">\n                    <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">\n                      Inscrições\n                    </p>\n                    <h3 className=\"text-lg font-semibold text-white\">\n                      {featuredForm?.title ||\n                        (isOneVOnePremium ? \"Ficha Guarda-Redes OneVOne\" : \"Inscrições em preparação\")}\n                    </h3>\n                    {featuredFormDateLabel || featuredFormCapacityLabel ? (\n                      <div className=\"mt-3 flex flex-wrap gap-2 text-[11px] text-white/70\">\n                        {featuredFormDateLabel && (\n                          <span className=\"rounded-full border border-white/15 bg-white/10 px-3 py-1\">\n                            {featuredFormDateLabel}\n                          </span>\n                        )}\n                        {featuredFormCapacityLabel && (\n                          <span className=\"rounded-full border border-white/15 bg-white/10 px-3 py-1\">\n                            {featuredFormCapacityLabel}\n                          </span>\n                        )}\n                      </div>\n                    ) : null}\n                    <div className=\"mt-4 flex flex-wrap items-center gap-2\">\n                      {featuredForm ? (\n                        <Link\n                          href={`/inscricoes/${featuredForm.id}`}\n                          className=\"rounded-full bg-white px-4 py-2 text-[12px] font-semibold text-black shadow-[0_10px_30px_rgba(255,255,255,0.25)]\"\n                        >\n                          Inscrever-me\n                        </Link>\n                      ) : (\n                        <span className=\"rounded-full border border-white/15 bg-white/10 px-4 py-2 text-[12px] font-semibold text-white/70\">\n                          Em breve\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </section>\n              )}\n\n              {hasLoja && (\n                <section className=\"rounded-3xl border border-white/12 bg-white/5 p-4 shadow-[0_18px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <div className=\"flex items-center justify-between gap-3\">\n                    <div>\n                      <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">Loja</p>\n                      <h3 className=\"text-base font-semibold text-white\">Merch premium</h3>\n                    </div>\n                    {publicWebsiteHref && (\n                      <a\n                        href={publicWebsiteHref}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        className=\"rounded-full border border-white/15 bg-white/5 px-3 py-1 text-[11px] text-white/80 hover:border-white/30 hover:bg-white/10\"\n                      >\n                        Ver loja\n                      </a>\n                    )}\n                  </div>\n                  {merchItems.length === 0 ? (\n                    <div className=\"mt-3 rounded-2xl border border-white/10 bg-white/5 p-3 text-[12px] text-white/70\">\n                      Produtos em preparação. Vamos lançar novidades em breve.\n                    </div>\n                  ) : (\n                    <div className=\"mt-3 grid gap-3 sm:grid-cols-2\">\n                      {merchItems.slice(0, 2).map((item) => {\n                        const titleLower = item.title.toLowerCase();\n                        const isCamisola = titleLower.includes(\"camisola\");\n                        const isPulseira = titleLower.includes(\"pulseira\");\n                        const imageStyle = isCamisola\n                          ? { backgroundImage: \"url(/ov1.png)\" }\n                          : isPulseira\n                            ? { backgroundImage: \"url(/onevone-pulseira.png)\" }\n                            : undefined;\n                        return (\n                          <div\n                            key={item.title}\n                            className=\"overflow-hidden rounded-2xl border border-white/12 bg-[#05070f]/85 text-[12px] text-white/80 shadow-[0_16px_50px_rgba(0,0,0,0.5)]\"\n                          >\n                            <div className=\"relative aspect-square w-full overflow-hidden border-b border-white/10\">\n                              <div\n                                className={`absolute inset-0 bg-cover bg-center ${\n                                  isCamisola\n                                    ? \"\"\n                                    : \"bg-[radial-gradient(circle_at_30%_20%,rgba(255,255,255,0.25),transparent_55%),linear-gradient(135deg,#0b1124,#05070f)]\"\n                                }`}\n                                style={imageStyle}\n                              />\n                              <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent\" />\n                              <div className=\"relative z-10 flex h-full flex-col justify-end p-3\">\n                                <p className=\"text-sm font-semibold text-white drop-shadow\">\n                                  {item.title}\n                                </p>\n                                <div className=\"mt-2 flex flex-wrap items-center gap-2\">\n                                  {item.href ? (\n                                    <a\n                                      href={item.href}\n                                      target=\"_blank\"\n                                      rel=\"noreferrer\"\n                                      className=\"inline-flex rounded-full border border-white/30 bg-white/15 px-3 py-1 text-[10px] text-white\"\n                                    >\n                                      Comprar\n                                    </a>\n                                  ) : (\n                                    <span className=\"inline-flex rounded-full border border-white/25 bg-white/10 px-3 py-1 text-[10px] text-white/80\">\n                                      Comprar\n                                    </span>\n                                  )}\n                                  <span className=\"text-[10px] text-white/70\">{item.price}</span>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  )}\n                </section>\n              )}\n\n              {hasGaleria && (\n                <section className=\"rounded-3xl border border-white/12 bg-white/5 p-4 shadow-[0_18px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <div className=\"flex items-center justify-between gap-3\">\n                    <div>\n                      <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">Galeria</p>\n                      <h3 className=\"text-base font-semibold text-white\">Highlights</h3>\n                    </div>\n                    {galleryHref && galleryLinkLabel && (\n                      <a\n                        href={galleryHref}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        className=\"rounded-full border border-white/15 bg-white/5 px-3 py-1 text-[11px] text-white/80 hover:border-white/30 hover:bg-white/10\"\n                      >\n                        Ver {galleryLinkLabel}\n                      </a>\n                    )}\n                  </div>\n                  {galleryPreview.length === 0 ? (\n                    <div className=\"mt-3 rounded-2xl border border-white/10 bg-white/5 p-3 text-[12px] text-white/70\">\n                      Ainda não existem imagens publicadas.\n                    </div>\n                  ) : (\n                    <div className=\"mt-3 grid grid-cols-3 gap-2\">\n                      {galleryPreview.map((event) => {\n                        const coverUrl = optimizeImageUrl(event.coverImageUrl, 600, 70);\n                        const content = (\n                          <div className=\"group relative h-20 overflow-hidden rounded-xl border border-white/10\">\n                            <div\n                              className=\"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-[1.04]\"\n                              style={{ backgroundImage: `url(${coverUrl})` }}\n                            />\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent\" />\n                          </div>\n                        );\n\n                        return galleryHref ? (\n                          <a\n                            key={event.id}\n                            href={galleryHref}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"block\"\n                          >\n                            {content}\n                          </a>\n                        ) : (\n                          <div key={event.id}>{content}</div>\n                        );\n                      })}\n                    </div>\n                  )}\n                </section>\n              )}\n            </aside>\n          </section>\n\n          <section className=\"space-y-4\">\n            <div>\n              <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">Canal oficial</p>\n              <h2 className=\"text-xl font-semibold text-white\">Atualizações da organização</h2>\n            </div>\n            {formattedUpdates.length === 0 ? (\n              <div className=\"rounded-3xl border border-white/10 bg-white/5 p-5 text-sm text-white/70 shadow-[0_20px_70px_rgba(0,0,0,0.5)] backdrop-blur-2xl\">\n                Sem atualizações oficiais por agora. As novidades aparecem sempre aqui primeiro.\n              </div>\n            ) : (\n              <div className=\"grid gap-3\">\n                {formattedUpdates.map((update) => (\n                  <div\n                    key={update.id}\n                    className=\"rounded-2xl border border-white/12 bg-white/5 p-4 text-sm text-white/80 shadow-[0_18px_60px_rgba(0,0,0,0.5)] backdrop-blur-2xl\"\n                  >\n                    <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                      <div>\n                        <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">\n                          {update.categoryLabel}\n                          {update.isPinned ? \" · Fixado\" : \"\"}\n                        </p>\n                        <h3 className=\"text-base font-semibold text-white\">{update.title}</h3>\n                        {update.event?.slug && (\n                          <Link\n                            href={`/eventos/${update.event.slug}`}\n                            className=\"text-[12px] text-white/60 hover:text-white\"\n                          >\n                            Evento: {update.event.title}\n                          </Link>\n                        )}\n                      </div>\n                      <span className=\"text-[11px] text-white/55\">{update.dateLabel}</span>\n                    </div>\n                    {update.body && (\n                      <p className=\"mt-2 text-[12px] text-white/70 whitespace-pre-line\">\n                        {update.body}\n                      </p>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </section>\n\n          {organizationCategory === \"PADEL\" && (\n            <section className=\"space-y-4\">\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">Centro de competição</p>\n                <h2 className=\"text-xl font-semibold text-white\">PADEL oficial</h2>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"rounded-3xl border border-white/12 bg-white/5 p-5 text-sm text-white/75 shadow-[0_24px_70px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">Jogadores</p>\n                  <p className=\"mt-2 text-2xl font-semibold text-white\">{padelPlayersCount}</p>\n                  <p className=\"text-[12px] text-white/60\">Perfis ativos na competição.</p>\n                  {padelTopPlayers.length > 0 ? (\n                    <div className=\"mt-3 flex flex-wrap gap-2 text-[12px] text-white/70\">\n                      {padelTopPlayers.map((player) => (\n                        <span\n                          key={player.id}\n                          className=\"rounded-full border border-white/15 bg-white/10 px-3 py-1\"\n                        >\n                          {player.displayName || player.fullName || \"Jogador\"}{player.level ? ` · ${player.level}` : \"\"}\n                        </span>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"mt-3 text-[12px] text-white/50\">Top players a definir.</p>\n                  )}\n                </div>\n                <div className=\"rounded-3xl border border-white/12 bg-gradient-to-br from-white/8 via-[#0b1124]/70 to-[#050912]/90 p-5 text-sm text-white/75 shadow-[0_24px_70px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">Ranking & histórico</p>\n                  <p className=\"mt-2 text-[12px] text-white/70\">\n                    Aqui vês rankings, campeões e resultados oficiais assim que forem publicados.\n                  </p>\n                  <div className=\"mt-4 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-[12px] text-white/70\">\n                    Temporada atual em preparação.\n                  </div>\n                </div>\n              </div>\n            </section>\n          )}\n\n          {organizationCategory === \"VOLUNTARIADO\" && (\n            <section className=\"space-y-4\">\n              <div>\n                <p className=\"text-[11px] uppercase tracking-[0.22em] text-white/60\">Missão</p>\n                <h2 className=\"text-xl font-semibold text-white\">Impacto e participação</h2>\n              </div>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div className=\"rounded-3xl border border-white/12 bg-white/5 p-5 text-sm text-white/75 shadow-[0_24px_70px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">Missão</p>\n                  <p className=\"mt-2 text-[12px] text-white/70\">\n                    {publicDescription ||\n                      \"Esta organização cria ações com impacto real. A missão e os objetivos serão atualizados em breve.\"}\n                  </p>\n                </div>\n                <div className=\"rounded-3xl border border-white/12 bg-gradient-to-br from-white/8 via-[#0b1124]/70 to-[#050912]/90 p-5 text-sm text-white/75 shadow-[0_24px_70px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n                  <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">Como participar</p>\n                  <p className=\"mt-2 text-[12px] text-white/70\">\n                    {organizerProfile.infoRequirements ||\n                      organizerProfile.infoRules ||\n                      \"Segue a organização, inscreve-te nas próximas ações e confirma a tua disponibilidade.\"}\n                  </p>\n                </div>\n              </div>\n            </section>\n          )}\n\n        </section>\n      </main>\n    );\n  }\n\n  const isOwner = viewerId === profile.id;\n  const isPrivate = profile.visibility === \"PRIVATE\";\n  const canShowPrivate = isOwner || !isPrivate;\n  let initialIsFollowing = false;\n\n  let stats = {\n    total: 0,\n    upcoming: 0,\n    past: 0,\n    totalSpent: \"—\",\n  };\n  let followersCount = 0;\n  let followingCount = 0;\n\n  let recent: Array<{\n    id: string;\n    title: string;\n    venueName: string | null;\n    coverUrl: string | null;\n    startAt: Date | null;\n    isUpcoming: boolean;\n  }> = [];\n\n  if (prisma.follows) {\n    const [followers, following] = await Promise.all([\n      prisma.follows.count({ where: { following_id: profile.id } }),\n      prisma.follows.count({ where: { follower_id: profile.id } }),\n    ]);\n    followersCount = followers;\n    followingCount = following;\n\n    if (!isOwner && viewerId) {\n      const followRow = await prisma.follows.findFirst({\n        where: { follower_id: viewerId, following_id: profile.id },\n        select: { id: true },\n      });\n      initialIsFollowing = Boolean(followRow);\n    }\n  }\n\n  if (canShowPrivate && (prisma as any).entitlement) {\n    const now = new Date();\n    try {\n      const [total, upcoming, past, recentEntitlements] = await Promise.all([\n        (prisma as any).entitlement.count({ where: { ownerUserId: profile.id } }),\n        (prisma as any).entitlement.count({\n          where: { ownerUserId: profile.id, snapshotStartAt: { gte: now } },\n        }),\n        (prisma as any).entitlement.count({\n          where: { ownerUserId: profile.id, snapshotStartAt: { lt: now } },\n        }),\n        (prisma as any).entitlement.findMany({\n          where: { ownerUserId: profile.id },\n          orderBy: [{ snapshotStartAt: \"desc\" }],\n          take: 4,\n          select: {\n            id: true,\n            snapshotTitle: true,\n            snapshotVenueName: true,\n            snapshotCoverUrl: true,\n            snapshotStartAt: true,\n          },\n        }),\n      ]);\n\n      stats = {\n        total,\n        upcoming,\n        past,\n        totalSpent: \"—\",\n      };\n\n      recent = (recentEntitlements ?? []).map((r: any) => ({\n        id: r.id,\n            title: r.snapshotTitle,\n            venueName: r.snapshotVenueName,\n            coverUrl: r.snapshotCoverUrl,\n            startAt: r.snapshotStartAt,\n            isUpcoming: r.snapshotStartAt ? new Date(r.snapshotStartAt) >= now : false,\n          }));\n    } catch (err) {\n      console.warn(\"[profile] falha ao carregar entitlements\", err);\n    }\n  }\n\n  const displayName =\n    organizerProfile?.publicName?.trim() ||\n    profile.fullName?.trim() ||\n    profile.username ||\n    \"Utilizador ORYA\";\n  const coverCandidate =\n    profile.coverUrl?.trim() ||\n    recent.find((item) => item.coverUrl)?.coverUrl ||\n    profile.avatarUrl ||\n    null;\n  const headerCoverUrl = coverCandidate ? optimizeImageUrl(coverCandidate, 1400, 72) : null;\n  const isOrganizationProfile = Boolean(organizerProfile);\n\n  return (\n    <main className=\"relative orya-body-bg min-h-screen w-full overflow-hidden text-white\">\n      <div className=\"pointer-events-none fixed inset-0\" aria-hidden=\"true\">\n        <div className=\"absolute -top-36 right-[-140px] h-[420px] w-[420px] rounded-full bg-[radial-gradient(circle_at_35%_35%,rgba(255,0,200,0.28),transparent_60%)] opacity-80 blur-3xl\" />\n        <div className=\"absolute top-[22vh] -left-40 h-[360px] w-[360px] rounded-full bg-[radial-gradient(circle_at_30%_30%,rgba(107,255,255,0.22),transparent_60%)] opacity-80 blur-3xl\" />\n        <div className=\"absolute bottom-[-180px] right-[12%] h-[420px] w-[420px] rounded-full bg-[radial-gradient(circle_at_40%_40%,rgba(22,70,245,0.25),transparent_60%)] opacity-70 blur-3xl\" />\n        <div className=\"absolute inset-0 bg-[linear-gradient(180deg,rgba(255,255,255,0.05),transparent_35%,rgba(0,0,0,0.65))] mix-blend-screen\" />\n      </div>\n      <div className=\"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(255,255,255,0.05),transparent_60%)]\" />\n      <section className=\"relative flex flex-col gap-6 py-10\">\n        <ProfileHeader\n          isOwner={isOwner}\n          name={displayName}\n          username={profile.username}\n          avatarUrl={profile.avatarUrl}\n          coverUrl={headerCoverUrl}\n          bio={profile.bio}\n          city={profile.city}\n          visibility={profile.visibility as \"PUBLIC\" | \"PRIVATE\" | null}\n          createdAt={profile.createdAt?.toISOString?.() ?? null}\n          followers={followersCount}\n          following={followingCount}\n          targetUserId={profile.id}\n          initialIsFollowing={initialIsFollowing}\n          isOrganization={isOrganizationProfile}\n        />\n\n        <div className=\"px-5 sm:px-8\">\n          <div className=\"orya-page-width flex flex-col gap-6\">\n            {canShowPrivate ? (\n              <>\n                <section className=\"rounded-3xl border border-white/15 bg-white/5 p-5 shadow-[0_24px_60px_rgba(0,0,0,0.6)] backdrop-blur-2xl\">\n                  <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n                    <StatCard\n                      title=\"Eventos com bilhete\"\n                      value={stats.total}\n                      subtitle=\"Timeline ORYA.\"\n                      tone=\"default\"\n                    />\n                    <StatCard\n                      title=\"Próximos\"\n                      value={stats.upcoming}\n                      subtitle=\"O que vem aí.\"\n                      tone=\"emerald\"\n                    />\n                    <StatCard\n                      title=\"Passados\"\n                      value={stats.past}\n                      subtitle=\"Memórias.\"\n                      tone=\"cyan\"\n                    />\n                    <StatCard\n                      title=\"Total investido\"\n                      value={stats.totalSpent}\n                      subtitle=\"Bruto - taxas.\"\n                      tone=\"purple\"\n                    />\n                  </div>\n                </section>\n\n                {isOwner ? (\n                  <section className=\"rounded-3xl border border-white/15 bg-white/5 backdrop-blur-2xl p-5 space-y-4 shadow-[0_24px_60px_rgba(0,0,0,0.6)] min-h-[280px] relative overflow-hidden\">\n                    <div className=\"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_15%_20%,rgba(255,255,255,0.04),transparent_38%),radial-gradient(circle_at_85%_18%,rgba(255,255,255,0.03),transparent_34%),radial-gradient(circle_at_50%_85%,rgba(255,255,255,0.03),transparent_40%)]\" />\n                    <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n                      <div>\n                        <h2 className=\"text-sm font-semibold text-white/95 tracking-[0.08em]\">\n                          Carteira ORYA\n                        </h2>\n                        <p className=\"text-[11px] text-white/68\">\n                          Entitlements ativos primeiro; memórias logo atrás. Tudo num só lugar.\n                        </p>\n                      </div>\n                      <Link\n                        href=\"/me/carteira\"\n                        className=\"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 text-white text-[11px] font-semibold px-4 py-1.5 shadow-[0_10px_26px_rgba(255,255,255,0.15)] hover:border-white/45 hover:bg-white/20 hover:scale-[1.02] active:scale-95 transition-transform backdrop-blur\"\n                      >\n                        Ver carteira\n                        <span className=\"text-[12px]\">↗</span>\n                      </Link>\n                    </div>\n\n                    {recent.length === 0 ? (\n                      <div className=\"flex h-48 items-center justify-center rounded-2xl border border-white/15 bg-white/5 text-sm text-white/80\">\n                        Ainda não tens bilhetes ORYA.\n                      </div>\n                    ) : (\n                      <div className=\"grid gap-3 md:grid-cols-2\">\n                        {recent.map((item) => (\n                          <RecentCard key={item.id} item={item} />\n                        ))}\n                      </div>\n                    )}\n                  </section>\n                ) : (\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <EventListCard\n                      title=\"Próximos eventos\"\n                      items={recent.filter((r) => r.isUpcoming)}\n                      emptyLabel=\"Sem eventos futuros para mostrar.\"\n                    />\n                    <EventListCard\n                      title=\"Eventos passados\"\n                      items={recent.filter((r) => !r.isUpcoming)}\n                      emptyLabel=\"Sem eventos passados para mostrar.\"\n                    />\n                  </div>\n                )}\n              </>\n            ) : (\n              <section className=\"rounded-3xl border border-white/15 bg-white/5 p-6 shadow-[0_26px_70px_rgba(0,0,0,0.6)] backdrop-blur-2xl text-center\">\n                <h2 className=\"text-lg font-semibold text-white\">Perfil privado</h2>\n                <p className=\"mt-2 text-sm text-white/70\">\n                  {displayName} mantém a timeline privada. Só o próprio consegue ver os eventos e\n                  bilhetes.\n                </p>\n              </section>\n            )}\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n}\n\nfunction formatFormDateRange(startAt: Date | null, endAt: Date | null) {\n  if (!startAt && !endAt) return \"Disponível sempre\";\n  if (startAt && endAt) {\n    const startLabel = formatDate(startAt);\n    const endLabel = formatDate(endAt);\n    return startLabel && endLabel ? `${startLabel} – ${endLabel}` : startLabel || endLabel;\n  }\n  return formatDate(startAt ?? endAt);\n}\n\nfunction buildTicketHref(slug: string) {\n  return `/eventos/${slug}?checkout=1#bilhetes`;\n}\n\nfunction EventSpotlightCard({\n  event,\n  label,\n  emptyLabel,\n  ctaLabel,\n  ctaHref,\n  variant = \"default\",\n}: {\n  event: OrganizerEvent | null;\n  label: string;\n  emptyLabel: string;\n  ctaLabel: string;\n  ctaHref: string | null;\n  variant?: \"default\" | \"embedded\";\n}) {\n  if (!event) {\n    return (\n      <div className=\"rounded-3xl border border-white/12 bg-white/5 p-5 text-sm text-white/70 shadow-[0_24px_80px_rgba(0,0,0,0.55)] backdrop-blur-2xl\">\n        <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/60\">{label}</p>\n        <h3 className=\"mt-2 text-xl font-semibold text-white\">{emptyLabel}</h3>\n        <p className=\"mt-1 text-[12px] text-white/60\">A equipa atualiza as próximas datas aqui.</p>\n      </div>\n    );\n  }\n\n  const cover = event.coverImageUrl ? optimizeImageUrl(event.coverImageUrl, 1400, 72) : null;\n  const eventHref = `/eventos/${event.slug}`;\n  const wrapperClass =\n    variant === \"embedded\"\n      ? \"relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-4\"\n      : \"relative overflow-hidden rounded-3xl border border-white/12 bg-white/5 p-5 shadow-[0_26px_80px_rgba(0,0,0,0.6)] backdrop-blur-2xl\";\n\n  return (\n    <div className={wrapperClass}>\n      {cover && (\n        <div\n          className=\"absolute inset-0 bg-cover bg-center\"\n          style={{ backgroundImage: `url(${cover})` }}\n        />\n      )}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-black/70 via-black/35 to-transparent\" />\n      <Link\n        href={eventHref}\n        aria-label={`Abrir ${event.title}`}\n        className=\"absolute inset-0 z-0\"\n      />\n      <div className=\"relative z-10 max-w-xl space-y-2\">\n        <p className=\"text-[11px] uppercase tracking-[0.2em] text-white/70\">{label}</p>\n        <h3 className=\"text-2xl font-semibold text-white\">{event.title}</h3>\n        <p className=\"text-[12px] text-white/75\">\n          {formatEventDateRange(event.startsAt, event.endsAt, event.timezone)}\n        </p>\n        <p className=\"text-[12px] text-white/65\">\n          {event.locationName}\n          {event.locationCity ? ` · ${event.locationCity}` : \"\"}\n        </p>\n        <div className=\"mt-4 flex flex-wrap items-center gap-2\">\n          {ctaHref && (\n            <Link\n              href={ctaHref}\n              className=\"relative z-10 rounded-full bg-white px-4 py-2 text-[12px] font-semibold text-black shadow-[0_10px_30px_rgba(255,255,255,0.35)]\"\n            >\n              {ctaLabel}\n            </Link>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\ntype StatTone = \"default\" | \"emerald\" | \"cyan\" | \"purple\";\n\nfunction toneClasses(tone: StatTone) {\n  switch (tone) {\n    case \"emerald\":\n      return \"border-emerald-300/30 from-emerald-500/16 via-emerald-500/9 to-[#0c1a14] shadow-[0_12px_26px_rgba(16,185,129,0.18)] text-emerald-50\";\n    case \"cyan\":\n      return \"border-cyan-300/30 from-cyan-500/16 via-cyan-500/9 to-[#08171c] shadow-[0_12px_26px_rgba(34,211,238,0.18)] text-cyan-50\";\n    case \"purple\":\n      return \"border-purple-300/30 from-purple-500/16 via-purple-500/9 to-[#120d1f] shadow-[0_12px_26px_rgba(168,85,247,0.18)] text-purple-50\";\n    default:\n      return \"border-white/15 from-white/12 via-[#0b1224]/78 to-[#0a0f1d] shadow-[0_12px_26px_rgba(0,0,0,0.45)] text-white\";\n  }\n}\n\nfunction StatCard({\n  title,\n  value,\n  subtitle,\n  tone = \"default\",\n}: {\n  title: string;\n  value: string | number;\n  subtitle: string;\n  tone?: StatTone;\n}) {\n  return (\n    <div\n      className={`relative overflow-hidden rounded-2xl border bg-gradient-to-br p-4 transition-transform duration-150 hover:-translate-y-[3px] hover:shadow-[0_22px_50px_rgba(0,0,0,0.65)] ${toneClasses(\n        tone,\n      )}`}\n    >\n      <div className=\"pointer-events-none absolute inset-0 rounded-2xl border border-white/10 mix-blend-screen\" />\n      <div className=\"pointer-events-none absolute inset-y-0 right-0 w-1/3 bg-white/5 blur-2xl\" />\n      <p\n        className={`text-[11px] uppercase tracking-[0.16em] ${\n          tone === \"default\" ? \"text-white/65\" : \"text-white/75\"\n        }`}\n      >\n        {title}\n      </p>\n      <p className=\"mt-1 text-3xl font-semibold\">{value}</p>\n      <p className=\"text-[12px] text-white/70\">{subtitle}</p>\n    </div>\n  );\n}\n\nfunction RecentCard({\n  item,\n}: {\n  item: { id: string; title: string; venueName: string | null; coverUrl: string | null; startAt: Date | null };\n}) {\n  return (\n    <div className=\"relative overflow-hidden rounded-2xl border border-white/15 bg-white/5 p-3 shadow-[0_12px_36px_rgba(0,0,0,0.5)] backdrop-blur-2xl\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"h-16 w-16 overflow-hidden rounded-xl border border-white/10 bg-[radial-gradient(circle_at_30%_30%,rgba(255,0,200,0.14),transparent_45%),radial-gradient(circle_at_70%_70%,rgba(107,255,255,0.14),transparent_50%),#0b0f1b]\">\n          {item.coverUrl ? (\n            // eslint-disable-next-line @next/next/no-img-element\n            <img\n              src={item.coverUrl}\n              alt={item.title}\n              className=\"h-full w-full object-cover\"\n            />\n          ) : (\n            <div className=\"flex h-full w-full items-center justify-center text-[10px] font-semibold uppercase tracking-wide text-white/55\">\n              ORYA\n            </div>\n          )}\n        </div>\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-semibold text-white line-clamp-2\">{item.title}</p>\n          <p className=\"text-[11px] text-white/70 line-clamp-1\">{item.venueName || \"Local a anunciar\"}</p>\n          <p className=\"text-[11px] text-white/60\">{formatDate(item.startAt)}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EventListCard({\n  title,\n  items,\n  emptyLabel,\n}: {\n  title: string;\n  items: Array<{ id: string; title: string; venueName: string | null; coverUrl: string | null; startAt: Date | null }>;\n  emptyLabel: string;\n}) {\n  return (\n    <section className=\"rounded-3xl border border-white/15 bg-white/5 p-4 shadow-[0_16px_50px_rgba(0,0,0,0.6)] backdrop-blur-2xl\">\n      <div className=\"mb-3 flex items-center justify-between\">\n        <h3 className=\"text-sm font-semibold text-white/90\">{title}</h3>\n      </div>\n      {items.length === 0 ? (\n        <div className=\"rounded-2xl border border-white/15 bg-white/5 px-4 py-6 text-[12px] text-white/80\">\n          {emptyLabel}\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {items.map((item) => (\n            <RecentCard key={item.id} item={item} />\n          ))}\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}