{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/env.ts"],"sourcesContent":["// Central helper for server-side environment variables (server-only).\n// ⚠️ Não importar este módulo em componentes com \"use client\".\nconst required = [\n  \"SUPABASE_URL\",\n  \"SUPABASE_ANON_KEY\",\n  \"SUPABASE_SERVICE_ROLE\",\n  \"DATABASE_URL\",\n  \"STRIPE_SECRET_KEY\",\n  \"STRIPE_WEBHOOK_SECRET\",\n  \"QR_SECRET_KEY\",\n  \"RESEND_API_KEY\",\n] as const;\n\ntype EnvKey = (typeof required)[number];\n\nfunction getEnv(key: EnvKey): string {\n  const value = process.env[key];\n  if (!value) {\n    throw new Error(`Missing env var: ${key}`);\n  }\n  return value;\n}\n\nfunction getOptionalUrlEnv(...keys: string[]) {\n  for (const key of keys) {\n    const value = process.env[key];\n    if (typeof value === \"string\" && value.trim().length > 0) {\n      return value.trim().replace(/\\/+$/, \"\"); // remove trailing slash para URLs previsíveis\n    }\n  }\n  return \"\";\n}\n\nfunction parseBoolean(raw: unknown, fallback: boolean) {\n  if (typeof raw === \"boolean\") return raw;\n  if (typeof raw === \"string\") {\n    const normalized = raw.trim().toLowerCase();\n    if ([\"1\", \"true\", \"yes\", \"on\"].includes(normalized)) return true;\n    if ([\"0\", \"false\", \"no\", \"off\"].includes(normalized)) return false;\n  }\n  return fallback;\n}\n\nfunction parseNumber(raw: unknown, fallback: number) {\n  const n = Number(raw);\n  return Number.isFinite(n) ? n : fallback;\n}\n\nfunction parseList(raw: unknown) {\n  if (typeof raw !== \"string\") return [];\n  return raw\n    .split(/[,\\s]+/g)\n    .map((item) => item.trim())\n    .filter(Boolean);\n}\n\nexport const env = {\n  supabaseUrl: getEnv(\"SUPABASE_URL\"),\n  supabaseAnonKey: getEnv(\"SUPABASE_ANON_KEY\"),\n  serviceRoleKey: getEnv(\"SUPABASE_SERVICE_ROLE\"),\n  dbUrl: getEnv(\"DATABASE_URL\"),\n  stripeSecretKey: getEnv(\"STRIPE_SECRET_KEY\"),\n  stripeWebhookSecret: getEnv(\"STRIPE_WEBHOOK_SECRET\"),\n  qrSecretKey: getEnv(\"QR_SECRET_KEY\"),\n  resendApiKey: getEnv(\"RESEND_API_KEY\"),\n  resendFrom:\n    process.env.RESEND_FROM ??\n    process.env.RESEND_FROM_EMAIL ??\n    \"no-reply@orya.pt\",\n  appBaseUrl: getOptionalUrlEnv(\"APP_BASE_URL\", \"NEXT_PUBLIC_BASE_URL\", \"NEXT_PUBLIC_SITE_URL\", \"VERCEL_URL\"),\n  uploadsBucket:\n    process.env.SUPABASE_STORAGE_BUCKET_UPLOADS ??\n    process.env.SUPABASE_STORAGE_BUCKET ??\n    \"uploads\",\n  avatarsBucket: process.env.SUPABASE_STORAGE_BUCKET_AVATARS ?? \"\",\n  eventCoversBucket: process.env.SUPABASE_STORAGE_BUCKET_EVENT_COVERS ?? \"\",\n  storageSignedUrls: parseBoolean(process.env.SUPABASE_STORAGE_SIGNED_URLS, false),\n  storageSignedTtlSeconds: parseNumber(process.env.SUPABASE_STORAGE_SIGNED_TTL_SECONDS, 60 * 60 * 24 * 30), // 30 dias\n  stripePremiumPriceIds: parseList(process.env.STRIPE_PREMIUM_PRICE_IDS),\n  stripePremiumProductIds: parseList(process.env.STRIPE_PREMIUM_PRODUCT_IDS),\n};\n"],"names":[],"mappings":"AAAA,sEAAsE;AACtE,+DAA+D;;;;;AAC/D,MAAM,WAAW;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAID,SAAS,OAAO,GAAW;IACzB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;IAC9B,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,KAAK;IAC3C;IACA,OAAO;AACT;AAEA,SAAS,kBAAkB,GAAG,IAAc;IAC1C,KAAK,MAAM,OAAO,KAAM;QACtB,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI;QAC9B,IAAI,OAAO,UAAU,YAAY,MAAM,IAAI,GAAG,MAAM,GAAG,GAAG;YACxD,OAAO,MAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,KAAK,8CAA8C;QACzF;IACF;IACA,OAAO;AACT;AAEA,SAAS,aAAa,GAAY,EAAE,QAAiB;IACnD,IAAI,OAAO,QAAQ,WAAW,OAAO;IACrC,IAAI,OAAO,QAAQ,UAAU;QAC3B,MAAM,aAAa,IAAI,IAAI,GAAG,WAAW;QACzC,IAAI;YAAC;YAAK;YAAQ;YAAO;SAAK,CAAC,QAAQ,CAAC,aAAa,OAAO;QAC5D,IAAI;YAAC;YAAK;YAAS;YAAM;SAAM,CAAC,QAAQ,CAAC,aAAa,OAAO;IAC/D;IACA,OAAO;AACT;AAEA,SAAS,YAAY,GAAY,EAAE,QAAgB;IACjD,MAAM,IAAI,OAAO;IACjB,OAAO,OAAO,QAAQ,CAAC,KAAK,IAAI;AAClC;AAEA,SAAS,UAAU,GAAY;IAC7B,IAAI,OAAO,QAAQ,UAAU,OAAO,EAAE;IACtC,OAAO,IACJ,KAAK,CAAC,WACN,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,IACvB,MAAM,CAAC;AACZ;AAEO,MAAM,MAAM;IACjB,aAAa,OAAO;IACpB,iBAAiB,OAAO;IACxB,gBAAgB,OAAO;IACvB,OAAO,OAAO;IACd,iBAAiB,OAAO;IACxB,qBAAqB,OAAO;IAC5B,aAAa,OAAO;IACpB,cAAc,OAAO;IACrB,YACE,QAAQ,GAAG,CAAC,WAAW,IACvB,QAAQ,GAAG,CAAC,iBAAiB,IAC7B;IACF,YAAY,kBAAkB,gBAAgB,wBAAwB,wBAAwB;IAC9F,eACE,QAAQ,GAAG,CAAC,+BAA+B,IAC3C,QAAQ,GAAG,CAAC,uBAAuB,IACnC;IACF,eAAe,QAAQ,GAAG,CAAC,+BAA+B,IAAI;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,oCAAoC,IAAI;IACvE,mBAAmB,aAAa,QAAQ,GAAG,CAAC,4BAA4B,EAAE;IAC1E,yBAAyB,YAAY,QAAQ,GAAG,CAAC,mCAAmC,EAAE,KAAK,KAAK,KAAK;IACrG,uBAAuB,UAAU,QAAQ,GAAG,CAAC,wBAAwB;IACrE,yBAAyB,UAAU,QAAQ,GAAG,CAAC,0BAA0B;AAC3E"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/supabaseServer.ts"],"sourcesContent":["import \"server-only\";\nimport { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\nimport { env } from \"@/lib/env\";\n\nfunction decodeBase64Cookie(raw: string) {\n  const BASE64_PREFIX = \"base64-\";\n  if (!raw.startsWith(BASE64_PREFIX)) return raw;\n\n  const base = raw.slice(BASE64_PREFIX.length);\n  const encodings: BufferEncoding[] = [\"base64url\", \"base64\"];\n\n  for (const enc of encodings) {\n    try {\n      return Buffer.from(base, enc).toString(\"utf-8\");\n    } catch {\n      /* try next */\n    }\n  }\n\n  // Se não conseguirmos decodificar, tratamos como cookie ausente para evitar JSON.parse de strings inválidas\n  return undefined;\n}\n\n/**\n * Server-side Supabase client (SSR + Route Handlers)\n * - Safe cookie reading\n * - Safe cookie writing\n * - Prevents JSON parse errors\n * - No profile fetching here\n */\nexport async function createSupabaseServer() {\n  const cookieStore = (await cookies());\n\n  const supabase = createServerClient(\n    env.supabaseUrl,\n    env.supabaseAnonKey,\n    {\n      cookies: {\n        get(name: string) {\n          try {\n            // Só devolvemos cookies do Supabase (sb-*) e ignoramos o resto\n            if (!name.startsWith(\"sb-\")) return undefined;\n            const raw = cookieStore.get(name)?.value;\n            if (!raw) return undefined;\n\n            // Se for um chunk (sb-*.0, sb-*.1, ...), deixamos intacto para o combinador do Supabase tratar\n            const isChunk = /\\.\\d+$/.test(name);\n            return isChunk ? raw : decodeBase64Cookie(raw);\n          } catch {\n            return undefined;\n          }\n        },\n        set(name: string, value: string, options: Record<string, unknown>) {\n          try {\n            cookieStore.set({ name, value, ...options });\n          } catch {\n            /* ignore errors for RSC */\n          }\n        },\n        remove(name: string, options: Record<string, unknown>) {\n          try {\n            cookieStore.set({ name, value: \"\", ...options, maxAge: 0 });\n          } catch {\n            /* ignore */\n          }\n        },\n      },\n    }\n  );\n\n  return supabase;\n}\n\n\nexport async function getCurrentUser() {\n  const supabase = await createSupabaseServer();\n\n  try {\n    const { data, error } = await supabase.auth.getUser();\n\n    if (error || !data?.user) {\n      return { user: null, error };\n    }\n\n    return { user: data.user, error: null };\n  } catch (err) {\n    return { user: null, error: err };\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEA,SAAS,mBAAmB,GAAW;IACrC,MAAM,gBAAgB;IACtB,IAAI,CAAC,IAAI,UAAU,CAAC,gBAAgB,OAAO;IAE3C,MAAM,OAAO,IAAI,KAAK,CAAC,cAAc,MAAM;IAC3C,MAAM,YAA8B;QAAC;QAAa;KAAS;IAE3D,KAAK,MAAM,OAAO,UAAW;QAC3B,IAAI;YACF,OAAO,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC;QACzC,EAAE,OAAM;QACN,YAAY,GACd;IACF;IAEA,4GAA4G;IAC5G,OAAO;AACT;AASO,eAAe;IACpB,MAAM,cAAe,MAAM,IAAA,4IAAO;IAElC,MAAM,WAAW,IAAA,iMAAkB,EACjC,mHAAG,CAAC,WAAW,EACf,mHAAG,CAAC,eAAe,EACnB;QACE,SAAS;YACP,KAAI,IAAY;gBACd,IAAI;oBACF,+DAA+D;oBAC/D,IAAI,CAAC,KAAK,UAAU,CAAC,QAAQ,OAAO;oBACpC,MAAM,MAAM,YAAY,GAAG,CAAC,OAAO;oBACnC,IAAI,CAAC,KAAK,OAAO;oBAEjB,+FAA+F;oBAC/F,MAAM,UAAU,SAAS,IAAI,CAAC;oBAC9B,OAAO,UAAU,MAAM,mBAAmB;gBAC5C,EAAE,OAAM;oBACN,OAAO;gBACT;YACF;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAgC;gBAC/D,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM;wBAAO,GAAG,OAAO;oBAAC;gBAC5C,EAAE,OAAM;gBACN,yBAAyB,GAC3B;YACF;YACA,QAAO,IAAY,EAAE,OAAgC;gBACnD,IAAI;oBACF,YAAY,GAAG,CAAC;wBAAE;wBAAM,OAAO;wBAAI,GAAG,OAAO;wBAAE,QAAQ;oBAAE;gBAC3D,EAAE,OAAM;gBACN,UAAU,GACZ;YACF;QACF;IACF;IAGF,OAAO;AACT;AAGO,eAAe;IACpB,MAAM,WAAW,MAAM;IAEvB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAEnD,IAAI,SAAS,CAAC,MAAM,MAAM;YACxB,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;QAEA,OAAO;YAAE,MAAM,KAAK,IAAI;YAAE,OAAO;QAAK;IACxC,EAAE,OAAO,KAAK;QACZ,OAAO;YAAE,MAAM;YAAM,OAAO;QAAI;IAClC;AACF"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\nimport { Prisma, PrismaClient } from \"@prisma/client\";\nimport { PrismaPg } from \"@prisma/adapter-pg\";\nimport { Pool } from \"pg\";\nimport { env } from \"@/lib/env\";\n\n// Toggle de logs verbose (queries) via env: PRISMA_LOG_QUERIES=true\nconst enableQueryLog = process.env.PRISMA_LOG_QUERIES === \"true\";\nconst logLevels: (Prisma.LogLevel | Prisma.LogDefinition)[] =\n  process.env.NODE_ENV === \"development\"\n    ? enableQueryLog\n      ? [\"query\", \"error\", \"warn\"]\n      : [\"error\", \"warn\"]\n    : [\"error\"];\n\n// Evitar múltiplas instâncias em dev (hot reload)\nconst globalForPrisma = globalThis as unknown as {\n  prisma?: PrismaClient;\n};\n\n// Pool e adapter para usar o client engine (\"library\") com Postgres\nconst pool = new Pool({\n  connectionString: env.dbUrl,\n  ssl:\n    process.env.NODE_ENV === \"production\"\n      ? undefined\n      : { rejectUnauthorized: false },\n});\n\nconst adapter = new PrismaPg(pool);\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    adapter,\n    log: logLevels,\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;AACA;AACA;AACA;;;;;;;;;;AAEA,oEAAoE;AACpE,MAAM,iBAAiB,QAAQ,GAAG,CAAC,kBAAkB,KAAK;AAC1D,MAAM,YACJ,uCACI,iBACE;IAAC;IAAS;IAAS;CAAO,GAC1B;IAAC;IAAS;CAAO,GACnB;AAEN,kDAAkD;AAClD,MAAM,kBAAkB;AAIxB,oEAAoE;AACpE,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,mHAAG,CAAC,KAAK;IAC3B,KACE,sCACI,0BACA;QAAE,oBAAoB;IAAM;AACpC;AAEA,MAAM,UAAU,IAAI,8JAAQ,CAAC;AAEtB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf;IACA,KAAK;AACP;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/api/organizador/tournaments/%5Bid%5D/participants/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { createSupabaseServer } from \"@/lib/supabaseServer\";\nimport { prisma } from \"@/lib/prisma\";\n\ntype ParticipantInput = {\n  id?: number;\n  name?: string;\n  email?: string | null;\n  username?: string | null;\n  avatarUrl?: string | null;\n  seed?: number | null;\n};\n\nasync function ensureOrganizerAccess(userId: string, eventId: number) {\n  const evt = await prisma.event.findUnique({\n    where: { id: eventId },\n    select: { organizerId: true },\n  });\n  if (!evt?.organizerId) return false;\n  const member = await prisma.organizerMember.findFirst({\n    where: {\n      organizerId: evt.organizerId,\n      userId,\n      role: { in: [\"OWNER\", \"CO_OWNER\", \"ADMIN\"] },\n    },\n    select: { id: true },\n  });\n  return Boolean(member);\n}\n\nfunction isPowerOfTwo(value: number) {\n  return value > 0 && (value & (value - 1)) === 0;\n}\n\nfunction normalizeParticipants(items: ParticipantInput[], bracketSize?: number | null) {\n  const normalized: ParticipantInput[] = [];\n  const seen = new Set<number>();\n  const usedSeeds = new Set<number>();\n  let nextId = -1;\n  const minInt = -2147483648;\n  const maxInt = 2147483647;\n\n  const reserveId = (candidate?: number) => {\n    let id = Number.isFinite(candidate) ? Math.trunc(candidate as number) : null;\n    const inRange =\n      typeof id === \"number\" && Number.isFinite(id) && id >= minInt && id <= maxInt && id < 0;\n    if (!inRange || id === 0 || seen.has(id)) {\n      while (seen.has(nextId)) nextId -= 1;\n      id = nextId;\n      nextId -= 1;\n    }\n    seen.add(id);\n    return id;\n  };\n\n  for (const raw of items) {\n    const name = typeof raw?.name === \"string\" ? raw.name.trim() : \"\";\n    if (!name) continue;\n    const id = reserveId(raw?.id);\n    const email = typeof raw?.email === \"string\" ? raw.email.trim().toLowerCase() || null : null;\n    const username = typeof raw?.username === \"string\" ? raw.username.trim().replace(/^@/, \"\") || null : null;\n    const avatarUrl = typeof raw?.avatarUrl === \"string\" ? raw.avatarUrl.trim() || null : null;\n    const rawSeed = Number(raw?.seed);\n    const seed =\n      Number.isFinite(rawSeed) &&\n      rawSeed >= 1 &&\n      (typeof bracketSize !== \"number\" || rawSeed <= bracketSize) &&\n      !usedSeeds.has(rawSeed)\n        ? Math.trunc(rawSeed)\n        : null;\n    if (seed) usedSeeds.add(seed);\n    normalized.push({ id, name, email, username, avatarUrl, seed });\n  }\n\n  return normalized;\n}\n\nexport async function GET(_req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const resolved = await params;\n  const id = Number(resolved?.id);\n  if (!Number.isFinite(id)) return NextResponse.json({ ok: false, error: \"INVALID_ID\" }, { status: 400 });\n\n  const supabase = await createSupabaseServer();\n  const { data: authData, error: authError } = await supabase.auth.getUser();\n  if (authError || !authData?.user) return NextResponse.json({ ok: false, error: \"UNAUTHENTICATED\" }, { status: 401 });\n\n  const tournament = await prisma.tournament.findUnique({\n    where: { id },\n    select: { id: true, eventId: true, config: true },\n  });\n  if (!tournament) return NextResponse.json({ ok: false, error: \"NOT_FOUND\" }, { status: 404 });\n\n  const authorized = await ensureOrganizerAccess(authData.user.id, tournament.eventId);\n  if (!authorized) return NextResponse.json({ ok: false, error: \"FORBIDDEN\" }, { status: 403 });\n\n  const config = (tournament.config as Record<string, unknown> | null) ?? {};\n  const manualParticipants = Array.isArray(config.manualParticipants) ? config.manualParticipants : [];\n  const bracketSize = Number.isFinite((config as any).bracketSize) ? Number((config as any).bracketSize) : null;\n\n  const res = NextResponse.json(\n    {\n      ok: true,\n      participants: manualParticipants,\n      bracketSize,\n    },\n    { status: 200 },\n  );\n  res.headers.set(\"Cache-Control\", \"no-store\");\n  return res;\n}\n\nexport async function POST(req: NextRequest, { params }: { params: Promise<{ id: string }> }) {\n  const resolved = await params;\n  const id = Number(resolved?.id);\n  if (!Number.isFinite(id)) return NextResponse.json({ ok: false, error: \"INVALID_ID\" }, { status: 400 });\n\n  const supabase = await createSupabaseServer();\n  const { data: authData, error: authError } = await supabase.auth.getUser();\n  if (authError || !authData?.user) return NextResponse.json({ ok: false, error: \"UNAUTHENTICATED\" }, { status: 401 });\n\n  const tournament = await prisma.tournament.findUnique({\n    where: { id },\n    select: { id: true, eventId: true, config: true },\n  });\n  if (!tournament) return NextResponse.json({ ok: false, error: \"NOT_FOUND\" }, { status: 404 });\n\n  const authorized = await ensureOrganizerAccess(authData.user.id, tournament.eventId);\n  if (!authorized) return NextResponse.json({ ok: false, error: \"FORBIDDEN\" }, { status: 403 });\n\n  const body = await req.json().catch(() => ({}));\n  const participants = Array.isArray(body?.participants) ? (body.participants as ParticipantInput[]) : [];\n\n  const rawBracketSize = body?.bracketSize;\n  let bracketSize = Number.isFinite(rawBracketSize) ? Number(rawBracketSize) : null;\n  if (bracketSize !== null && !isPowerOfTwo(bracketSize)) {\n    return NextResponse.json({ ok: false, error: \"INVALID_BRACKET_SIZE\" }, { status: 400 });\n  }\n  const normalized = normalizeParticipants(participants, bracketSize ?? undefined);\n\n  const config = (tournament.config as Record<string, unknown> | null) ?? {};\n  const nextConfig = {\n    ...config,\n    manualParticipants: normalized,\n    ...(bracketSize ? { bracketSize } : {}),\n  };\n\n  await prisma.tournament.update({\n    where: { id: tournament.id },\n    data: { config: nextConfig },\n  });\n\n  const res = NextResponse.json(\n    {\n      ok: true,\n      participants: normalized,\n      bracketSize: bracketSize ?? (Number.isFinite((config as any).bracketSize) ? Number((config as any).bracketSize) : null),\n    },\n    { status: 200 },\n  );\n  res.headers.set(\"Cache-Control\", \"no-store\");\n  return res;\n}\n"],"names":[],"mappings":"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"}}]
}