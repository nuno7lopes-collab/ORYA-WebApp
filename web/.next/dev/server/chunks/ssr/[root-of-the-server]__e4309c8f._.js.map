{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/components/app-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AppSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AppSidebar() from the server but AppSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/app-sidebar.tsx <module evaluation>\",\n    \"AppSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,4DACA","ignoreList":[0]}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/components/app-sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AppSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AppSidebar() from the server but AppSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/app-sidebar.tsx\",\n    \"AppSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,wCACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/components/ui/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SidebarInset = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarInset() from the server but SidebarInset is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx <module evaluation>\",\n    \"SidebarInset\",\n);\nexport const SidebarProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarProvider() from the server but SidebarProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx <module evaluation>\",\n    \"SidebarProvider\",\n);\nexport const SidebarRail = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarRail() from the server but SidebarRail is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx <module evaluation>\",\n    \"SidebarRail\",\n);\nexport const SidebarTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarTrigger() from the server but SidebarTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx <module evaluation>\",\n    \"SidebarTrigger\",\n);\nexport const useSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSidebar() from the server but useSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx <module evaluation>\",\n    \"useSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,2DACA;AAEG,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,2DACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2DACA;AAEG,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2DACA;AAEG,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2DACA","ignoreList":[0]}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/components/ui/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SidebarInset = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarInset() from the server but SidebarInset is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx\",\n    \"SidebarInset\",\n);\nexport const SidebarProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarProvider() from the server but SidebarProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx\",\n    \"SidebarProvider\",\n);\nexport const SidebarRail = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarRail() from the server but SidebarRail is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx\",\n    \"SidebarRail\",\n);\nexport const SidebarTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call SidebarTrigger() from the server but SidebarTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx\",\n    \"SidebarTrigger\",\n);\nexport const useSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSidebar() from the server but useSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/sidebar.tsx\",\n    \"useSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uCACA;AAEG,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,uCACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uCACA;AAEG,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,uCACA;AAEG,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uCACA","ignoreList":[0]}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerLangSetter.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrganizerLangSetter = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrganizerLangSetter() from the server but OrganizerLangSetter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/organizador/OrganizerLangSetter.tsx <module evaluation>\",\n    \"OrganizerLangSetter\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,yEACA","ignoreList":[0]}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerLangSetter.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrganizerLangSetter = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrganizerLangSetter() from the server but OrganizerLangSetter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/organizador/OrganizerLangSetter.tsx\",\n    \"OrganizerLangSetter\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,qDACA","ignoreList":[0]}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerBreadcrumb.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrganizerBreadcrumb = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrganizerBreadcrumb() from the server but OrganizerBreadcrumb is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/organizador/OrganizerBreadcrumb.tsx <module evaluation>\",\n    \"OrganizerBreadcrumb\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,yEACA","ignoreList":[0]}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerBreadcrumb.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OrganizerBreadcrumb = registerClientReference(\n    function() { throw new Error(\"Attempted to call OrganizerBreadcrumb() from the server but OrganizerBreadcrumb is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/organizador/OrganizerBreadcrumb.tsx\",\n    \"OrganizerBreadcrumb\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,sBAAsB,IAAA,wQAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,qDACA","ignoreList":[0]}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/OrganizerShell.tsx"],"sourcesContent":["import { ReactNode, CSSProperties } from \"react\";\nimport { SidebarInset, SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { OrganizerLangSetter } from \"./OrganizerLangSetter\";\nimport { OrganizerBreadcrumb } from \"./OrganizerBreadcrumb\";\n\ntype OrganizerShellProps = {\n  children: ReactNode;\n  sidebar: ReactNode;\n  organizerLanguage: string;\n  organizerUsername?: string | null;\n  brandPrimary?: string;\n  brandSecondary?: string;\n};\n\nexport function OrganizerShell({\n  children,\n  sidebar,\n  organizerLanguage,\n  organizerUsername,\n  brandPrimary,\n  brandSecondary,\n}: OrganizerShellProps) {\n  return (\n    <SidebarProvider defaultOpen>\n      <div\n        className=\"orya-body-bg text-white flex min-h-screen items-stretch\"\n        style={\n          {\n            \"--brand-primary\": brandPrimary,\n            \"--brand-secondary\": brandSecondary,\n          } as CSSProperties\n        }\n      >\n        <OrganizerLangSetter language={organizerLanguage} />\n        {organizerUsername ? (\n          <script\n            dangerouslySetInnerHTML={{\n              __html: `try{sessionStorage.setItem(\"orya_last_organizer_username\",\"${organizerUsername}\");}catch(e){}`,\n            }}\n          />\n        ) : null}\n\n        {sidebar}\n\n        <SidebarInset>\n          <div className=\"sticky top-0 z-40 flex items-center gap-3 bg-[rgba(5,9,21,0.85)] px-4 py-3 backdrop-blur md:hidden\">\n            <SidebarTrigger />\n            <OrganizerBreadcrumb />\n          </div>\n          <div className=\"hidden lg:block mb-4\">\n            <div className=\"rounded-3xl border border-white/5 bg-[rgba(6,10,20,0.75)] backdrop-blur-xl px-4 py-3 md:px-6 md:py-4\">\n              <OrganizerBreadcrumb />\n            </div>\n          </div>\n          <main className=\"relative min-h-0 flex-1 overflow-y-auto pb-0 pt-0\">\n            <div className=\"px-4 py-4 md:px-6 lg:px-8 lg:py-6\">\n              <div className=\"relative isolate overflow-hidden\">\n                <div className=\"pointer-events-none absolute inset-0 -z-10\">\n                  <div className=\"absolute left-0 top-10 h-80 w-80 rounded-full bg-[radial-gradient(circle_at_center,rgba(255,0,200,0.08),rgba(12,18,36,0))]\" />\n                  <div className=\"absolute right-0 bottom-16 h-96 w-96 rounded-full bg-[radial-gradient(circle_at_center,rgba(107,255,255,0.10),rgba(5,9,21,0))]\" />\n                </div>\n                {children}\n              </div>\n            </div>\n          </main>\n        </SidebarInset>\n      </div>\n    </SidebarProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;AAWO,SAAS,eAAe,EAC7B,QAAQ,EACR,OAAO,EACP,iBAAiB,EACjB,iBAAiB,EACjB,YAAY,EACZ,cAAc,EACM;IACpB,qBACE,8OAAC,+IAAe;QAAC,WAAW;kBAC1B,cAAA,8OAAC;YACC,WAAU;YACV,OACE;gBACE,mBAAmB;gBACnB,qBAAqB;YACvB;;8BAGF,8OAAC,iKAAmB;oBAAC,UAAU;;;;;;gBAC9B,kCACC,8OAAC;oBACC,yBAAyB;wBACvB,QAAQ,CAAC,2DAA2D,EAAE,kBAAkB,cAAc,CAAC;oBACzG;;;;;2BAEA;gBAEH;8BAED,8OAAC,4IAAY;;sCACX,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,8IAAc;;;;;8CACf,8OAAC,iKAAmB;;;;;;;;;;;sCAEtB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,iKAAmB;;;;;;;;;;;;;;;sCAGxB,8OAAC;4BAAK,WAAU;sCACd,cAAA,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;;;;;8DACf,8OAAC;oDAAI,WAAU;;;;;;;;;;;;wCAEhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/prisma.ts"],"sourcesContent":["// lib/prisma.ts\nimport { Prisma, PrismaClient } from \"@prisma/client\";\nimport { PrismaPg } from \"@prisma/adapter-pg\";\nimport { Pool } from \"pg\";\nimport { env } from \"@/lib/env\";\n\n// Toggle de logs verbose (queries) via env: PRISMA_LOG_QUERIES=true\nconst enableQueryLog = process.env.PRISMA_LOG_QUERIES === \"true\";\nconst logLevels: (Prisma.LogLevel | Prisma.LogDefinition)[] =\n  process.env.NODE_ENV === \"development\"\n    ? enableQueryLog\n      ? [\"query\", \"error\", \"warn\"]\n      : [\"error\", \"warn\"]\n    : [\"error\"];\n\n// Evitar múltiplas instâncias em dev (hot reload)\nconst globalForPrisma = globalThis as unknown as {\n  prisma?: PrismaClient;\n};\n\n// Pool e adapter para usar o client engine (\"library\") com Postgres\nconst pool = new Pool({\n  connectionString: env.dbUrl,\n  ssl:\n    process.env.NODE_ENV === \"production\"\n      ? undefined\n      : { rejectUnauthorized: false },\n});\n\nconst adapter = new PrismaPg(pool);\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    adapter,\n    log: logLevels,\n  });\n\nif (process.env.NODE_ENV !== \"production\") {\n  globalForPrisma.prisma = prisma;\n}\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;;;;AAEhB;AACA;AACA;;;;;;;;;;AAEA,oEAAoE;AACpE,MAAM,iBAAiB,QAAQ,GAAG,CAAC,kBAAkB,KAAK;AAC1D,MAAM,YACJ,uCACI,iBACE;IAAC;IAAS;IAAS;CAAO,GAC1B;IAAC;IAAS;CAAO,GACnB;AAEN,kDAAkD;AAClD,MAAM,kBAAkB;AAIxB,oEAAoE;AACpE,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,iHAAG,CAAC,KAAK;IAC3B,KACE,sCACI,0BACA;QAAE,oBAAoB;IAAM;AACpC;AAEA,MAAM,UAAU,IAAI,8JAAQ,CAAC;AAEtB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,aAAa;IACf;IACA,KAAK;AACP;AAEF,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/organizerRoles.ts"],"sourcesContent":["import { OrganizerMemberRole, Prisma, PrismaClient } from \"@prisma/client\";\nimport { prisma } from \"@/lib/prisma\";\n\ntype TxLike = Prisma.TransactionClient | PrismaClient;\n\n/**\n * Garante unicidade de OWNER numa organização:\n * - promove/cria o utilizador como OWNER\n * - despromove todos os outros OWNER para CO_OWNER\n */\nexport async function setSoleOwner(\n  client: TxLike,\n  organizerId: number,\n  userId: string,\n  invitedByUserId?: string | null,\n) {\n  await client.organizerMember.upsert({\n    where: { organizerId_userId: { organizerId, userId } },\n    update: { role: OrganizerMemberRole.OWNER },\n    create: {\n      organizerId,\n      userId,\n      role: OrganizerMemberRole.OWNER,\n      invitedByUserId: invitedByUserId ?? undefined,\n    },\n  });\n\n  await client.organizerMember.updateMany({\n    where: { organizerId, role: OrganizerMemberRole.OWNER, userId: { not: userId } },\n    data: { role: OrganizerMemberRole.CO_OWNER },\n  });\n}\n\n/**\n * Marca o perfil como \"organizer\" no array de roles (idempotente).\n */\nexport async function ensureUserIsOrganizer(client: TxLike, userId: string) {\n  const targetProfile = await client.profile.findUnique({\n    where: { id: userId },\n    select: { roles: true },\n  });\n  if (!targetProfile) return;\n\n  const roles = Array.isArray(targetProfile.roles) ? targetProfile.roles : [];\n  if (!roles.includes(\"organizer\")) {\n    await client.profile.update({\n      where: { id: userId },\n      data: { roles: [...roles, \"organizer\"] },\n    });\n  }\n}\n\n/**\n * Wrapper que permite usar helper fora de transação quando necessário.\n */\nexport async function setSoleOwnerSafe(\n  organizerId: number,\n  userId: string,\n  invitedByUserId?: string | null,\n) {\n  return setSoleOwner(prisma, organizerId, userId, invitedByUserId);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AACA;;;;;;;AASO,eAAe,aACpB,MAAc,EACd,WAAmB,EACnB,MAAc,EACd,eAA+B;IAE/B,MAAM,OAAO,eAAe,CAAC,MAAM,CAAC;QAClC,OAAO;YAAE,oBAAoB;gBAAE;gBAAa;YAAO;QAAE;QACrD,QAAQ;YAAE,MAAM,oBAAoB,KAAK;QAAC;QAC1C,QAAQ;YACN;YACA;YACA,MAAM,oBAAoB,KAAK;YAC/B,iBAAiB,mBAAmB;QACtC;IACF;IAEA,MAAM,OAAO,eAAe,CAAC,UAAU,CAAC;QACtC,OAAO;YAAE;YAAa,MAAM,oBAAoB,KAAK;YAAE,QAAQ;gBAAE,KAAK;YAAO;QAAE;QAC/E,MAAM;YAAE,MAAM,oBAAoB,QAAQ;QAAC;IAC7C;AACF;AAKO,eAAe,sBAAsB,MAAc,EAAE,MAAc;IACxE,MAAM,gBAAgB,MAAM,OAAO,OAAO,CAAC,UAAU,CAAC;QACpD,OAAO;YAAE,IAAI;QAAO;QACpB,QAAQ;YAAE,OAAO;QAAK;IACxB;IACA,IAAI,CAAC,eAAe;IAEpB,MAAM,QAAQ,MAAM,OAAO,CAAC,cAAc,KAAK,IAAI,cAAc,KAAK,GAAG,EAAE;IAC3E,IAAI,CAAC,MAAM,QAAQ,CAAC,cAAc;QAChC,MAAM,OAAO,OAAO,CAAC,MAAM,CAAC;YAC1B,OAAO;gBAAE,IAAI;YAAO;YACpB,MAAM;gBAAE,OAAO;uBAAI;oBAAO;iBAAY;YAAC;QACzC;IACF;AACF;AAKO,eAAe,iBACpB,WAAmB,EACnB,MAAc,EACd,eAA+B;IAE/B,OAAO,aAAa,uHAAM,EAAE,aAAa,QAAQ;AACnD"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/organizerId.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport type { NextRequest } from \"next/server\";\n\nexport const ORGANIZER_COOKIE_NAME = \"orya_org\";\n\nexport function parseOrganizerId(value: unknown): number | null {\n  if (typeof value === \"number\") {\n    return Number.isFinite(value) && value > 0 ? value : null;\n  }\n  if (typeof value !== \"string\") return null;\n  const trimmed = value.trim();\n  if (!trimmed) return null;\n  const parsed = Number(trimmed);\n  return Number.isFinite(parsed) && parsed > 0 ? parsed : null;\n}\n\nexport async function resolveOrganizerIdFromCookies(): Promise<number | null> {\n  try {\n    const cookieStore = await cookies();\n    return parseOrganizerId(cookieStore.get(ORGANIZER_COOKIE_NAME)?.value);\n  } catch {\n    return null;\n  }\n}\n\nexport function resolveOrganizerIdFromRequest(req: NextRequest): number | null {\n  const params = req.nextUrl.searchParams;\n  const paramValue = params.get(\"organizerId\") ?? params.get(\"org\");\n  return parseOrganizerId(paramValue) ?? parseOrganizerId(req.cookies.get(ORGANIZER_COOKIE_NAME)?.value);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGO,MAAM,wBAAwB;AAE9B,SAAS,iBAAiB,KAAc;IAC7C,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,OAAO,QAAQ,CAAC,UAAU,QAAQ,IAAI,QAAQ;IACvD;IACA,IAAI,OAAO,UAAU,UAAU,OAAO;IACtC,MAAM,UAAU,MAAM,IAAI;IAC1B,IAAI,CAAC,SAAS,OAAO;IACrB,MAAM,SAAS,OAAO;IACtB,OAAO,OAAO,QAAQ,CAAC,WAAW,SAAS,IAAI,SAAS;AAC1D;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,OAAO,iBAAiB,YAAY,GAAG,CAAC,wBAAwB;IAClE,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS,8BAA8B,GAAgB;IAC5D,MAAM,SAAS,IAAI,OAAO,CAAC,YAAY;IACvC,MAAM,aAAa,OAAO,GAAG,CAAC,kBAAkB,OAAO,GAAG,CAAC;IAC3D,OAAO,iBAAiB,eAAe,iBAAiB,IAAI,OAAO,CAAC,GAAG,CAAC,wBAAwB;AAClG"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/lib/organizerContext.ts"],"sourcesContent":["import { OrganizerMemberRole } from \"@prisma/client\";\nimport { prisma } from \"@/lib/prisma\";\nimport { ensureUserIsOrganizer } from \"@/lib/organizerRoles\";\nimport { resolveOrganizerIdFromCookies } from \"@/lib/organizerId\";\n\ntype Options = {\n  organizerId?: number | null;\n  roles?: OrganizerMemberRole[];\n  // Se quisermos forçar leitura de cookie, basta passar organizerId externamente\n};\n\nexport async function ensureLegacyOrganizerMemberships(userId: string, organizerId?: number | null) {\n  if (!userId) return 0;\n\n  const legacyOrganizers = await prisma.organizer.findMany({\n    where: {\n      userId,\n      ...(Number.isFinite(organizerId) ? { id: organizerId! } : {}),\n    },\n    select: { id: true },\n  });\n\n  if (legacyOrganizers.length === 0) return 0;\n\n  try {\n    await prisma.$transaction(async (tx) => {\n      for (const organizer of legacyOrganizers) {\n        await tx.organizerMember.upsert({\n          where: {\n            organizerId_userId: {\n              organizerId: organizer.id,\n              userId,\n            },\n          },\n          update: { role: OrganizerMemberRole.OWNER },\n          create: {\n            organizerId: organizer.id,\n            userId,\n            role: OrganizerMemberRole.OWNER,\n          },\n        });\n      }\n\n      await ensureUserIsOrganizer(tx, userId);\n    });\n  } catch (err: unknown) {\n    const msg =\n      typeof err === \"object\" && err && \"message\" in err ? String((err as { message?: unknown }).message) : \"\";\n    if (msg.includes(\"does not exist\") || msg.includes(\"organizer_members\")) {\n      return 0;\n    }\n    throw err;\n  }\n\n  return legacyOrganizers.length;\n}\n\nexport async function getActiveOrganizerForUser(userId: string, opts: Options = {}) {\n  const { roles } = opts;\n  const directOrganizerId =\n    typeof opts.organizerId === \"number\" && Number.isFinite(opts.organizerId)\n      ? opts.organizerId\n      : null;\n  const cookieOrganizerId = directOrganizerId ? null : await resolveOrganizerIdFromCookies();\n  const organizerId = directOrganizerId ?? cookieOrganizerId;\n\n  // 1) Se organizerId foi especificado, tenta buscar diretamente essa membership primeiro\n  if (organizerId) {\n    const direct = await prisma.organizerMember.findFirst({\n      where: {\n        userId,\n        organizerId,\n        ...(roles ? { role: { in: roles } } : {}),\n        organizer: { status: \"ACTIVE\" },\n      },\n      include: { organizer: true },\n    });\n    if (direct?.organizer) {\n      return { organizer: direct.organizer, membership: direct };\n    }\n\n    const legacyFixed = await ensureLegacyOrganizerMemberships(userId, organizerId);\n    if (legacyFixed > 0) {\n      const retry = await prisma.organizerMember.findFirst({\n        where: {\n          userId,\n          organizerId,\n          ...(roles ? { role: { in: roles } } : {}),\n          organizer: { status: \"ACTIVE\" },\n        },\n        include: { organizer: true },\n      });\n      if (retry?.organizer) {\n        return { organizer: retry.organizer, membership: retry };\n      }\n    }\n    // Se o organizerId foi pedido explicitamente e não existe membership, não faz fallback.\n    return { organizer: null, membership: null };\n  }\n\n  let memberships = await prisma.organizerMember.findMany({\n    where: {\n      userId,\n      ...(roles ? { role: { in: roles } } : {}),\n      organizer: { status: \"ACTIVE\" },\n    },\n    include: { organizer: true },\n    orderBy: [{ lastUsedAt: \"desc\" }, { createdAt: \"asc\" }],\n  });\n\n  if (memberships.length === 0) {\n    const legacyFixed = await ensureLegacyOrganizerMemberships(userId);\n    if (legacyFixed > 0) {\n      memberships = await prisma.organizerMember.findMany({\n        where: {\n          userId,\n          ...(roles ? { role: { in: roles } } : {}),\n          organizer: { status: \"ACTIVE\" },\n        },\n        include: { organizer: true },\n        orderBy: [{ lastUsedAt: \"desc\" }, { createdAt: \"asc\" }],\n      });\n    }\n  }\n\n  if (memberships && memberships.length > 0) {\n    if (memberships.length > 1) {\n      return { organizer: null, membership: null };\n    }\n    const selected = memberships[0];\n    if (selected?.organizer) {\n      return { organizer: selected.organizer, membership: selected };\n    }\n  }\n\n  return { organizer: null, membership: null };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 750, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/organizerShellData.ts"],"sourcesContent":["import { createSupabaseServer } from \"@/lib/supabaseServer\";\nimport { getActiveOrganizerForUser } from \"@/lib/organizerContext\";\nimport { prisma } from \"@/lib/prisma\";\n\ntype OrganizationSwitcherOption = {\n  organizerId: number;\n  role: string;\n  organizer: {\n    id: number;\n    username: string | null;\n    publicName: string | null;\n    businessName: string | null;\n    city: string | null;\n    entityType: string | null;\n    organizationKind?: string | null;\n    organizationCategory?: string | null;\n    status: string | null;\n    brandingAvatarUrl?: string | null;\n    brandingPrimaryColor?: string | null;\n    brandingSecondaryColor?: string | null;\n    language?: string | null;\n  };\n};\n\ntype ShellUserInfo = {\n  id: string;\n  name: string | null;\n  email: string | null;\n  avatarUrl: string | null;\n};\n\ntype ActiveOrgLite = {\n  id: number;\n  name: string;\n  username: string | null;\n  avatarUrl: string | null;\n  organizationKind?: string | null;\n  organizationCategory?: string | null;\n};\n\nexport type OrganizerShellData = {\n  userInfo: ShellUserInfo | null;\n  orgOptions: OrganizationSwitcherOption[];\n  activeOrgLite: ActiveOrgLite | null;\n  brandPrimary?: string;\n  brandSecondary?: string;\n  organizerUsername?: string | null;\n  organizerLanguage: string;\n};\n\nexport async function getOrganizerShellData(): Promise<OrganizerShellData | null> {\n  const supabase = await createSupabaseServer();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (!user) return null;\n\n  let currentId: number | null = null;\n  let orgOptions: OrganizationSwitcherOption[] = [];\n  let activeOrganizer: OrganizationSwitcherOption[\"organizer\"] | null = null;\n  let profile: { fullName: string | null; username: string | null; avatarUrl: string | null } | null = null;\n\n  try {\n    profile = await prisma.profile.findUnique({\n      where: { id: user.id },\n      select: { fullName: true, username: true, avatarUrl: true },\n    });\n  } catch {\n    profile = null;\n  }\n\n  try {\n    const { organizer, membership } = await getActiveOrganizerForUser(user.id);\n    currentId = organizer?.id ?? null;\n    if (organizer && membership) {\n      activeOrganizer = {\n        id: organizer.id,\n        publicName: organizer.publicName,\n        businessName: organizer.businessName,\n        username: (organizer as { username?: string | null }).username ?? null,\n        brandingAvatarUrl: (organizer as { brandingAvatarUrl?: string | null }).brandingAvatarUrl ?? null,\n        brandingPrimaryColor: (organizer as { brandingPrimaryColor?: string | null }).brandingPrimaryColor ?? null,\n        brandingSecondaryColor: (organizer as { brandingSecondaryColor?: string | null }).brandingSecondaryColor ?? null,\n        organizationKind: (organizer as { organizationKind?: string | null }).organizationKind ?? null,\n        organizationCategory: (organizer as { organizationCategory?: string | null }).organizationCategory ?? null,\n        city: (organizer as { city?: string | null }).city ?? null,\n        entityType: (organizer as { entityType?: string | null }).entityType ?? null,\n        status: organizer.status ?? null,\n        language: (organizer as { language?: string | null }).language ?? null,\n      };\n    }\n  } catch {\n    currentId = null;\n  }\n\n  try {\n    const memberships = await prisma.organizerMember.findMany({\n      where: { userId: user.id },\n      include: { organizer: true },\n      orderBy: [{ lastUsedAt: \"desc\" }, { createdAt: \"asc\" }],\n    });\n\n    orgOptions = memberships\n      .filter((m) => m.organizer)\n      .map((m) => ({\n        organizerId: m.organizerId,\n        role: m.role,\n        organizer: {\n          id: m.organizer!.id,\n          username: m.organizer!.username,\n          publicName: m.organizer!.publicName,\n          businessName: m.organizer!.businessName,\n          city: m.organizer!.city,\n          entityType: m.organizer!.entityType,\n          organizationKind: (m.organizer as { organizationKind?: string | null }).organizationKind ?? null,\n          organizationCategory: (m.organizer as { organizationCategory?: string | null }).organizationCategory ?? null,\n          status: m.organizer!.status,\n          brandingAvatarUrl: (m.organizer as { brandingAvatarUrl?: string | null }).brandingAvatarUrl ?? null,\n          brandingPrimaryColor: (m.organizer as { brandingPrimaryColor?: string | null }).brandingPrimaryColor ?? null,\n          brandingSecondaryColor: (m.organizer as { brandingSecondaryColor?: string | null }).brandingSecondaryColor ?? null,\n          language: (m.organizer as { language?: string | null }).language ?? null,\n        },\n      }));\n  } catch (err: unknown) {\n    const msg =\n      typeof err === \"object\" && err && \"message\" in err ? String((err as { message?: unknown }).message) : \"\";\n    if (!(msg.includes(\"does not exist\") || msg.includes(\"organizer_members\"))) {\n      throw err;\n    }\n  }\n\n  const organizerName =\n    activeOrganizer?.publicName || activeOrganizer?.businessName || \"Organizador\";\n  const organizerAvatarUrl = activeOrganizer?.brandingAvatarUrl ?? null;\n  const organizerUsername = activeOrganizer?.username ?? null;\n  const brandPrimary = activeOrganizer?.brandingPrimaryColor ?? undefined;\n  const brandSecondary = activeOrganizer?.brandingSecondaryColor ?? undefined;\n  const organizerLanguage = activeOrganizer?.language ?? \"pt\";\n\n  const userInfo: ShellUserInfo = {\n    id: user.id,\n    name: profile?.fullName || profile?.username || user.email || null,\n    email: user.email ?? null,\n    avatarUrl: profile?.avatarUrl ?? null,\n  };\n\n  const activeOrgLite = activeOrganizer\n    ? {\n        id: activeOrganizer.id,\n        name: organizerName,\n        username: organizerUsername,\n        avatarUrl: organizerAvatarUrl,\n        organizationKind: activeOrganizer.organizationKind ?? null,\n        organizationCategory: activeOrganizer.organizationCategory ?? null,\n      }\n    : currentId\n      ? {\n          id: currentId,\n          name: organizerName,\n          username: organizerUsername ?? null,\n          avatarUrl: organizerAvatarUrl,\n          organizationKind: null,\n          organizationCategory: null,\n        }\n      : null;\n\n  return {\n    userInfo,\n    orgOptions,\n    activeOrgLite,\n    brandPrimary,\n    brandSecondary,\n    organizerUsername,\n    organizerLanguage,\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///Users/nuno/orya/ORYA-WebApp/app/organizador/%28dashboard%29/layout.tsx"],"sourcesContent":["export const runtime = \"nodejs\";\n\nimport { ReactNode } from \"react\";\nimport { redirect } from \"next/navigation\";\nimport { AppSidebar } from \"@/components/app-sidebar\";\nimport { OrganizerShell } from \"@/app/organizador/OrganizerShell\";\nimport { getOrganizerShellData } from \"@/app/organizador/organizerShellData\";\n\n/**\n * Layout do dashboard do organizador (sidebar + topbar com shadcn-like shell).\n * Não contém lógica de autenticação; isso é tratado no layout pai /organizador.\n * Busca o organizer ativo no server para alimentar o switcher e reduzir fetches client.\n */\nexport default async function OrganizerDashboardLayout({ children }: { children: ReactNode }) {\n  const shell = await getOrganizerShellData();\n  if (!shell) {\n    redirect(\"/login?next=/organizador\");\n  }\n\n  return (\n    <OrganizerShell\n      organizerLanguage={shell.organizerLanguage}\n      organizerUsername={shell.organizerUsername ?? null}\n      brandPrimary={shell.brandPrimary}\n      brandSecondary={shell.brandSecondary}\n      sidebar={\n        <AppSidebar\n          activeOrg={shell.activeOrgLite}\n          orgOptions={shell.orgOptions}\n          user={shell.userInfo}\n        />\n      }\n    >\n      {children}\n    </OrganizerShell>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AACA;AACA;AACA;;;;;;AANO,MAAM,UAAU;;;;;AAaR,eAAe,yBAAyB,EAAE,QAAQ,EAA2B;IAC1F,MAAM,QAAQ,MAAM,IAAA,iKAAqB;IACzC,IAAI,CAAC,OAAO;QACV,IAAA,iMAAQ,EAAC;IACX;IAEA,qBACE,8OAAC,uJAAc;QACb,mBAAmB,MAAM,iBAAiB;QAC1C,mBAAmB,MAAM,iBAAiB,IAAI;QAC9C,cAAc,MAAM,YAAY;QAChC,gBAAgB,MAAM,cAAc;QACpC,uBACE,8OAAC,2IAAU;YACT,WAAW,MAAM,aAAa;YAC9B,YAAY,MAAM,UAAU;YAC5B,MAAM,MAAM,QAAQ;;;;;;kBAIvB;;;;;;AAGP"}}]
}