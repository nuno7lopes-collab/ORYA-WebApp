# Admin Infra Tab (read-only) â€” 2026-02-01

## Scope
- Read-only overview: **Custos**, **Uso**, **Alertas**.
- AWS SDK v3 only (no AWS CLI runtime dependency).
- Read-only enforced by default via `NEXT_PUBLIC_INFRA_READ_ONLY=true`.

## UI
- Page: `/admin/infra`
- Component: `app/admin/infra/InfraClient.tsx`
- Sections:
  - **Custos** (Cost Explorer MTD + daily + by service)
  - **Uso** (ECS clusters/services + ALB list)
  - **Alertas** (Budgets + CloudWatch alarms)

## Endpoints (SDK v3)
- `GET /api/admin/infra/cost/summary`
  - Primary: Cost Explorer (region `us-east-1`)
  - Fallback: Budgets (global) if Cost Explorer disabled or unavailable
- `GET /api/admin/infra/usage/summary` (ECS + ELBv2)
- `GET /api/admin/infra/alerts/status` (Budgets + CloudWatch)
- `GET /api/admin/infra/status` (CloudFormation + ECS service status)

## Evidence
- Files:
  - `app/admin/infra/page.tsx`
  - `app/admin/infra/InfraClient.tsx`
  - `app/api/admin/infra/cost/summary/route.ts`
  - `app/api/admin/infra/usage/summary/route.ts`
  - `app/api/admin/infra/alerts/status/route.ts`
  - `app/api/admin/infra/status/route.ts`
  - `lib/awsSdk.ts`

## Notes
- If Cost Explorer is not enabled, the API responds with Budget fallback and a note.
- Screenshot: capture manually from `/admin/infra` once logged in (read-only view).
