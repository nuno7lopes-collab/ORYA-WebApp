id,phase,priority,category,title,scope,evidence,impact,proposed_fix
A1,A,P0,Schema/DB,Resolve Prisma <-> migrations drift (185 columns in migrations not in schema),"DB, backend",reports/audit-schema-drift.md (migrations-not-schema list),Unknown columns/tables in DB can hide legacy behavior and block refactors,Inventory each drifted column/table; decide drop vs re-model; add explicit migrations or schema updates.
A2,A,P0,Schema/DB,Validate columns with null_frac>=0.98 (possible dead fields),"DB, backend",reports/audit-db-stats.md (high null fraction list),"Likely unused/legacy columns, schema noise and maintenance cost",For each column: confirm usage in code + product need; schedule removal or implement feature.
A3,A,P1,DB,Review unused indexes (idx_scan=0) and drop if safe,DB,reports/audit-db-stats.md (unused indexes list),Unneeded write overhead; index bloat,Check query plans in prod; drop or consolidate indexes.
A4,A,P1,Backend/API,Legacy access policy payloads still supported,Backend,lib/events/accessPolicy.ts (legacy payload handling),Complexity + risk of inconsistent access control,Deprecate legacy fields; migrate data; remove legacy inference.
A5,A,P1,Backend/API,Legacy response envelope compatibility,Backend,lib/http/envelope.ts (legacy ok/error normalization),"Hidden tech debt, ambiguous payloads",Remove legacy normalization once all endpoints follow v9 envelope.
A6,A,P2,Backend,Deprecated org context & permission helpers still referenced,Backend,"lib/organizationContext.ts, lib/organizationPermissions.ts comments",Inconsistent permission resolution,Track usages; migrate to new helpers; delete deprecated paths.
A7,A,P2,Backend,Padel legacy fulfillment paths still present,Backend,"lib/operations/fulfillPadelSplit.ts, fulfillPadelFull.ts",Dead code + confusing ops flow,Remove disabled legacy flows or replace with new pipeline.
A8,A,P2,Frontend,Legacy theme migration path in runtime,Frontend,lib/theme/runtime.ts (LEGACY_THEME_STORAGE_KEY),Extra code path + storage complexity,Sunset legacy storage after telemetry cut; remove migration.
B1,B,P1,Chat,"Chat columns mostly null (muted_until, edited_at, reply_to_id, deleted_at, description, legal_hold_until)","DB, backend",reports/audit-db-stats.md chat section,Unimplemented features or stale schema,Decide feature roadmap; drop columns or implement edit/reply/mute/soft-delete.
B2,B,P2,Chat,Potential unused field chat_messages.deleted_by,"DB, backend",reports/audit-usage-map.csv (zero refs),Legacy or unused data,Confirm in code & DB; remove if unused.
B3,B,P1,Store,"Store product dimension fields unused (weight_grams, length_mm, width_mm, height_mm)","DB, backend, frontend",reports/audit-usage-map.csv (zero refs),Unused schema and UI gaps for shipping,Either implement shipping dimensions or drop columns and related UI.
B4,B,P1,Events,"Event override fields always null (fee_mode_override, platform_fee_*_override, location_overrides, address_id, live_stream_url)","DB, backend",reports/audit-db-stats.md high-null list,"Legacy or unfinished features, potential confusion in pricing/location logic",Confirm requirement; remove or implement with migrations.
B5,B,P2,Entitlements,Entitlements fields null (tournament_id/season_id/ticket_id/policy_version_applied),"DB, backend",reports/audit-db-stats.md high-null list,Over-modeled entitlements or missing integrations,Check entitlement creation paths; remove unused columns or wire flows.
C1,C,P1,Infra,Placeholder/templating proliferation in infra configs,Infra,reports/audit-infra.md,Risk of misconfigured deploys; drift between dev/ecs templates,Standardize templates + add CI validation for unresolved placeholders.
C2,C,P2,Scripts,Legacy/cleanup scripts not clearly versioned or gated,Ops,reports/audit-inventory.md hotspots in scripts/,Risky manual ops; inconsistent data hygiene,"Group scripts by phase, add read-only defaults and safety flags."
